/*! For license information please see main.6355f5da.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,r)=>{e.exports=r(202)},153:(e,t,r)=>{var s=r(43),a=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var s,n={},c=null,d=null;for(s in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,s)&&!o.hasOwnProperty(s)&&(n[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps)void 0===n[s]&&(n[s]=t[s]);return{$$typeof:a,type:e,key:c,ref:d,props:n,_owner:l.current}}t.Fragment=n,t.jsx=c,t.jsxs=c},202:(e,t)=>{var r=Symbol.for("react.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,p={};function f(e,t,r){this.props=e,this.context=t,this.refs=p,this.updater=r||g}function y(){}function b(e,t,r){this.props=e,this.context=t,this.refs=p,this.updater=r||g}f.prototype.isReactComponent={},f.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},f.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=f.prototype;var v=b.prototype=new y;v.constructor=b,x(v,f.prototype),v.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,k={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,s){var a,n={},i=null,l=null;if(null!=t)for(a in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)j.call(t,a)&&!N.hasOwnProperty(a)&&(n[a]=t[a]);var o=arguments.length-2;if(1===o)n.children=s;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];n.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps)void 0===n[a]&&(n[a]=o[a]);return{$$typeof:r,type:e,key:i,ref:l,props:n,_owner:k.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var C=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,a,n,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var o=!1;if(null===e)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case r:case s:o=!0}}if(o)return i=i(o=e),e=""===n?"."+E(o,0):n,w(i)?(a="",null!=e&&(a=e.replace(C,"$&/")+"/"),P(i,t,a,"",function(e){return e})):null!=i&&(_(i)&&(i=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(C,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=""===n?".":n+":",w(e))for(var c=0;c<e.length;c++){var d=n+E(l=e[c],c);o+=P(l,t,a,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(l=e.next()).done;)o+=P(l=l.value,t,a,d=n+E(l,c++),i);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function A(e,t,r){if(null==e)return e;var s=[],a=0;return P(e,s,"","",function(e){return t.call(r,e,a++)}),s}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},O={transition:null},T={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:O,ReactCurrentOwner:k};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,r){A(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=f,t.Fragment=a,t.Profiler=i,t.PureComponent=b,t.StrictMode=n,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T,t.act=M,t.cloneElement=function(e,t,s){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=x({},e.props),n=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=k.current),void 0!==t.key&&(n=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)j.call(t,c)&&!N.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=s;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];a.children=o}return{$$typeof:r,type:e.type,key:n,ref:i,props:a,_owner:l}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,r){return I.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,r){return I.current.useReducer(e,t,r)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return I.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var s=r-1>>>1,a=e[s];if(!(0<n(a,t)))break e;e[s]=t,e[r]=a,r=s}}function s(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var s=0,a=e.length,i=a>>>1;s<i;){var l=2*(s+1)-1,o=e[l],c=l+1,d=e[c];if(0>n(o,r))c<a&&0>n(d,o)?(e[s]=d,e[c]=r,s=c):(e[s]=o,e[l]=r,s=l);else{if(!(c<a&&0>n(d,r)))break e;e[s]=d,e[c]=r,s=c}}}return t}function n(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,h=null,m=3,g=!1,x=!1,p=!1,f="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=s(d);null!==t;){if(null===t.callback)a(d);else{if(!(t.startTime<=e))break;a(d),t.sortIndex=t.expirationTime,r(c,t)}t=s(d)}}function w(e){if(p=!1,v(e),!x)if(null!==s(c))x=!0,O(j);else{var t=s(d);null!==t&&T(w,t.startTime-e)}}function j(e,r){x=!1,p&&(p=!1,y(_),_=-1),g=!0;var n=m;try{for(v(r),h=s(c);null!==h&&(!(h.expirationTime>r)||e&&!P());){var i=h.callback;if("function"===typeof i){h.callback=null,m=h.priorityLevel;var l=i(h.expirationTime<=r);r=t.unstable_now(),"function"===typeof l?h.callback=l:h===s(c)&&a(c),v(r)}else a(c);h=s(c)}if(null!==h)var o=!0;else{var u=s(d);null!==u&&T(w,u.startTime-r),o=!1}return o}finally{h=null,m=n,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,N=!1,S=null,_=-1,C=5,E=-1;function P(){return!(t.unstable_now()-E<C)}function A(){if(null!==S){var e=t.unstable_now();E=e;var r=!0;try{r=S(!0,e)}finally{r?k():(N=!1,S=null)}}else N=!1}if("function"===typeof b)k=function(){b(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,I=R.port2;R.port1.onmessage=A,k=function(){I.postMessage(null)}}else k=function(){f(A,0)};function O(e){S=e,N||(N=!0,k())}function T(e,r){_=f(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,O(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return s(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var r=m;m=t;try{return e()}finally{m=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=m;m=e;try{return t()}finally{m=r}},t.unstable_scheduleCallback=function(e,a,n){var i=t.unstable_now();switch("object"===typeof n&&null!==n?n="number"===typeof(n=n.delay)&&0<n?i+n:i:n=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:a,priorityLevel:e,startTime:n,expirationTime:l=n+l,sortIndex:-1},n>i?(e.sortIndex=n,r(d,e),null===s(c)&&e===s(d)&&(p?(y(_),_=-1):p=!0,T(w,n-i))):(e.sortIndex=l,r(c,e),x||g||(x=!0,O(j))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=m;return function(){var r=m;m=t;try{return e.apply(this,arguments)}finally{m=r}}}},391:(e,t,r)=>{var s=r(950);t.createRoot=s.createRoot,t.hydrateRoot=s.hydrateRoot},472:(e,t,r)=>{r.r(t),r.d(t,{authAPI:()=>St,cartAPI:()=>Pt,categoriesAPI:()=>It,default:()=>Vt,inquiryAPI:()=>Ft,messagesAPI:()=>Mt,notificationAPI:()=>Ut,notificationsAPI:()=>Lt,ordersAPI:()=>At,paymentsAPI:()=>Rt,productVariantsAPI:()=>Bt,productsAPI:()=>Ct,reviewsAPI:()=>Ot,shopsAPI:()=>Et,userAPI:()=>_t,userProfileAPI:()=>Dt,wishlistAPI:()=>Tt});var s={};function a(e,t){return function(){return e.apply(t,arguments)}}r.r(s),r.d(s,{hasBrowserEnv:()=>ce,hasStandardBrowserEnv:()=>ue,hasStandardBrowserWebWorkerEnv:()=>he,navigator:()=>de,origin:()=>me});const{toString:n}=Object.prototype,{getPrototypeOf:i}=Object,{iterator:l,toStringTag:o}=Symbol,c=(d=Object.create(null),e=>{const t=n.call(e);return d[t]||(d[t]=t.slice(8,-1).toLowerCase())});var d;const u=e=>(e=e.toLowerCase(),t=>c(t)===e),h=e=>t=>typeof t===e,{isArray:m}=Array,g=h("undefined");function x(e){return null!==e&&!g(e)&&null!==e.constructor&&!g(e.constructor)&&y(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const p=u("ArrayBuffer");const f=h("string"),y=h("function"),b=h("number"),v=e=>null!==e&&"object"===typeof e,w=e=>{if("object"!==c(e))return!1;const t=i(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(o in e)&&!(l in e)},j=u("Date"),k=u("File"),N=u("Blob"),S=u("FileList"),_=u("URLSearchParams"),[C,E,P,A]=["ReadableStream","Request","Response","Headers"].map(u);function R(e,t){let r,s,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),m(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(x(e))return;const s=a?Object.getOwnPropertyNames(e):Object.keys(e),n=s.length;let i;for(r=0;r<n;r++)i=s[r],t.call(null,e[i],i,e)}}function I(e,t){if(x(e))return null;t=t.toLowerCase();const r=Object.keys(e);let s,a=r.length;for(;a-- >0;)if(s=r[a],t===s.toLowerCase())return s;return null}const O="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,T=e=>!g(e)&&e!==O;const M=(L="undefined"!==typeof Uint8Array&&i(Uint8Array),e=>L&&e instanceof L);var L;const D=u("HTMLFormElement"),F=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),U=u("RegExp"),B=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),s={};R(r,(r,a)=>{let n;!1!==(n=t(r,a,e))&&(s[a]=n||r)}),Object.defineProperties(e,s)};const V=u("AsyncFunction"),z=((e,t)=>{return e?setImmediate:t?(r=`axios@${Math.random()}`,s=[],O.addEventListener("message",e=>{let{source:t,data:a}=e;t===O&&a===r&&s.length&&s.shift()()},!1),e=>{s.push(e),O.postMessage(r,"*")}):e=>setTimeout(e);var r,s})("function"===typeof setImmediate,y(O.postMessage)),$="undefined"!==typeof queueMicrotask?queueMicrotask.bind(O):"undefined"!==typeof process&&process.nextTick||z,W={isArray:m,isArrayBuffer:p,isBuffer:x,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||y(e.append)&&("formdata"===(t=c(e))||"object"===t&&y(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&p(e.buffer),t},isString:f,isNumber:b,isBoolean:e=>!0===e||!1===e,isObject:v,isPlainObject:w,isEmptyObject:e=>{if(!v(e)||x(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(t){return!1}},isReadableStream:C,isRequest:E,isResponse:P,isHeaders:A,isUndefined:g,isDate:j,isFile:k,isBlob:N,isRegExp:U,isFunction:y,isStream:e=>v(e)&&y(e.pipe),isURLSearchParams:_,isTypedArray:M,isFileList:S,forEach:R,merge:function e(){const{caseless:t}=T(this)&&this||{},r={},s=(s,a)=>{const n=t&&I(r,a)||a;w(r[n])&&w(s)?r[n]=e(r[n],s):w(s)?r[n]=e({},s):m(s)?r[n]=s.slice():r[n]=s};for(let a=0,n=arguments.length;a<n;a++)arguments[a]&&R(arguments[a],s);return r},extend:function(e,t,r){let{allOwnKeys:s}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return R(t,(t,s)=>{r&&y(t)?e[s]=a(t,r):e[s]=t},{allOwnKeys:s}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,s)=>{let a,n,l;const o={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),n=a.length;n-- >0;)l=a[n],s&&!s(l,e,t)||o[l]||(t[l]=e[l],o[l]=!0);e=!1!==r&&i(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:c,kindOfTest:u,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const s=e.indexOf(t,r);return-1!==s&&s===r},toArray:e=>{if(!e)return null;if(m(e))return e;let t=e.length;if(!b(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[l]).call(e);let s;for(;(s=r.next())&&!s.done;){const r=s.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const s=[];for(;null!==(r=e.exec(t));)s.push(r);return s},isHTMLForm:D,hasOwnProperty:F,hasOwnProp:F,reduceDescriptors:B,freezeMethods:e=>{B(e,(t,r)=>{if(y(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const s=e[r];y(s)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))})},toObjectSet:(e,t)=>{const r={},s=e=>{e.forEach(e=>{r[e]=!0})};return m(e)?s(e):s(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:I,global:O,isContextDefined:T,isSpecCompliantForm:function(e){return!!(e&&y(e.append)&&"FormData"===e[o]&&e[l])},toJSONObject:e=>{const t=new Array(10),r=(e,s)=>{if(v(e)){if(t.indexOf(e)>=0)return;if(x(e))return e;if(!("toJSON"in e)){t[s]=e;const a=m(e)?[]:{};return R(e,(e,t)=>{const n=r(e,s+1);!g(n)&&(a[t]=n)}),t[s]=void 0,a}}return e};return r(e,0)},isAsyncFn:V,isThenable:e=>e&&(v(e)||y(e))&&y(e.then)&&y(e.catch),setImmediate:z,asap:$,isIterable:e=>null!=e&&y(e[l])};function H(e,t,r,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}W.inherits(H,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:W.toJSONObject(this.config),code:this.code,status:this.status}}});const q=H.prototype,Y={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Y[e]={value:e}}),Object.defineProperties(H,Y),Object.defineProperty(q,"isAxiosError",{value:!0}),H.from=(e,t,r,s,a,n)=>{const i=Object.create(q);return W.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),H.call(i,e.message,t,r,s,a),i.cause=e,i.name=e.name,n&&Object.assign(i,n),i};const K=H;function G(e){return W.isPlainObject(e)||W.isArray(e)}function Q(e){return W.endsWith(e,"[]")?e.slice(0,-2):e}function Z(e,t,r){return e?e.concat(t).map(function(e,t){return e=Q(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}const J=W.toFlatObject(W,{},null,function(e){return/^is[A-Z]/.test(e)});const X=function(e,t,r){if(!W.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const s=(r=W.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!W.isUndefined(t[e])})).metaTokens,a=r.visitor||c,n=r.dots,i=r.indexes,l=(r.Blob||"undefined"!==typeof Blob&&Blob)&&W.isSpecCompliantForm(t);if(!W.isFunction(a))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(W.isDate(e))return e.toISOString();if(W.isBoolean(e))return e.toString();if(!l&&W.isBlob(e))throw new K("Blob is not supported. Use a Buffer instead.");return W.isArrayBuffer(e)||W.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,a){let l=e;if(e&&!a&&"object"===typeof e)if(W.endsWith(r,"{}"))r=s?r:r.slice(0,-2),e=JSON.stringify(e);else if(W.isArray(e)&&function(e){return W.isArray(e)&&!e.some(G)}(e)||(W.isFileList(e)||W.endsWith(r,"[]"))&&(l=W.toArray(e)))return r=Q(r),l.forEach(function(e,s){!W.isUndefined(e)&&null!==e&&t.append(!0===i?Z([r],s,n):null===i?r:r+"[]",o(e))}),!1;return!!G(e)||(t.append(Z(a,r,n),o(e)),!1)}const d=[],u=Object.assign(J,{defaultVisitor:c,convertValue:o,isVisitable:G});if(!W.isObject(e))throw new TypeError("data must be an object");return function e(r,s){if(!W.isUndefined(r)){if(-1!==d.indexOf(r))throw Error("Circular reference detected in "+s.join("."));d.push(r),W.forEach(r,function(r,n){!0===(!(W.isUndefined(r)||null===r)&&a.call(t,r,W.isString(n)?n.trim():n,s,u))&&e(r,s?s.concat(n):[n])}),d.pop()}}(e),t};function ee(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function te(e,t){this._pairs=[],e&&X(e,this,t)}const re=te.prototype;re.append=function(e,t){this._pairs.push([e,t])},re.toString=function(e){const t=e?function(t){return e.call(this,t,ee)}:ee;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const se=te;function ae(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ne(e,t,r){if(!t)return e;const s=r&&r.encode||ae;W.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let n;if(n=a?a(t,r):W.isURLSearchParams(t)?t.toString():new se(t,r).toString(s),n){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}const ie=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){W.forEach(this.handlers,function(t){null!==t&&e(t)})}},le={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},oe={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:se,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ce="undefined"!==typeof window&&"undefined"!==typeof document,de="object"===typeof navigator&&navigator||void 0,ue=ce&&(!de||["ReactNative","NativeScript","NS"].indexOf(de.product)<0),he="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,me=ce&&window.location.href||"http://localhost",ge={...s,...oe};const xe=function(e){function t(e,r,s,a){let n=e[a++];if("__proto__"===n)return!0;const i=Number.isFinite(+n),l=a>=e.length;if(n=!n&&W.isArray(s)?s.length:n,l)return W.hasOwnProp(s,n)?s[n]=[s[n],r]:s[n]=r,!i;s[n]&&W.isObject(s[n])||(s[n]=[]);return t(e,r,s[n],a)&&W.isArray(s[n])&&(s[n]=function(e){const t={},r=Object.keys(e);let s;const a=r.length;let n;for(s=0;s<a;s++)n=r[s],t[n]=e[n];return t}(s[n])),!i}if(W.isFormData(e)&&W.isFunction(e.entries)){const r={};return W.forEachEntry(e,(e,s)=>{t(function(e){return W.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),s,r,0)}),r}return null};const pe={transitional:le,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",s=r.indexOf("application/json")>-1,a=W.isObject(e);a&&W.isHTMLForm(e)&&(e=new FormData(e));if(W.isFormData(e))return s?JSON.stringify(xe(e)):e;if(W.isArrayBuffer(e)||W.isBuffer(e)||W.isStream(e)||W.isFile(e)||W.isBlob(e)||W.isReadableStream(e))return e;if(W.isArrayBufferView(e))return e.buffer;if(W.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let n;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return X(e,new ge.classes.URLSearchParams,{visitor:function(e,t,r,s){return ge.isNode&&W.isBuffer(e)?(this.append(t,e.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((n=W.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return X(n?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||s?(t.setContentType("application/json",!1),function(e,t,r){if(W.isString(e))try{return(t||JSON.parse)(e),W.trim(e)}catch(s){if("SyntaxError"!==s.name)throw s}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||pe.transitional,r=t&&t.forcedJSONParsing,s="json"===this.responseType;if(W.isResponse(e)||W.isReadableStream(e))return e;if(e&&W.isString(e)&&(r&&!this.responseType||s)){const r=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(r){if("SyntaxError"===a.name)throw K.from(a,K.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ge.classes.FormData,Blob:ge.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};W.forEach(["delete","get","head","post","put","patch"],e=>{pe.headers[e]={}});const fe=pe,ye=W.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),be=Symbol("internals");function ve(e){return e&&String(e).trim().toLowerCase()}function we(e){return!1===e||null==e?e:W.isArray(e)?e.map(we):String(e)}function je(e,t,r,s,a){return W.isFunction(s)?s.call(this,t,r):(a&&(t=r),W.isString(t)?W.isString(s)?-1!==t.indexOf(s):W.isRegExp(s)?s.test(t):void 0:void 0)}class ke{constructor(e){e&&this.set(e)}set(e,t,r){const s=this;function a(e,t,r){const a=ve(t);if(!a)throw new Error("header name must be a non-empty string");const n=W.findKey(s,a);(!n||void 0===s[n]||!0===r||void 0===r&&!1!==s[n])&&(s[n||t]=we(e))}const n=(e,t)=>W.forEach(e,(e,r)=>a(e,r,t));if(W.isPlainObject(e)||e instanceof this.constructor)n(e,t);else if(W.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))n((e=>{const t={};let r,s,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),r=e.substring(0,a).trim().toLowerCase(),s=e.substring(a+1).trim(),!r||t[r]&&ye[r]||("set-cookie"===r?t[r]?t[r].push(s):t[r]=[s]:t[r]=t[r]?t[r]+", "+s:s)}),t})(e),t);else if(W.isObject(e)&&W.isIterable(e)){let r,s,a={};for(const t of e){if(!W.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[s=t[0]]=(r=a[s])?W.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}n(a,t)}else null!=e&&a(t,e,r);return this}get(e,t){if(e=ve(e)){const r=W.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)t[s[1]]=s[2];return t}(e);if(W.isFunction(t))return t.call(this,e,r);if(W.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ve(e)){const r=W.findKey(this,e);return!(!r||void 0===this[r]||t&&!je(0,this[r],r,t))}return!1}delete(e,t){const r=this;let s=!1;function a(e){if(e=ve(e)){const a=W.findKey(r,e);!a||t&&!je(0,r[a],a,t)||(delete r[a],s=!0)}}return W.isArray(e)?e.forEach(a):a(e),s}clear(e){const t=Object.keys(this);let r=t.length,s=!1;for(;r--;){const a=t[r];e&&!je(0,this[a],a,e,!0)||(delete this[a],s=!0)}return s}normalize(e){const t=this,r={};return W.forEach(this,(s,a)=>{const n=W.findKey(r,a);if(n)return t[n]=we(s),void delete t[a];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}(a):String(a).trim();i!==a&&delete t[a],t[i]=we(s),r[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return W.forEach(this,(r,s)=>{null!=r&&!1!==r&&(t[s]=e&&W.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,r]=e;return t+": "+r}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return s.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[be]=this[be]={accessors:{}}).accessors,r=this.prototype;function s(e){const s=ve(e);t[s]||(!function(e,t){const r=W.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(e,r,a){return this[s].call(this,t,e,r,a)},configurable:!0})})}(r,e),t[s]=!0)}return W.isArray(e)?e.forEach(s):s(e),this}}ke.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),W.reduceDescriptors(ke.prototype,(e,t)=>{let{value:r}=e,s=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[s]=e}}}),W.freezeMethods(ke);const Ne=ke;function Se(e,t){const r=this||fe,s=t||r,a=Ne.from(s.headers);let n=s.data;return W.forEach(e,function(e){n=e.call(r,n,a.normalize(),t?t.status:void 0)}),a.normalize(),n}function _e(e){return!(!e||!e.__CANCEL__)}function Ce(e,t,r){K.call(this,null==e?"canceled":e,K.ERR_CANCELED,t,r),this.name="CanceledError"}W.inherits(Ce,K,{__CANCEL__:!0});const Ee=Ce;function Pe(e,t,r){const s=r.config.validateStatus;r.status&&s&&!s(r.status)?t(new K("Request failed with status code "+r.status,[K.ERR_BAD_REQUEST,K.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const Ae=function(e,t){e=e||10;const r=new Array(e),s=new Array(e);let a,n=0,i=0;return t=void 0!==t?t:1e3,function(l){const o=Date.now(),c=s[i];a||(a=o),r[n]=l,s[n]=o;let d=i,u=0;for(;d!==n;)u+=r[d++],d%=e;if(n=(n+1)%e,n===i&&(i=(i+1)%e),o-a<t)return;const h=c&&o-c;return h?Math.round(1e3*u/h):void 0}};const Re=function(e,t){let r,s,a=0,n=1e3/t;const i=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=n,r=null,s&&(clearTimeout(s),s=null),e(...t)};return[function(){const e=Date.now(),t=e-a;for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];t>=n?i(o,e):(r=o,s||(s=setTimeout(()=>{s=null,i(r)},n-t)))},()=>r&&i(r)]},Ie=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,s=0;const a=Ae(50,250);return Re(r=>{const n=r.loaded,i=r.lengthComputable?r.total:void 0,l=n-s,o=a(l);s=n;e({loaded:n,total:i,progress:i?n/i:void 0,bytes:l,rate:o||void 0,estimated:o&&i&&n<=i?(i-n)/o:void 0,event:r,lengthComputable:null!=i,[t?"download":"upload"]:!0})},r)},Oe=(e,t)=>{const r=null!=e;return[s=>t[0]({lengthComputable:r,total:e,loaded:s}),t[1]]},Te=e=>function(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return W.asap(()=>e(...r))},Me=ge.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,ge.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(ge.origin),ge.navigator&&/(msie|trident)/i.test(ge.navigator.userAgent)):()=>!0,Le=ge.hasStandardBrowserEnv?{write(e,t,r,s,a,n){const i=[e+"="+encodeURIComponent(t)];W.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),W.isString(s)&&i.push("path="+s),W.isString(a)&&i.push("domain="+a),!0===n&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function De(e,t,r){let s=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(s||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Fe=e=>e instanceof Ne?{...e}:e;function Ue(e,t){t=t||{};const r={};function s(e,t,r,s){return W.isPlainObject(e)&&W.isPlainObject(t)?W.merge.call({caseless:s},e,t):W.isPlainObject(t)?W.merge({},t):W.isArray(t)?t.slice():t}function a(e,t,r,a){return W.isUndefined(t)?W.isUndefined(e)?void 0:s(void 0,e,0,a):s(e,t,0,a)}function n(e,t){if(!W.isUndefined(t))return s(void 0,t)}function i(e,t){return W.isUndefined(t)?W.isUndefined(e)?void 0:s(void 0,e):s(void 0,t)}function l(r,a,n){return n in t?s(r,a):n in e?s(void 0,r):void 0}const o={url:n,method:n,data:n,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(e,t,r)=>a(Fe(e),Fe(t),0,!0)};return W.forEach(Object.keys({...e,...t}),function(s){const n=o[s]||a,i=n(e[s],t[s],s);W.isUndefined(i)&&n!==l||(r[s]=i)}),r}const Be=e=>{const t=Ue({},e);let r,{data:s,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:i,headers:l,auth:o}=t;if(t.headers=l=Ne.from(l),t.url=ne(De(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),W.isFormData(s))if(ge.hasStandardBrowserEnv||ge.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(!1!==(r=l.getContentType())){const[e,...t]=r?r.split(";").map(e=>e.trim()).filter(Boolean):[];l.setContentType([e||"multipart/form-data",...t].join("; "))}if(ge.hasStandardBrowserEnv&&(a&&W.isFunction(a)&&(a=a(t)),a||!1!==a&&Me(t.url))){const e=n&&i&&Le.read(i);e&&l.set(n,e)}return t},Ve="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,r){const s=Be(e);let a=s.data;const n=Ne.from(s.headers).normalize();let i,l,o,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:m}=s;function g(){c&&c(),d&&d(),s.cancelToken&&s.cancelToken.unsubscribe(i),s.signal&&s.signal.removeEventListener("abort",i)}let x=new XMLHttpRequest;function p(){if(!x)return;const s=Ne.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders());Pe(function(e){t(e),g()},function(e){r(e),g()},{data:u&&"text"!==u&&"json"!==u?x.response:x.responseText,status:x.status,statusText:x.statusText,headers:s,config:e,request:x}),x=null}x.open(s.method.toUpperCase(),s.url,!0),x.timeout=s.timeout,"onloadend"in x?x.onloadend=p:x.onreadystatechange=function(){x&&4===x.readyState&&(0!==x.status||x.responseURL&&0===x.responseURL.indexOf("file:"))&&setTimeout(p)},x.onabort=function(){x&&(r(new K("Request aborted",K.ECONNABORTED,e,x)),x=null)},x.onerror=function(){r(new K("Network Error",K.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let t=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const a=s.transitional||le;s.timeoutErrorMessage&&(t=s.timeoutErrorMessage),r(new K(t,a.clarifyTimeoutError?K.ETIMEDOUT:K.ECONNABORTED,e,x)),x=null},void 0===a&&n.setContentType(null),"setRequestHeader"in x&&W.forEach(n.toJSON(),function(e,t){x.setRequestHeader(t,e)}),W.isUndefined(s.withCredentials)||(x.withCredentials=!!s.withCredentials),u&&"json"!==u&&(x.responseType=s.responseType),m&&([o,d]=Ie(m,!0),x.addEventListener("progress",o)),h&&x.upload&&([l,c]=Ie(h),x.upload.addEventListener("progress",l),x.upload.addEventListener("loadend",c)),(s.cancelToken||s.signal)&&(i=t=>{x&&(r(!t||t.type?new Ee(null,e,x):t),x.abort(),x=null)},s.cancelToken&&s.cancelToken.subscribe(i),s.signal&&(s.signal.aborted?i():s.signal.addEventListener("abort",i)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(s.url);f&&-1===ge.protocols.indexOf(f)?r(new K("Unsupported protocol "+f+":",K.ERR_BAD_REQUEST,e)):x.send(a||null)})},ze=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,s=new AbortController;const a=function(e){if(!r){r=!0,i();const t=e instanceof Error?e:this.reason;s.abort(t instanceof K?t:new Ee(t instanceof Error?t.message:t))}};let n=t&&setTimeout(()=>{n=null,a(new K(`timeout ${t} of ms exceeded`,K.ETIMEDOUT))},t);const i=()=>{e&&(n&&clearTimeout(n),n=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:l}=s;return l.unsubscribe=()=>W.asap(i),l}},$e=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let s,a=0;for(;a<r;)s=a+t,yield e.slice(a,s),a=s},We=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}},He=(e,t,r,s)=>{const a=async function*(e,t){for await(const r of We(e))yield*$e(r,t)}(e,t);let n,i=0,l=e=>{n||(n=!0,s&&s(e))};return new ReadableStream({async pull(e){try{const{done:t,value:s}=await a.next();if(t)return l(),void e.close();let n=s.byteLength;if(r){let e=i+=n;r(e)}e.enqueue(new Uint8Array(s))}catch(t){throw l(t),t}},cancel:e=>(l(e),a.return())},{highWaterMark:2})},qe="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Ye=qe&&"function"===typeof ReadableStream,Ke=qe&&("function"===typeof TextEncoder?(Ge=new TextEncoder,e=>Ge.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Ge;const Qe=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return!!e(...r)}catch(a){return!1}},Ze=Ye&&Qe(()=>{let e=!1;const t=new Request(ge.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Je=Ye&&Qe(()=>W.isReadableStream(new Response("").body)),Xe={stream:Je&&(e=>e.body)};var et;qe&&(et=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Xe[e]&&(Xe[e]=W.isFunction(et[e])?t=>t[e]():(t,r)=>{throw new K(`Response type '${e}' is not supported`,K.ERR_NOT_SUPPORT,r)})}));const tt=async(e,t)=>{const r=W.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(W.isBlob(e))return e.size;if(W.isSpecCompliantForm(e)){const t=new Request(ge.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return W.isArrayBufferView(e)||W.isArrayBuffer(e)?e.byteLength:(W.isURLSearchParams(e)&&(e+=""),W.isString(e)?(await Ke(e)).byteLength:void 0)})(t):r},rt=qe&&(async e=>{let{url:t,method:r,data:s,signal:a,cancelToken:n,timeout:i,onDownloadProgress:l,onUploadProgress:o,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:h}=Be(e);c=c?(c+"").toLowerCase():"text";let m,g=ze([a,n&&n.toAbortSignal()],i);const x=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let p;try{if(o&&Ze&&"get"!==r&&"head"!==r&&0!==(p=await tt(d,s))){let e,r=new Request(t,{method:"POST",body:s,duplex:"half"});if(W.isFormData(s)&&(e=r.headers.get("content-type"))&&d.setContentType(e),r.body){const[e,t]=Oe(p,Ie(Te(o)));s=He(r.body,65536,e,t)}}W.isString(u)||(u=u?"include":"omit");const a="credentials"in Request.prototype;m=new Request(t,{...h,signal:g,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:s,duplex:"half",credentials:a?u:void 0});let n=await fetch(m,h);const i=Je&&("stream"===c||"response"===c);if(Je&&(l||i&&x)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=n[t]});const t=W.toFiniteNumber(n.headers.get("content-length")),[r,s]=l&&Oe(t,Ie(Te(l),!0))||[];n=new Response(He(n.body,65536,r,()=>{s&&s(),x&&x()}),e)}c=c||"text";let f=await Xe[W.findKey(Xe,c)||"text"](n,e);return!i&&x&&x(),await new Promise((t,r)=>{Pe(t,r,{data:f,headers:Ne.from(n.headers),status:n.status,statusText:n.statusText,config:e,request:m})})}catch(f){if(x&&x(),f&&"TypeError"===f.name&&/Load failed|fetch/i.test(f.message))throw Object.assign(new K("Network Error",K.ERR_NETWORK,e,m),{cause:f.cause||f});throw K.from(f,f&&f.code,e,m)}}),st={http:null,xhr:Ve,fetch:rt};W.forEach(st,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(r){}Object.defineProperty(e,"adapterName",{value:t})}});const at=e=>`- ${e}`,nt=e=>W.isFunction(e)||null===e||!1===e,it=e=>{e=W.isArray(e)?e:[e];const{length:t}=e;let r,s;const a={};for(let n=0;n<t;n++){let t;if(r=e[n],s=r,!nt(r)&&(s=st[(t=String(r)).toLowerCase()],void 0===s))throw new K(`Unknown adapter '${t}'`);if(s)break;a[t||"#"+n]=s}if(!s){const e=Object.entries(a).map(e=>{let[t,r]=e;return`adapter ${t} `+(!1===r?"is not supported by the environment":"is not available in the build")});let r=t?e.length>1?"since :\n"+e.map(at).join("\n"):" "+at(e[0]):"as no adapter specified";throw new K("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return s};function lt(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ee(null,e)}function ot(e){lt(e),e.headers=Ne.from(e.headers),e.data=Se.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return it(e.adapter||fe.adapter)(e).then(function(t){return lt(e),t.data=Se.call(e,e.transformResponse,t),t.headers=Ne.from(t.headers),t},function(t){return _e(t)||(lt(e),t&&t.response&&(t.response.data=Se.call(e,e.transformResponse,t.response),t.response.headers=Ne.from(t.response.headers))),Promise.reject(t)})}const ct="1.11.0",dt={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{dt[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const ut={};dt.transitional=function(e,t,r){function s(e,t){return"[Axios v"+ct+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,a,n)=>{if(!1===e)throw new K(s(a," has been removed"+(t?" in "+t:"")),K.ERR_DEPRECATED);return t&&!ut[a]&&(ut[a]=!0,console.warn(s(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,a,n)}},dt.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};const ht={assertOptions:function(e,t,r){if("object"!==typeof e)throw new K("options must be an object",K.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const n=s[a],i=t[n];if(i){const t=e[n],r=void 0===t||i(t,n,e);if(!0!==r)throw new K("option "+n+" must be "+r,K.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new K("Unknown option "+n,K.ERR_BAD_OPTION)}},validators:dt},mt=ht.validators;class gt{constructor(e){this.defaults=e||{},this.interceptors={request:new ie,response:new ie}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(s){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Ue(this.defaults,t);const{transitional:r,paramsSerializer:s,headers:a}=t;void 0!==r&&ht.assertOptions(r,{silentJSONParsing:mt.transitional(mt.boolean),forcedJSONParsing:mt.transitional(mt.boolean),clarifyTimeoutError:mt.transitional(mt.boolean)},!1),null!=s&&(W.isFunction(s)?t.paramsSerializer={serialize:s}:ht.assertOptions(s,{encode:mt.function,serialize:mt.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ht.assertOptions(t,{baseUrl:mt.spelling("baseURL"),withXsrfToken:mt.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let n=a&&W.merge(a.common,a[t.method]);a&&W.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=Ne.concat(n,a);const i=[];let l=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const o=[];let c;this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)});let d,u=0;if(!l){const e=[ot.bind(this),void 0];for(e.unshift(...i),e.push(...o),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let h=t;for(u=0;u<d;){const e=i[u++],t=i[u++];try{h=e(h)}catch(m){t.call(this,m);break}}try{c=ot.call(this,h)}catch(m){return Promise.reject(m)}for(u=0,d=o.length;u<d;)c=c.then(o[u++],o[u++]);return c}getUri(e){return ne(De((e=Ue(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}W.forEach(["delete","get","head","options"],function(e){gt.prototype[e]=function(t,r){return this.request(Ue(r||{},{method:e,url:t,data:(r||{}).data}))}}),W.forEach(["post","put","patch"],function(e){function t(t){return function(r,s,a){return this.request(Ue(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:s}))}}gt.prototype[e]=t(),gt.prototype[e+"Form"]=t(!0)});const xt=gt;class pt{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;const s=new Promise(e=>{r.subscribe(e),t=e}).then(e);return s.cancel=function(){r.unsubscribe(t)},s},e(function(e,s,a){r.reason||(r.reason=new Ee(e,s,a),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new pt(function(t){e=t}),cancel:e}}}const ft=pt;const yt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yt).forEach(e=>{let[t,r]=e;yt[r]=t});const bt=yt;const vt=function e(t){const r=new xt(t),s=a(xt.prototype.request,r);return W.extend(s,xt.prototype,r,{allOwnKeys:!0}),W.extend(s,r,null,{allOwnKeys:!0}),s.create=function(r){return e(Ue(t,r))},s}(fe);vt.Axios=xt,vt.CanceledError=Ee,vt.CancelToken=ft,vt.isCancel=_e,vt.VERSION=ct,vt.toFormData=X,vt.AxiosError=K,vt.Cancel=vt.CanceledError,vt.all=function(e){return Promise.all(e)},vt.spread=function(e){return function(t){return e.apply(null,t)}},vt.isAxiosError=function(e){return W.isObject(e)&&!0===e.isAxiosError},vt.mergeConfig=Ue,vt.AxiosHeaders=Ne,vt.formToJSON=e=>xe(W.isHTMLForm(e)?new FormData(e):e),vt.getAdapter=it,vt.HttpStatusCode=bt,vt.default=vt;const wt=vt;var jt=r(872);const kt=wt.create({baseURL:jt.$W.API_BASE_URL,headers:{"Content-Type":"application/json"},timeout:1e4});kt.interceptors.request.use(e=>{const t=localStorage.getItem(jt.$W.TOKEN_STORAGE_KEY);return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e)),kt.interceptors.response.use(e=>e,async e=>{var t;const r=e.config;if((null===(t=e.response)||void 0===t?void 0:t.status)===jt.gx.UNAUTHORIZED&&!r._retry){r._retry=!0;try{const e=localStorage.getItem(jt.$W.REFRESH_TOKEN_STORAGE_KEY);if(!e)throw new Error("No refresh token available");const t=await wt.post(`${jt.$W.API_BASE_URL}${jt.Sn.TOKEN_REFRESH}`,{refresh:e});return localStorage.setItem(jt.$W.TOKEN_STORAGE_KEY,t.data.access),r.headers.Authorization=`Bearer ${t.data.access}`,kt(r)}catch(s){return localStorage.removeItem(jt.$W.TOKEN_STORAGE_KEY),localStorage.removeItem(jt.$W.REFRESH_TOKEN_STORAGE_KEY),localStorage.removeItem(jt.$W.USER_STORAGE_KEY),"/login"!==window.location.pathname&&(window.location.href="/login"),Promise.reject(s)}}return Promise.reject(e)});const Nt=e=>{if(!e.response)return e.request?jt.UU.NETWORK_ERROR:e.message||jt.UU.UNKNOWN_ERROR;{const t=e.response.status,r=e.response.data;switch(t){case jt.gx.BAD_REQUEST:return(null===r||void 0===r?void 0:r.detail)||(null===r||void 0===r?void 0:r.message)||jt.UU.VALIDATION_ERROR;case jt.gx.UNAUTHORIZED:return jt.UU.UNAUTHORIZED;case jt.gx.FORBIDDEN:return jt.UU.FORBIDDEN;case jt.gx.NOT_FOUND:return jt.UU.NOT_FOUND;case jt.gx.INTERNAL_SERVER_ERROR:return jt.UU.SERVER_ERROR;default:return(null===r||void 0===r?void 0:r.detail)||(null===r||void 0===r?void 0:r.message)||jt.UU.UNKNOWN_ERROR}}},St={login:async e=>{try{return(await kt.post(jt.Sn.LOGIN,e)).data}catch(t){throw new Error(Nt(t))}},register:async e=>{try{return(await kt.post(jt.Sn.REGISTER,e)).data}catch(t){throw new Error(Nt(t))}},registerShopOwner:async e=>{try{return(await kt.post(jt.Sn.REGISTER_SHOP_OWNER,e)).data}catch(t){throw new Error(Nt(t))}},refreshToken:async e=>{try{return(await kt.post(jt.Sn.TOKEN_REFRESH,{refresh:e})).data}catch(t){throw new Error(Nt(t))}},logout:()=>{localStorage.removeItem(jt.$W.TOKEN_STORAGE_KEY),localStorage.removeItem(jt.$W.REFRESH_TOKEN_STORAGE_KEY),localStorage.removeItem(jt.$W.USER_STORAGE_KEY)},isAuthenticated:()=>!!localStorage.getItem(jt.$W.TOKEN_STORAGE_KEY)},_t={getCurrentUser:async()=>{try{return(await kt.get("/api/user/me/")).data}catch(e){throw new Error(Nt(e))}},updateCurrentUser:async e=>{try{return(await kt.patch("/api/user/update_me/",e)).data.user}catch(t){throw new Error(Nt(t))}}},Ct={getAll:async e=>{try{const t=new URLSearchParams;e&&Object.entries(e).forEach(e=>{let[r,s]=e;void 0!==s&&null!==s&&(Array.isArray(s)?s.forEach(e=>t.append(r,e)):t.append(r,s.toString()))});return(await kt.get(`${jt.Sn.PRODUCTS}?${t.toString()}`)).data}catch(t){throw new Error(Nt(t))}},getById:async e=>{try{return(await kt.get(jt.Sn.PRODUCT_DETAIL(e))).data}catch(t){throw new Error(Nt(t))}},getByCategory:async e=>{try{return(await kt.get(`${jt.Sn.CATEGORY_DETAIL(parseInt(e))}/products/`)).data}catch(t){throw new Error(Nt(t))}},search:async(e,t)=>{try{const r=new URLSearchParams({q:e});t&&Object.entries(t).forEach(e=>{let[t,s]=e;void 0!==s&&null!==s&&(Array.isArray(s)?s.forEach(e=>r.append(t,e)):r.append(t,s.toString()))});return(await kt.get(`${jt.Sn.PRODUCT_SEARCH}?${r.toString()}`)).data}catch(r){throw new Error(Nt(r))}},getMyProducts:async()=>{try{return(await kt.get(jt.Sn.MY_PRODUCTS)).data}catch(e){throw new Error(Nt(e))}}},Et={getAll:async()=>{try{return(await kt.get(jt.Sn.SHOP_PUBLIC_LIST)).data}catch(e){throw new Error(Nt(e))}},getById:async e=>{try{return(await kt.get(jt.Sn.SHOP_PUBLIC_DETAIL(e))).data}catch(t){throw new Error(Nt(t))}},getBySlug:async e=>{try{return(await kt.get(jt.Sn.SHOP_PUBLIC(e))).data}catch(t){throw new Error(Nt(t))}},getProducts:async e=>{try{return(await kt.get(jt.Sn.SHOP_PRODUCTS(e))).data}catch(t){throw new Error(Nt(t))}},search:async(e,t)=>{try{const r=new URLSearchParams({q:e});t&&r.append("location",t);const s=await kt.get(`${jt.Sn.SHOP_SEARCH}?${r.toString()}`);return s.data&&s.data.shops?s.data.shops:s.data||[]}catch(r){throw new Error(Nt(r))}},advancedSearch:async e=>{try{const t=new URLSearchParams;e.q&&t.append("q",e.q),e.city&&t.append("city",e.city),e.country&&t.append("country",e.country),e.status&&t.append("status",e.status);return(await kt.get(`${jt.Sn.SHOP_SEARCH}?${t.toString()}`)).data}catch(t){throw new Error(Nt(t))}},autocomplete:async e=>{try{const t=new URLSearchParams({q:e});return(await kt.get(`${jt.Sn.SHOP_AUTOCOMPLETE}?${t.toString()}`)).data}catch(t){throw new Error(Nt(t))}},searchByLocation:async(e,t)=>{try{const r=new URLSearchParams;e&&r.append("city",e),t&&r.append("country",t);return(await kt.get(`${jt.Sn.SHOP_BY_LOCATION}?${r.toString()}`)).data}catch(r){throw new Error(Nt(r))}},getTrending:async()=>{try{return(await kt.get(jt.Sn.SHOP_TRENDING)).data}catch(e){throw new Error(Nt(e))}},quickCreate:async e=>{try{return(await kt.post(jt.Sn.SHOP_QUICK_CREATE,e)).data}catch(t){throw new Error(Nt(t))}},getPublicList:async e=>{try{const t=new URLSearchParams;null!==e&&void 0!==e&&e.search&&t.append("search",e.search),null!==e&&void 0!==e&&e.city&&t.append("city",e.city),null!==e&&void 0!==e&&e.country&&t.append("country",e.country),null!==e&&void 0!==e&&e.page&&t.append("page",e.page.toString()),null!==e&&void 0!==e&&e.page_size&&t.append("page_size",e.page_size.toString());return(await kt.get(`${jt.Sn.SHOP_PUBLIC_LIST}?${t.toString()}`)).data}catch(t){throw new Error(Nt(t))}},create:async e=>{try{return(await kt.post(jt.Sn.SHOPS,e,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw new Error(Nt(t))}},addProduct:async(e,t)=>{try{return(await kt.post(jt.Sn.SHOP_ADD_PRODUCT(e),t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(r){throw new Error(Nt(r))}},updateProduct:async(e,t,r)=>{try{return(await kt.put(jt.Sn.SHOP_UPDATE_PRODUCT(e,t),r,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(s){throw new Error(Nt(s))}},deleteProduct:async(e,t)=>{try{await kt.delete(jt.Sn.SHOP_DELETE_PRODUCT(e,t))}catch(r){throw new Error(Nt(r))}},getMyShops:async()=>{try{return(await kt.get(jt.Sn.SHOP_MY_SHOPS)).data}catch(e){throw new Error(Nt(e))}},updateShop:async(e,t)=>{try{return(await kt.put(jt.Sn.SHOP_UPDATE(e),t)).data}catch(r){throw new Error(Nt(r))}},uploadVerificationDocument:async(e,t)=>{try{return(await kt.post(jt.Sn.SHOP_VERIFICATION_UPLOAD(e),t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(r){throw new Error(Nt(r))}},submitVerification:async(e,t)=>{try{return(await kt.post(jt.Sn.SHOP_VERIFICATION_SUBMIT(e),{document_ids:t})).data}catch(r){throw new Error(Nt(r))}}},Pt={getCart:async()=>{try{return(await kt.get(jt.Sn.CART)).data}catch(e){throw new Error(Nt(e))}},addToCart:async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;try{return(await kt.post(jt.Sn.CART_ADD_ITEM,{product_id:e,shop_id:t,quantity:r})).data.cart}catch(s){throw new Error(Nt(s))}},updateCartItem:async(e,t)=>{try{return(await kt.put(jt.Sn.CART_UPDATE_ITEM(e),{quantity:t})).data.cart}catch(r){throw new Error(Nt(r))}},removeFromCart:async e=>{try{return(await kt.delete(jt.Sn.CART_REMOVE_ITEM(e))).data.cart}catch(t){throw new Error(Nt(t))}},clearCart:async()=>{try{return(await kt.delete(jt.Sn.CART_CLEAR)).data.cart}catch(e){throw new Error(Nt(e))}},getCartItemCount:async()=>{try{return(await kt.get(jt.Sn.CART_ITEM_COUNT)).data.item_count}catch(e){throw new Error(Nt(e))}}},At={getAll:async()=>{try{return(await kt.get(jt.Sn.ORDER_MY_ORDERS)).data}catch(e){throw new Error(Nt(e))}},getById:async e=>{try{return(await kt.get(jt.Sn.ORDER_DETAIL(e))).data}catch(t){throw new Error(Nt(t))}},create:async e=>{try{return(await kt.post(jt.Sn.ORDERS,e)).data}catch(t){throw new Error(Nt(t))}},createFromCart:async()=>{try{return(await kt.post(jt.Sn.ORDER_CREATE_FROM_CART)).data}catch(e){throw new Error(Nt(e))}},updateStatus:async(e,t)=>{try{return(await kt.patch(jt.Sn.ORDER_UPDATE_STATUS(e),{status:t})).data}catch(r){throw new Error(Nt(r))}},getOrderDetails:async e=>{try{return(await kt.get(jt.Sn.ORDER_DETAILS(e))).data}catch(t){throw new Error(Nt(t))}},getShopOrders:async e=>{try{const t=new URLSearchParams;null!==e&&void 0!==e&&e.status&&t.append("status",e.status),null!==e&&void 0!==e&&e.shop_id&&t.append("shop_id",e.shop_id);return(await kt.get(`${jt.Sn.ORDER_SHOP_ORDERS}?${t.toString()}`)).data}catch(t){throw new Error(Nt(t))}},getShopOrderStats:async()=>{try{return(await kt.get(jt.Sn.ORDER_SHOP_STATS)).data}catch(e){throw new Error(Nt(e))}},completeOrder:async e=>{try{return(await kt.patch(jt.Sn.ORDER_COMPLETE(e))).data}catch(t){throw new Error(Nt(t))}}},Rt={getAll:async()=>{try{return(await kt.get(jt.Sn.PAYMENT_MY_PAYMENTS)).data}catch(e){throw new Error(Nt(e))}},getById:async e=>{try{return(await kt.get(jt.Sn.PAYMENT_DETAIL(e))).data}catch(t){throw new Error(Nt(t))}},create:async e=>{try{return(await kt.post(jt.Sn.PAYMENTS,e)).data}catch(t){throw new Error(Nt(t))}},updateStatus:async(e,t)=>{try{return(await kt.patch(jt.Sn.PAYMENT_UPDATE_STATUS(e),{status:t})).data}catch(r){throw new Error(Nt(r))}}},It={getAll:async()=>{try{return(await kt.get(jt.Sn.CATEGORIES)).data}catch(e){throw new Error(Nt(e))}},getBySlug:async e=>{try{return(await kt.get(jt.Sn.CATEGORY_DETAIL(parseInt(e)))).data}catch(t){throw new Error(Nt(t))}},search:async e=>{try{return(await kt.get(`${jt.Sn.CATEGORY_SEARCH}?q=${encodeURIComponent(e)}`)).data}catch(t){throw new Error(Nt(t))}},getProducts:async e=>{try{return(await kt.get(jt.Sn.CATEGORY_PRODUCTS(e))).data}catch(t){throw new Error(Nt(t))}},getStats:async()=>{try{return(await kt.get(jt.Sn.CATEGORY_STATS)).data}catch(e){throw new Error(Nt(e))}},getPopularProducts:async e=>{try{return(await kt.get(jt.Sn.CATEGORY_POPULAR_PRODUCTS(e))).data}catch(t){throw new Error(Nt(t))}},create:async e=>{try{return(await kt.post(jt.Sn.CATEGORIES,e)).data}catch(t){throw new Error(Nt(t))}}},Ot={getAll:async e=>{try{return(await kt.get(jt.Sn.REVIEWS,{params:e})).data}catch(t){throw new Error(Nt(t))}},getById:async e=>{try{return(await kt.get(jt.Sn.REVIEW_DETAIL(e))).data}catch(t){throw new Error(Nt(t))}},create:async e=>{try{return(await kt.post(jt.Sn.REVIEWS,e)).data}catch(t){throw new Error(Nt(t))}},update:async(e,t)=>{try{return(await kt.patch(jt.Sn.REVIEW_DETAIL(e),t)).data}catch(r){throw new Error(Nt(r))}},delete:async e=>{try{await kt.delete(jt.Sn.REVIEW_DETAIL(e))}catch(t){throw new Error(Nt(t))}},getMyReviews:async()=>{try{return(await kt.get(jt.Sn.REVIEWS_MY)).data}catch(e){throw new Error(Nt(e))}},getByProduct:async e=>{try{return(await kt.get(jt.Sn.REVIEWS_BY_PRODUCT,{params:{product_id:e}})).data}catch(t){throw new Error(Nt(t))}},getByShop:async e=>{try{return(await kt.get(jt.Sn.REVIEWS_BY_SHOP,{params:{shop_id:e}})).data}catch(t){throw new Error(Nt(t))}},getStats:async e=>{try{return(await kt.get(jt.Sn.REVIEWS_STATS,{params:e})).data}catch(t){throw new Error(Nt(t))}},markHelpful:async e=>{try{return(await kt.post(jt.Sn.REVIEW_MARK_HELPFUL(e))).data.review}catch(t){throw new Error(Nt(t))}},getPendingModeration:async()=>{try{return(await kt.get(jt.Sn.REVIEWS_PENDING_MODERATION)).data}catch(e){throw new Error(Nt(e))}},moderate:async(e,t)=>{try{return(await kt.patch(jt.Sn.REVIEW_MODERATE(e),{status:t})).data.review}catch(r){throw new Error(Nt(r))}}},Tt={getMyWishlist:async()=>{try{return(await kt.get(jt.Sn.WISHLIST_MY)).data}catch(e){throw new Error(Nt(e))}},create:async()=>{try{return(await kt.post(jt.Sn.WISHLIST)).data}catch(e){throw new Error(Nt(e))}},addProduct:async e=>{try{const t=await Tt.getMyWishlist();await kt.post(jt.Sn.WISHLIST_ADD_PRODUCT(t.id),{product:e})}catch(t){throw new Error(Nt(t))}},removeProduct:async e=>{try{const t=await Tt.getMyWishlist();await kt.delete(jt.Sn.WISHLIST_REMOVE_PRODUCT(t.id,e))}catch(t){throw new Error(Nt(t))}},isInWishlist:async e=>{try{return(await Tt.getMyWishlist()).products.some(t=>t.productId===e)}catch{return!1}}},Mt={getConversations:async()=>{try{return(await kt.get(jt.Sn.MESSAGES_CONVERSATIONS)).data}catch(e){throw new Error(Nt(e))}},getWithUser:async e=>{try{return(await kt.get(`${jt.Sn.MESSAGES_WITH_USER}?user_id=${e}`)).data}catch(t){throw new Error(Nt(t))}},send:async e=>{try{return(await kt.post(jt.Sn.MESSAGES,e)).data}catch(t){throw new Error(Nt(t))}},markAsRead:async e=>{try{await kt.patch(jt.Sn.MESSAGE_MARK_READ(e))}catch(t){throw new Error(Nt(t))}},getUnreadCount:async()=>{try{return(await kt.get(jt.Sn.MESSAGES_UNREAD_COUNT)).data.unread_count}catch(e){throw new Error(Nt(e))}},markAllAsRead:async()=>{try{await kt.patch(jt.Sn.MESSAGES_MARK_ALL_READ)}catch(e){throw new Error(Nt(e))}},getSent:async()=>{try{return(await kt.get(`${jt.Sn.MESSAGES}sent/`)).data}catch(e){throw new Error(Nt(e))}},getReceived:async()=>{try{return(await kt.get(`${jt.Sn.MESSAGES}received/`)).data}catch(e){throw new Error(Nt(e))}},delete:async e=>{try{await kt.delete(`${jt.Sn.MESSAGES}${e}/`)}catch(t){throw new Error(Nt(t))}}},Lt={getMyNotifications:async()=>{try{return(await kt.get(jt.Sn.NOTIFICATIONS)).data}catch(e){throw new Error(Nt(e))}},getUnread:async()=>{try{return(await kt.get(jt.Sn.NOTIFICATION_UNREAD)).data}catch(e){throw new Error(Nt(e))}},markAsRead:async e=>{try{await kt.patch(jt.Sn.NOTIFICATION_MARK_READ(e))}catch(t){throw new Error(Nt(t))}},markAllAsRead:async()=>{try{await kt.patch(jt.Sn.NOTIFICATION_MARK_ALL_READ)}catch(e){throw new Error(Nt(e))}},getUnreadCount:async()=>{try{return(await kt.get(jt.Sn.NOTIFICATION_UNREAD_COUNT)).data.unread_count}catch(e){throw new Error(Nt(e))}}},Dt={getMyProfile:async()=>{try{return(await kt.get(jt.Sn.USER_PROFILE_ME)).data}catch(e){throw new Error(Nt(e))}},createProfile:async e=>{try{return(await kt.post(jt.Sn.USER_PROFILE,e)).data}catch(t){throw new Error(Nt(t))}},updateProfile:async e=>{try{return(await kt.patch(jt.Sn.USER_PROFILE_ME,e)).data}catch(t){throw new Error(Nt(t))}},updateBio:async e=>{try{return(await kt.patch(jt.Sn.USER_PROFILE_UPDATE_BIO,{bio:e})).data}catch(t){throw new Error(Nt(t))}},updateAddress:async e=>{try{return(await kt.patch(jt.Sn.USER_PROFILE_UPDATE_ADDRESS,{address:e})).data}catch(t){throw new Error(Nt(t))}},uploadAvatar:async e=>{try{const t=new FormData;t.append("avatar",e);return(await kt.post(jt.Sn.USER_PROFILE_UPLOAD_AVATAR,t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw new Error(Nt(t))}},removeAvatar:async()=>{try{return(await kt.delete(jt.Sn.USER_PROFILE_REMOVE_AVATAR)).data}catch(e){throw new Error(Nt(e))}},getCompletionStatus:async()=>{try{return(await kt.get(jt.Sn.USER_PROFILE_COMPLETION_STATUS)).data}catch(e){throw new Error(Nt(e))}},getUserStats:async()=>{try{return(await kt.get(jt.Sn.USER_PROFILE_STATS)).data}catch(e){throw new Error(Nt(e))}},getPublicProfile:async e=>{try{return(await kt.get(jt.Sn.USER_PROFILE_PUBLIC(e))).data}catch(t){throw new Error(Nt(t))}},searchUsers:async e=>{try{return(await kt.get(`${jt.Sn.USER_PROFILE_SEARCH}?username=${e}`)).data}catch(t){throw new Error(Nt(t))}},toggleShopownerStatus:async()=>{try{return(await kt.patch(jt.Sn.USER_PROFILE_TOGGLE_SHOPOWNER)).data}catch(e){throw new Error(Nt(e))}}},Ft={create:async(e,t)=>{try{return(await kt.post(jt.Sn.INQUIRIES,{product_id:e,message:t})).data}catch(r){throw new Error(Nt(r))}},respond:async(e,t)=>{try{return(await kt.patch(`${jt.Sn.INQUIRY_RESPOND(e)}`,{response:t})).data}catch(r){throw new Error(Nt(r))}},getMyInquiries:async()=>{try{return(await kt.get(jt.Sn.INQUIRY_MY)).data}catch(e){throw new Error(Nt(e))}},getReceivedInquiries:async()=>{try{return(await kt.get(jt.Sn.INQUIRY_RECEIVED)).data}catch(e){throw new Error(Nt(e))}},getPendingInquiries:async()=>{try{return(await kt.get(jt.Sn.INQUIRY_PENDING)).data}catch(e){throw new Error(Nt(e))}},markResolved:async e=>{try{return(await kt.patch(`${jt.Sn.INQUIRY_RESOLVE(e)}`)).data}catch(t){throw new Error(Nt(t))}}},Ut={getAll:async()=>{try{return(await kt.get(jt.Sn.NOTIFICATIONS)).data}catch(e){throw new Error(Nt(e))}},getUnread:async()=>{try{return(await kt.get(jt.Sn.NOTIFICATION_UNREAD)).data}catch(e){throw new Error(Nt(e))}},getUnreadCount:async()=>{try{return(await kt.get(jt.Sn.NOTIFICATION_UNREAD_COUNT)).data.unread_count}catch(e){throw new Error(Nt(e))}},markAsRead:async e=>{try{await kt.patch(`${jt.Sn.NOTIFICATION_MARK_READ(e)}`)}catch(t){throw new Error(Nt(t))}},markAllAsRead:async()=>{try{await kt.patch(jt.Sn.NOTIFICATION_MARK_ALL_READ)}catch(e){throw new Error(Nt(e))}},getByType:async e=>{try{return(await kt.get(`${jt.Sn.NOTIFICATIONS}by_type/?type=${e}`)).data}catch(t){throw new Error(Nt(t))}},getOrderNotifications:async()=>{try{return(await kt.get(jt.Sn.NOTIFICATION_ORDER)).data}catch(e){throw new Error(Nt(e))}},getCartNotifications:async()=>{try{return(await kt.get(jt.Sn.NOTIFICATION_CART)).data}catch(e){throw new Error(Nt(e))}},getProductNotifications:async()=>{try{return(await kt.get(jt.Sn.NOTIFICATION_PRODUCT)).data}catch(e){throw new Error(Nt(e))}},getStats:async()=>{try{return(await kt.get(jt.Sn.NOTIFICATION_STATS)).data}catch(e){throw new Error(Nt(e))}},clearOld:async()=>{try{await kt.delete(jt.Sn.NOTIFICATION_CLEAR_OLD)}catch(e){throw new Error(Nt(e))}}},Bt={getAll:async()=>{try{return(await kt.get(jt.Sn.PRODUCT_VARIANTS)).data}catch(e){throw new Error(Nt(e))}},getById:async e=>{try{return(await kt.get(`${jt.Sn.PRODUCT_VARIANTS}${e}/`)).data}catch(t){throw new Error(Nt(t))}},create:async e=>{try{return(await kt.post(jt.Sn.PRODUCT_VARIANTS,e)).data}catch(t){throw new Error(Nt(t))}},update:async(e,t)=>{try{return(await kt.put(`${jt.Sn.PRODUCT_VARIANTS}${e}/`,t)).data}catch(r){throw new Error(Nt(r))}},delete:async e=>{try{await kt.delete(`${jt.Sn.PRODUCT_VARIANTS}${e}/`)}catch(t){throw new Error(Nt(t))}},getByProduct:async e=>{try{return(await kt.get(`${jt.Sn.PRODUCT_VARIANTS_BY_PRODUCT}?product_id=${e}`)).data}catch(t){throw new Error(Nt(t))}},getMyProductVariants:async()=>{try{return(await kt.get(jt.Sn.PRODUCT_VARIANTS_MY_PRODUCTS)).data}catch(e){throw new Error(Nt(e))}},getLowStock:async()=>{try{return(await kt.get(jt.Sn.PRODUCT_VARIANTS_LOW_STOCK)).data}catch(e){throw new Error(Nt(e))}},getOutOfStock:async()=>{try{return(await kt.get(jt.Sn.PRODUCT_VARIANTS_OUT_OF_STOCK)).data}catch(e){throw new Error(Nt(e))}},getStats:async()=>{try{return(await kt.get(jt.Sn.PRODUCT_VARIANTS_STATS)).data}catch(e){throw new Error(Nt(e))}},updateQuantity:async(e,t)=>{try{return(await kt.patch(jt.Sn.PRODUCT_VARIANT_UPDATE_QUANTITY(e),{quantity:t})).data}catch(r){throw new Error(Nt(r))}},updatePriceAdjustment:async(e,t)=>{try{return(await kt.patch(jt.Sn.PRODUCT_VARIANT_UPDATE_PRICE(e),{price_adjustment:t})).data}catch(r){throw new Error(Nt(r))}},bulkCreate:async(e,t)=>{try{return(await kt.post(jt.Sn.PRODUCT_VARIANTS_BULK_CREATE,{product_id:e,variants:t})).data}catch(r){throw new Error(Nt(r))}},bulkDelete:async e=>{try{return(await kt.delete(jt.Sn.PRODUCT_VARIANTS_BULK_DELETE,{data:{variant_ids:e}})).data}catch(t){throw new Error(Nt(t))}}},Vt=kt},579:(e,t,r)=>{e.exports=r(153)},730:(e,t,r)=>{var s=r(43),a=r(853);function n(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},g={};function x(e,t,r,s,a,n,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=n,this.removeEmptyString=i}var p={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){p[e]=new x(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];p[t]=new x(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){p[e]=new x(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){p[e]=new x(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){p[e]=new x(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){p[e]=new x(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){p[e]=new x(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){p[e]=new x(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){p[e]=new x(e,5,!1,e.toLowerCase(),null,!1,!1)});var f=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,r,s){var a=p.hasOwnProperty(t)?p[t]:null;(null!==a?0!==a.type:s||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,s){if(null===t||"undefined"===typeof t||function(e,t,r,s){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!s&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,s))return!0;if(s)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,s)&&(r=null),s||null===a?function(e){return!!u.call(g,e)||!u.call(m,e)&&(h.test(e)?g[e]=!0:(m[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,s=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(f,y);p[t]=new x(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(f,y);p[t]=new x(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(f,y);p[t]=new x(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){p[e]=new x(e,1,!1,e.toLowerCase(),null,!1,!1)}),p.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){p[e]=new x(e,1,!1,e.toLowerCase(),null,!0,!0)});var v=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var T=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var L,D=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var s=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){s=c}e.call(t.prototype)}else{try{throw Error()}catch(c){s=c}e()}}catch(c){if(c&&s&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),n=s.stack.split("\n"),i=a.length-1,l=n.length-1;1<=i&&0<=l&&a[i]!==n[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==n[l]){if(1!==i||1!==l)do{if(i--,0>--l||a[i]!==n[l]){var o="\n"+a[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=i&&0<=l);break}}}finally{U=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case j:return"Portal";case S:return"Profiler";case N:return"StrictMode";case P:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return z(e(t))}catch(r){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function q(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,n=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){s=""+e,n.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(e){s=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=H(e)?e.checked?"true":"false":e.value),(e=s)!==r&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var r=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Q(e,t){var r=null==t.defaultValue?"":t.defaultValue,s=null!=t.checked?t.checked:t.defaultChecked;r=W(null!=t.value?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Z(e,t);var r=W(t.value),s=t.type;if(null!=r)"number"===s?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===s||"reset"===s)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!("submit"!==s&&"reset"!==s||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&K(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,s){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&s&&(e[r].defaultSelected=!0)}else{for(r=""+W(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(s&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(n(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(n(92));if(te(r)){if(1<r.length)throw Error(n(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:W(r)}}function ne(e,t){var r=W(t.value),s=W(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=s&&(e.defaultValue=""+s)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,s){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function he(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function xe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function pe(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var s=0===r.indexOf("--"),a=xe(r,t[r],s);"float"===r&&(r="cssFloat"),s?e.setProperty(r,a):e[r]=a}}Object.keys(me).forEach(function(e){ge.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]})});var fe=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(fe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(n(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(n(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(n(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(n(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,ke=null,Ne=null;function Se(e){if(e=ya(e)){if("function"!==typeof je)throw Error(n(280));var t=e.stateNode;t&&(t=va(t),je(e.stateNode,e.type,t))}}function _e(e){ke?Ne?Ne.push(e):Ne=[e]:ke=e}function Ce(){if(ke){var e=ke,t=Ne;if(Ne=ke=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ee(e,t){return e(t)}function Pe(){}var Ae=!1;function Re(e,t,r){if(Ae)return e(t,r);Ae=!0;try{return Ee(e,t,r)}finally{Ae=!1,(null!==ke||null!==Ne)&&(Pe(),Ce())}}function Ie(e,t){var r=e.stateNode;if(null===r)return null;var s=va(r);if(null===s)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!s;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(n(231,t,typeof r));return r}var Oe=!1;if(d)try{var Te={};Object.defineProperty(Te,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Te,Te),window.removeEventListener("test",Te,Te)}catch(de){Oe=!1}function Me(e,t,r,s,a,n,i,l,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var Le=!1,De=null,Fe=!1,Ue=null,Be={onError:function(e){Le=!0,De=e}};function Ve(e,t,r,s,a,n,i,l,o){Le=!1,De=null,Me.apply(Be,arguments)}function ze(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(n(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(n(188));return t!==e?null:e}for(var r=e,s=t;;){var a=r.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(s=a.return)){r=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return We(a),e;if(i===s)return We(a),t;i=i.sibling}throw Error(n(188))}if(r.return!==s.return)r=a,s=i;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,s=i;break}if(o===s){l=!0,s=a,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,s=a;break}if(o===s){l=!0,s=i,r=a;break}o=o.sibling}if(!l)throw Error(n(189))}}if(r.alternate!==s)throw Error(n(190))}if(3!==r.tag)throw Error(n(188));return r.stateNode.current===r?e:t}(e))?qe(e):null}function qe(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=qe(e);if(null!==t)return t;e=e.sibling}return null}var Ye=a.unstable_scheduleCallback,Ke=a.unstable_cancelCallback,Ge=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Ze=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,Xe=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,rt=a.unstable_LowPriority,st=a.unstable_IdlePriority,at=null,nt=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/ot|0)|0},lt=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var r=e.pendingLanes;if(0===r)return 0;var s=0,a=e.suspendedLanes,n=e.pingedLanes,i=268435455&r;if(0!==i){var l=i&~a;0!==l?s=ut(l):0!==(n&=i)&&(s=ut(n))}else 0!==(i=r&~a)?s=ut(i):0!==n&&(s=ut(n));if(0===s)return 0;if(0!==t&&t!==s&&0===(t&a)&&((a=s&-s)>=(n=t&-t)||16===a&&0!==(4194240&n)))return t;if(0!==(4&s)&&(s|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=s;0<t;)a=1<<(r=31-it(t)),s|=e[r],t&=~a;return s}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function xt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function pt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ft(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=r}function yt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-it(r),a=1<<s;a&t|e[s]&t&&(e[s]|=t),r&=~a}}var bt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,kt,Nt,St,_t=!1,Ct=[],Et=null,Pt=null,At=null,Rt=new Map,It=new Map,Ot=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Lt(e,t,r,s,a,n){return null===e||e.nativeEvent!==n?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:n,targetContainers:[a]},null!==t&&(null!==(t=ya(t))&&jt(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Dt(e){var t=fa(e.target);if(null!==t){var r=ze(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=$e(r)))return e.blockedOn=t,void St(e.priority,function(){kt(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=ya(r))&&jt(t),e.blockedOn=r,!1;var s=new(r=e.nativeEvent).constructor(r.type,r);ve=s,r.target.dispatchEvent(s),ve=null,t.shift()}return!0}function Ut(e,t,r){Ft(e)&&r.delete(t)}function Bt(){_t=!1,null!==Et&&Ft(Et)&&(Et=null),null!==Pt&&Ft(Pt)&&(Pt=null),null!==At&&Ft(At)&&(At=null),Rt.forEach(Ut),It.forEach(Ut)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Vt(t,e)}if(0<Ct.length){Vt(Ct[0],e);for(var r=1;r<Ct.length;r++){var s=Ct[r];s.blockedOn===e&&(s.blockedOn=null)}}for(null!==Et&&Vt(Et,e),null!==Pt&&Vt(Pt,e),null!==At&&Vt(At,e),Rt.forEach(t),It.forEach(t),r=0;r<Ot.length;r++)(s=Ot[r]).blockedOn===e&&(s.blockedOn=null);for(;0<Ot.length&&null===(r=Ot[0]).blockedOn;)Dt(r),null===r.blockedOn&&Ot.shift()}var $t=v.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,r,s){var a=bt,n=$t.transition;$t.transition=null;try{bt=1,Yt(e,t,r,s)}finally{bt=a,$t.transition=n}}function qt(e,t,r,s){var a=bt,n=$t.transition;$t.transition=null;try{bt=4,Yt(e,t,r,s)}finally{bt=a,$t.transition=n}}function Yt(e,t,r,s){if(Wt){var a=Gt(e,t,r,s);if(null===a)$s(e,t,s,Kt,r),Mt(e,s);else if(function(e,t,r,s,a){switch(t){case"focusin":return Et=Lt(Et,e,t,r,s,a),!0;case"dragenter":return Pt=Lt(Pt,e,t,r,s,a),!0;case"mouseover":return At=Lt(At,e,t,r,s,a),!0;case"pointerover":var n=a.pointerId;return Rt.set(n,Lt(Rt.get(n)||null,e,t,r,s,a)),!0;case"gotpointercapture":return n=a.pointerId,It.set(n,Lt(It.get(n)||null,e,t,r,s,a)),!0}return!1}(a,e,t,r,s))s.stopPropagation();else if(Mt(e,s),4&t&&-1<Tt.indexOf(e)){for(;null!==a;){var n=ya(a);if(null!==n&&wt(n),null===(n=Gt(e,t,r,s))&&$s(e,t,s,Kt,r),n===a)break;a=n}null!==a&&s.stopPropagation()}else $s(e,t,s,null,r)}}var Kt=null;function Gt(e,t,r,s){if(Kt=null,null!==(e=fa(e=we(s))))if(null===(t=ze(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Xe:return 1;case et:return 4;case tt:case rt:return 16;case st:return 536870912;default:return 16}default:return 16}}var Zt=null,Jt=null,Xt=null;function er(){if(Xt)return Xt;var e,t,r=Jt,s=r.length,a="value"in Zt?Zt.value:Zt.textContent,n=a.length;for(e=0;e<s&&r[e]===a[e];e++);var i=s-e;for(t=1;t<=i&&r[s-t]===a[n-t];t++);return Xt=a.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function sr(){return!1}function ar(e){function t(t,r,s,a,n){for(var i in this._reactName=t,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=n,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?rr:sr,this.isPropagationStopped=sr,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var nr,ir,lr,or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cr=ar(or),dr=D({},or,{view:0,detail:0}),ur=ar(dr),hr=D({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==lr&&(lr&&"mousemove"===e.type?(nr=e.screenX-lr.screenX,ir=e.screenY-lr.screenY):ir=nr=0,lr=e),nr)},movementY:function(e){return"movementY"in e?e.movementY:ir}}),mr=ar(hr),gr=ar(D({},hr,{dataTransfer:0})),xr=ar(D({},dr,{relatedTarget:0})),pr=ar(D({},or,{animationName:0,elapsedTime:0,pseudoElement:0})),fr=D({},or,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yr=ar(fr),br=ar(D({},or,{data:0})),vr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jr[e])&&!!t[e]}function Nr(){return kr}var Sr=D({},dr,{key:function(e){if(e.key){var t=vr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),_r=ar(Sr),Cr=ar(D({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Er=ar(D({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr})),Pr=ar(D({},or,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ar=D({},hr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rr=ar(Ar),Ir=[9,13,27,32],Or=d&&"CompositionEvent"in window,Tr=null;d&&"documentMode"in document&&(Tr=document.documentMode);var Mr=d&&"TextEvent"in window&&!Tr,Lr=d&&(!Or||Tr&&8<Tr&&11>=Tr),Dr=String.fromCharCode(32),Fr=!1;function Ur(e,t){switch(e){case"keyup":return-1!==Ir.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Br(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vr=!1;var zr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $r(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zr[e.type]:"textarea"===t}function Wr(e,t,r,s){_e(s),0<(t=Hs(t,"onChange")).length&&(r=new cr("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var Hr=null,qr=null;function Yr(e){Ds(e,0)}function Kr(e){if(Y(ba(e)))return e}function Gr(e,t){if("change"===e)return t}var Qr=!1;if(d){var Zr;if(d){var Jr="oninput"in document;if(!Jr){var Xr=document.createElement("div");Xr.setAttribute("oninput","return;"),Jr="function"===typeof Xr.oninput}Zr=Jr}else Zr=!1;Qr=Zr&&(!document.documentMode||9<document.documentMode)}function es(){Hr&&(Hr.detachEvent("onpropertychange",ts),qr=Hr=null)}function ts(e){if("value"===e.propertyName&&Kr(qr)){var t=[];Wr(t,qr,e,we(e)),Re(Yr,t)}}function rs(e,t,r){"focusin"===e?(es(),qr=r,(Hr=t).attachEvent("onpropertychange",ts)):"focusout"===e&&es()}function ss(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kr(qr)}function as(e,t){if("click"===e)return Kr(t)}function ns(e,t){if("input"===e||"change"===e)return Kr(t)}var is="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ls(e,t){if(is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var a=r[s];if(!u.call(t,a)||!is(e[a],t[a]))return!1}return!0}function os(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cs(e,t){var r,s=os(e);for(e=0;s;){if(3===s.nodeType){if(r=e+s.textContent.length,e<=t&&r>=t)return{node:s,offset:t-e};e=r}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=os(s)}}function ds(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ds(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function us(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(s){r=!1}if(!r)break;t=K((e=t.contentWindow).document)}return t}function hs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ms(e){var t=us(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ds(r.ownerDocument.documentElement,r)){if(null!==s&&hs(r))if(t=s.start,void 0===(e=s.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,n=Math.min(s.start,a);s=void 0===s.end?n:Math.min(s.end,a),!e.extend&&n>s&&(a=s,s=n,n=a),a=cs(r,n);var i=cs(r,s);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),n>s?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gs=d&&"documentMode"in document&&11>=document.documentMode,xs=null,ps=null,fs=null,ys=!1;function bs(e,t,r){var s=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;ys||null==xs||xs!==K(s)||("selectionStart"in(s=xs)&&hs(s)?s={start:s.selectionStart,end:s.selectionEnd}:s={anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},fs&&ls(fs,s)||(fs=s,0<(s=Hs(ps,"onSelect")).length&&(t=new cr("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=xs)))}function vs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ws={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionend:vs("Transition","TransitionEnd")},js={},ks={};function Ns(e){if(js[e])return js[e];if(!ws[e])return e;var t,r=ws[e];for(t in r)if(r.hasOwnProperty(t)&&t in ks)return js[e]=r[t];return e}d&&(ks=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);var Ss=Ns("animationend"),_s=Ns("animationiteration"),Cs=Ns("animationstart"),Es=Ns("transitionend"),Ps=new Map,As="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rs(e,t){Ps.set(e,t),o(t,[e])}for(var Is=0;Is<As.length;Is++){var Os=As[Is];Rs(Os.toLowerCase(),"on"+(Os[0].toUpperCase()+Os.slice(1)))}Rs(Ss,"onAnimationEnd"),Rs(_s,"onAnimationIteration"),Rs(Cs,"onAnimationStart"),Rs("dblclick","onDoubleClick"),Rs("focusin","onFocus"),Rs("focusout","onBlur"),Rs(Es,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ms=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ts));function Ls(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,s,a,i,l,o,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(n(198));var d=De;Le=!1,De=null,Fe||(Fe=!0,Ue=d)}}(s,t,void 0,e),e.currentTarget=null}function Ds(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var s=e[r],a=s.event;s=s.listeners;e:{var n=void 0;if(t)for(var i=s.length-1;0<=i;i--){var l=s[i],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==n&&a.isPropagationStopped())break e;Ls(a,l,c),n=o}else for(i=0;i<s.length;i++){if(o=(l=s[i]).instance,c=l.currentTarget,l=l.listener,o!==n&&a.isPropagationStopped())break e;Ls(a,l,c),n=o}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Fs(e,t){var r=t[ga];void 0===r&&(r=t[ga]=new Set);var s=e+"__bubble";r.has(s)||(zs(t,e,2,!1),r.add(s))}function Us(e,t,r){var s=0;t&&(s|=4),zs(r,e,s,t)}var Bs="_reactListening"+Math.random().toString(36).slice(2);function Vs(e){if(!e[Bs]){e[Bs]=!0,i.forEach(function(t){"selectionchange"!==t&&(Ms.has(t)||Us(t,!1,e),Us(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bs]||(t[Bs]=!0,Us("selectionchange",!1,t))}}function zs(e,t,r,s){switch(Qt(t)){case 1:var a=Ht;break;case 4:a=qt;break;default:a=Yt}r=a.bind(null,t,r,e),a=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),s?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function $s(e,t,r,s,a){var n=s;if(0===(1&t)&&0===(2&t)&&null!==s)e:for(;;){if(null===s)return;var i=s.tag;if(3===i||4===i){var l=s.stateNode.containerInfo;if(l===a||8===l.nodeType&&l.parentNode===a)break;if(4===i)for(i=s.return;null!==i;){var o=i.tag;if((3===o||4===o)&&((o=i.stateNode.containerInfo)===a||8===o.nodeType&&o.parentNode===a))return;i=i.return}for(;null!==l;){if(null===(i=fa(l)))return;if(5===(o=i.tag)||6===o){s=n=i;continue e}l=l.parentNode}}s=s.return}Re(function(){var s=n,a=we(r),i=[];e:{var l=Ps.get(e);if(void 0!==l){var o=cr,c=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":o=_r;break;case"focusin":c="focus",o=xr;break;case"focusout":c="blur",o=xr;break;case"beforeblur":case"afterblur":o=xr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=mr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=gr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Er;break;case Ss:case _s:case Cs:o=pr;break;case Es:o=Pr;break;case"scroll":o=ur;break;case"wheel":o=Rr;break;case"copy":case"cut":case"paste":o=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Cr}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==l?l+"Capture":null:l;d=[];for(var m,g=s;null!==g;){var x=(m=g).stateNode;if(5===m.tag&&null!==x&&(m=x,null!==h&&(null!=(x=Ie(g,h))&&d.push(Ws(g,x,m)))),u)break;g=g.return}0<d.length&&(l=new o(l,c,null,r,a),i.push({event:l,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||r===ve||!(c=r.relatedTarget||r.fromElement)||!fa(c)&&!c[ma])&&(o||l)&&(l=a.window===a?a:(l=a.ownerDocument)?l.defaultView||l.parentWindow:window,o?(o=s,null!==(c=(c=r.relatedTarget||r.toElement)?fa(c):null)&&(c!==(u=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=s),o!==c)){if(d=mr,x="onMouseLeave",h="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=Cr,x="onPointerLeave",h="onPointerEnter",g="pointer"),u=null==o?l:ba(o),m=null==c?l:ba(c),(l=new d(x,g+"leave",o,r,a)).target=u,l.relatedTarget=m,x=null,fa(a)===s&&((d=new d(h,g+"enter",c,r,a)).target=m,d.relatedTarget=u,x=d),u=x,o&&c)e:{for(h=c,g=0,m=d=o;m;m=qs(m))g++;for(m=0,x=h;x;x=qs(x))m++;for(;0<g-m;)d=qs(d),g--;for(;0<m-g;)h=qs(h),m--;for(;g--;){if(d===h||null!==h&&d===h.alternate)break e;d=qs(d),h=qs(h)}d=null}else d=null;null!==o&&Ys(i,l,o,d,!1),null!==c&&null!==u&&Ys(i,u,c,d,!0)}if("select"===(o=(l=s?ba(s):window).nodeName&&l.nodeName.toLowerCase())||"input"===o&&"file"===l.type)var p=Gr;else if($r(l))if(Qr)p=ns;else{p=ss;var f=rs}else(o=l.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(p=as);switch(p&&(p=p(e,s))?Wr(i,p,r,a):(f&&f(e,l,s),"focusout"===e&&(f=l._wrapperState)&&f.controlled&&"number"===l.type&&ee(l,"number",l.value)),f=s?ba(s):window,e){case"focusin":($r(f)||"true"===f.contentEditable)&&(xs=f,ps=s,fs=null);break;case"focusout":fs=ps=xs=null;break;case"mousedown":ys=!0;break;case"contextmenu":case"mouseup":case"dragend":ys=!1,bs(i,r,a);break;case"selectionchange":if(gs)break;case"keydown":case"keyup":bs(i,r,a)}var y;if(Or)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vr?Ur(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Lr&&"ko"!==r.locale&&(Vr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vr&&(y=er()):(Jt="value"in(Zt=a)?Zt.value:Zt.textContent,Vr=!0)),0<(f=Hs(s,b)).length&&(b=new br(b,e,null,r,a),i.push({event:b,listeners:f}),y?b.data=y:null!==(y=Br(r))&&(b.data=y))),(y=Mr?function(e,t){switch(e){case"compositionend":return Br(t);case"keypress":return 32!==t.which?null:(Fr=!0,Dr);case"textInput":return(e=t.data)===Dr&&Fr?null:e;default:return null}}(e,r):function(e,t){if(Vr)return"compositionend"===e||!Or&&Ur(e,t)?(e=er(),Xt=Jt=Zt=null,Vr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Lr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(s=Hs(s,"onBeforeInput")).length&&(a=new br("onBeforeInput","beforeinput",null,r,a),i.push({event:a,listeners:s}),a.data=y))}Ds(i,t)})}function Ws(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Hs(e,t){for(var r=t+"Capture",s=[];null!==e;){var a=e,n=a.stateNode;5===a.tag&&null!==n&&(a=n,null!=(n=Ie(e,r))&&s.unshift(Ws(e,n,a)),null!=(n=Ie(e,t))&&s.push(Ws(e,n,a))),e=e.return}return s}function qs(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ys(e,t,r,s,a){for(var n=t._reactName,i=[];null!==r&&r!==s;){var l=r,o=l.alternate,c=l.stateNode;if(null!==o&&o===s)break;5===l.tag&&null!==c&&(l=c,a?null!=(o=Ie(r,n))&&i.unshift(Ws(r,o,l)):a||null!=(o=Ie(r,n))&&i.push(Ws(r,o,l))),r=r.return}0!==i.length&&e.push({event:t,listeners:i})}var Ks=/\r\n?/g,Gs=/\u0000|\uFFFD/g;function Qs(e){return("string"===typeof e?e:""+e).replace(Ks,"\n").replace(Gs,"")}function Zs(e,t,r){if(t=Qs(t),Qs(e)!==t&&r)throw Error(n(425))}function Js(){}var Xs=null,ea=null;function ta(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,sa="function"===typeof clearTimeout?clearTimeout:void 0,aa="function"===typeof Promise?Promise:void 0,na="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof aa?function(e){return aa.resolve(null).then(e).catch(ia)}:ra;function ia(e){setTimeout(function(){throw e})}function la(e,t){var r=t,s=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===s)return e.removeChild(a),void zt(t);s--}else"$"!==r&&"$?"!==r&&"$!"!==r||s++;r=a}while(r);zt(t)}function oa(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ca(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ua="__reactFiber$"+da,ha="__reactProps$"+da,ma="__reactContainer$"+da,ga="__reactEvents$"+da,xa="__reactListeners$"+da,pa="__reactHandles$"+da;function fa(e){var t=e[ua];if(t)return t;for(var r=e.parentNode;r;){if(t=r[ma]||r[ua]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=ca(e);null!==e;){if(r=e[ua])return r;e=ca(e)}return t}r=(e=r).parentNode}return null}function ya(e){return!(e=e[ua]||e[ma])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(n(33))}function va(e){return e[ha]||null}var wa=[],ja=-1;function ka(e){return{current:e}}function Na(e){0>ja||(e.current=wa[ja],wa[ja]=null,ja--)}function Sa(e,t){ja++,wa[ja]=e.current,e.current=t}var _a={},Ca=ka(_a),Ea=ka(!1),Pa=_a;function Aa(e,t){var r=e.type.contextTypes;if(!r)return _a;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a,n={};for(a in r)n[a]=t[a];return s&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=n),n}function Ra(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ia(){Na(Ea),Na(Ca)}function Oa(e,t,r){if(Ca.current!==_a)throw Error(n(168));Sa(Ca,t),Sa(Ea,r)}function Ta(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,"function"!==typeof s.getChildContext)return r;for(var a in s=s.getChildContext())if(!(a in t))throw Error(n(108,$(e)||"Unknown",a));return D({},r,s)}function Ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_a,Pa=Ca.current,Sa(Ca,e),Sa(Ea,Ea.current),!0}function La(e,t,r){var s=e.stateNode;if(!s)throw Error(n(169));r?(e=Ta(e,t,Pa),s.__reactInternalMemoizedMergedChildContext=e,Na(Ea),Na(Ca),Sa(Ca,e)):Na(Ea),Sa(Ea,r)}var Da=null,Fa=!1,Ua=!1;function Ba(e){null===Da?Da=[e]:Da.push(e)}function Va(){if(!Ua&&null!==Da){Ua=!0;var e=0,t=bt;try{var r=Da;for(bt=1;e<r.length;e++){var s=r[e];do{s=s(!0)}while(null!==s)}Da=null,Fa=!1}catch(a){throw null!==Da&&(Da=Da.slice(e+1)),Ye(Xe,Va),a}finally{bt=t,Ua=!1}}return null}var za=[],$a=0,Wa=null,Ha=0,qa=[],Ya=0,Ka=null,Ga=1,Qa="";function Za(e,t){za[$a++]=Ha,za[$a++]=Wa,Wa=e,Ha=t}function Ja(e,t,r){qa[Ya++]=Ga,qa[Ya++]=Qa,qa[Ya++]=Ka,Ka=e;var s=Ga;e=Qa;var a=32-it(s)-1;s&=~(1<<a),r+=1;var n=32-it(t)+a;if(30<n){var i=a-a%5;n=(s&(1<<i)-1).toString(32),s>>=i,a-=i,Ga=1<<32-it(t)+a|r<<a|s,Qa=n+e}else Ga=1<<n|r<<a|s,Qa=e}function Xa(e){null!==e.return&&(Za(e,1),Ja(e,1,0))}function en(e){for(;e===Wa;)Wa=za[--$a],za[$a]=null,Ha=za[--$a],za[$a]=null;for(;e===Ka;)Ka=qa[--Ya],qa[Ya]=null,Qa=qa[--Ya],qa[Ya]=null,Ga=qa[--Ya],qa[Ya]=null}var tn=null,rn=null,sn=!1,an=null;function nn(e,t){var r=Rc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function ln(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,tn=e,rn=oa(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,tn=e,rn=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Ka?{id:Ga,overflow:Qa}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=Rc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,tn=e,rn=null,!0);default:return!1}}function on(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cn(e){if(sn){var t=rn;if(t){var r=t;if(!ln(e,t)){if(on(e))throw Error(n(418));t=oa(r.nextSibling);var s=tn;t&&ln(e,t)?nn(s,r):(e.flags=-4097&e.flags|2,sn=!1,tn=e)}}else{if(on(e))throw Error(n(418));e.flags=-4097&e.flags|2,sn=!1,tn=e}}}function dn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;tn=e}function un(e){if(e!==tn)return!1;if(!sn)return dn(e),sn=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ta(e.type,e.memoizedProps)),t&&(t=rn)){if(on(e))throw hn(),Error(n(418));for(;t;)nn(e,t),t=oa(t.nextSibling)}if(dn(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(n(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){rn=oa(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}rn=null}}else rn=tn?oa(e.stateNode.nextSibling):null;return!0}function hn(){for(var e=rn;e;)e=oa(e.nextSibling)}function mn(){rn=tn=null,sn=!1}function gn(e){null===an?an=[e]:an.push(e)}var xn=v.ReactCurrentBatchConfig;function pn(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(n(309));var s=r.stateNode}if(!s)throw Error(n(147,e));var a=s,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(n(284));if(!r._owner)throw Error(n(290,e))}return e}function fn(e,t){throw e=Object.prototype.toString.call(t),Error(n(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yn(e){return(0,e._init)(e._payload)}function bn(e){function t(t,r){if(e){var s=t.deletions;null===s?(t.deletions=[r],t.flags|=16):s.push(r)}}function r(r,s){if(!e)return null;for(;null!==s;)t(r,s),s=s.sibling;return null}function s(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function i(t,r,s){return t.index=s,e?null!==(s=t.alternate)?(s=s.index)<r?(t.flags|=2,r):s:(t.flags|=2,r):(t.flags|=1048576,r)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,r,s){return null===t||6!==t.tag?((t=Dc(r,e.mode,s)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,s){var n=r.type;return n===k?u(e,t,r.props.children,s,r.key):null!==t&&(t.elementType===n||"object"===typeof n&&null!==n&&n.$$typeof===I&&yn(n)===t.type)?((s=a(t,r.props)).ref=pn(e,t,r),s.return=e,s):((s=Tc(r.type,r.key,r.props,null,e.mode,s)).ref=pn(e,t,r),s.return=e,s)}function d(e,t,r,s){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Fc(r,e.mode,s)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function u(e,t,r,s,n){return null===t||7!==t.tag?((t=Mc(r,e.mode,s,n)).return=e,t):((t=a(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(r=Tc(t.type,t.key,t.props,null,e.mode,r)).ref=pn(e,null,t),r.return=e,r;case j:return(t=Fc(t,e.mode,r)).return=e,t;case I:return h(e,(0,t._init)(t._payload),r)}if(te(t)||M(t))return(t=Mc(t,e.mode,r,null)).return=e,t;fn(e,t)}return null}function m(e,t,r,s){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:o(e,t,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===a?c(e,t,r,s):null;case j:return r.key===a?d(e,t,r,s):null;case I:return m(e,t,(a=r._init)(r._payload),s)}if(te(r)||M(r))return null!==a?null:u(e,t,r,s,null);fn(e,r)}return null}function g(e,t,r,s,a){if("string"===typeof s&&""!==s||"number"===typeof s)return o(t,e=e.get(r)||null,""+s,a);if("object"===typeof s&&null!==s){switch(s.$$typeof){case w:return c(t,e=e.get(null===s.key?r:s.key)||null,s,a);case j:return d(t,e=e.get(null===s.key?r:s.key)||null,s,a);case I:return g(e,t,r,(0,s._init)(s._payload),a)}if(te(s)||M(s))return u(t,e=e.get(r)||null,s,a,null);fn(t,s)}return null}function x(a,n,l,o){for(var c=null,d=null,u=n,x=n=0,p=null;null!==u&&x<l.length;x++){u.index>x?(p=u,u=null):p=u.sibling;var f=m(a,u,l[x],o);if(null===f){null===u&&(u=p);break}e&&u&&null===f.alternate&&t(a,u),n=i(f,n,x),null===d?c=f:d.sibling=f,d=f,u=p}if(x===l.length)return r(a,u),sn&&Za(a,x),c;if(null===u){for(;x<l.length;x++)null!==(u=h(a,l[x],o))&&(n=i(u,n,x),null===d?c=u:d.sibling=u,d=u);return sn&&Za(a,x),c}for(u=s(a,u);x<l.length;x++)null!==(p=g(u,a,x,l[x],o))&&(e&&null!==p.alternate&&u.delete(null===p.key?x:p.key),n=i(p,n,x),null===d?c=p:d.sibling=p,d=p);return e&&u.forEach(function(e){return t(a,e)}),sn&&Za(a,x),c}function p(a,l,o,c){var d=M(o);if("function"!==typeof d)throw Error(n(150));if(null==(o=d.call(o)))throw Error(n(151));for(var u=d=null,x=l,p=l=0,f=null,y=o.next();null!==x&&!y.done;p++,y=o.next()){x.index>p?(f=x,x=null):f=x.sibling;var b=m(a,x,y.value,c);if(null===b){null===x&&(x=f);break}e&&x&&null===b.alternate&&t(a,x),l=i(b,l,p),null===u?d=b:u.sibling=b,u=b,x=f}if(y.done)return r(a,x),sn&&Za(a,p),d;if(null===x){for(;!y.done;p++,y=o.next())null!==(y=h(a,y.value,c))&&(l=i(y,l,p),null===u?d=y:u.sibling=y,u=y);return sn&&Za(a,p),d}for(x=s(a,x);!y.done;p++,y=o.next())null!==(y=g(x,a,p,y.value,c))&&(e&&null!==y.alternate&&x.delete(null===y.key?p:y.key),l=i(y,l,p),null===u?d=y:u.sibling=y,u=y);return e&&x.forEach(function(e){return t(a,e)}),sn&&Za(a,p),d}return function e(s,n,i,o){if("object"===typeof i&&null!==i&&i.type===k&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,d=n;null!==d;){if(d.key===c){if((c=i.type)===k){if(7===d.tag){r(s,d.sibling),(n=a(d,i.props.children)).return=s,s=n;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&yn(c)===d.type){r(s,d.sibling),(n=a(d,i.props)).ref=pn(s,d,i),n.return=s,s=n;break e}r(s,d);break}t(s,d),d=d.sibling}i.type===k?((n=Mc(i.props.children,s.mode,o,i.key)).return=s,s=n):((o=Tc(i.type,i.key,i.props,null,s.mode,o)).ref=pn(s,n,i),o.return=s,s=o)}return l(s);case j:e:{for(d=i.key;null!==n;){if(n.key===d){if(4===n.tag&&n.stateNode.containerInfo===i.containerInfo&&n.stateNode.implementation===i.implementation){r(s,n.sibling),(n=a(n,i.children||[])).return=s,s=n;break e}r(s,n);break}t(s,n),n=n.sibling}(n=Fc(i,s.mode,o)).return=s,s=n}return l(s);case I:return e(s,n,(d=i._init)(i._payload),o)}if(te(i))return x(s,n,i,o);if(M(i))return p(s,n,i,o);fn(s,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==n&&6===n.tag?(r(s,n.sibling),(n=a(n,i)).return=s,s=n):(r(s,n),(n=Dc(i,s.mode,o)).return=s,s=n),l(s)):r(s,n)}}var vn=bn(!0),wn=bn(!1),jn=ka(null),kn=null,Nn=null,Sn=null;function _n(){Sn=Nn=kn=null}function Cn(e){var t=jn.current;Na(jn),e._currentValue=t}function En(e,t,r){for(;null!==e;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==s&&(s.childLanes|=t)):null!==s&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Pn(e,t){kn=e,Sn=Nn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yl=!0),e.firstContext=null)}function An(e){var t=e._currentValue;if(Sn!==e)if(e={context:e,memoizedValue:t,next:null},null===Nn){if(null===kn)throw Error(n(308));Nn=e,kn.dependencies={lanes:0,firstContext:e}}else Nn=Nn.next=e;return t}var Rn=null;function In(e){null===Rn?Rn=[e]:Rn.push(e)}function On(e,t,r,s){var a=t.interleaved;return null===a?(r.next=r,In(t)):(r.next=a.next,a.next=r),t.interleaved=r,Tn(e,s)}function Tn(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var Mn=!1;function Ln(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Un(e,t,r){var s=e.updateQueue;if(null===s)return null;if(s=s.shared,0!==(2&Eo)){var a=s.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Tn(e,r)}return null===(a=s.interleaved)?(t.next=t,In(s)):(t.next=a.next,a.next=t),s.interleaved=t,Tn(e,r)}function Bn(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var s=t.lanes;r|=s&=e.pendingLanes,t.lanes=r,yt(e,r)}}function Vn(e,t){var r=e.updateQueue,s=e.alternate;if(null!==s&&r===(s=s.updateQueue)){var a=null,n=null;if(null!==(r=r.firstBaseUpdate)){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===n?a=n=i:n=n.next=i,r=r.next}while(null!==r);null===n?a=n=t:n=n.next=t}else a=n=t;return r={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:n,shared:s.shared,effects:s.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function zn(e,t,r,s){var a=e.updateQueue;Mn=!1;var n=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var o=l,c=o.next;o.next=null,null===i?n=c:i.next=c,i=o;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=o))}if(null!==n){var u=a.baseState;for(i=0,d=c=o=null,l=n;;){var h=l.lane,m=l.eventTime;if((s&h)===h){null!==d&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,x=l;switch(h=t,m=r,x.tag){case 1:if("function"===typeof(g=x.payload)){u=g.call(m,u,h);break e}u=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(h="function"===typeof(g=x.payload)?g.call(m,u,h):g)||void 0===h)break e;u=D({},u,h);break e;case 2:Mn=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=m,o=u):d=d.next=m,i|=h;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(h=l).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===d&&(o=u),a.baseState=o,a.firstBaseUpdate=c,a.lastBaseUpdate=d,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===n&&(a.shared.lanes=0);Lo|=i,e.lanes=i,e.memoizedState=u}}function $n(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(null!==a){if(s.callback=null,s=r,"function"!==typeof a)throw Error(n(191,a));a.call(s)}}}var Wn={},Hn=ka(Wn),qn=ka(Wn),Yn=ka(Wn);function Kn(e){if(e===Wn)throw Error(n(174));return e}function Gn(e,t){switch(Sa(Yn,t),Sa(qn,e),Sa(Hn,Wn),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Na(Hn),Sa(Hn,t)}function Qn(){Na(Hn),Na(qn),Na(Yn)}function Zn(e){Kn(Yn.current);var t=Kn(Hn.current),r=oe(t,e.type);t!==r&&(Sa(qn,e),Sa(Hn,r))}function Jn(e){qn.current===e&&(Na(Hn),Na(qn))}var Xn=ka(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ri(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var si=v.ReactCurrentDispatcher,ai=v.ReactCurrentBatchConfig,ni=0,ii=null,li=null,oi=null,ci=!1,di=!1,ui=0,hi=0;function mi(){throw Error(n(321))}function gi(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!is(e[r],t[r]))return!1;return!0}function xi(e,t,r,s,a,i){if(ni=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,si.current=null===e||null===e.memoizedState?Ji:Xi,e=r(s,a),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(n(301));i+=1,oi=li=null,t.updateQueue=null,si.current=el,e=r(s,a)}while(di)}if(si.current=Zi,t=null!==li&&null!==li.next,ni=0,oi=li=ii=null,ci=!1,t)throw Error(n(300));return e}function pi(){var e=0!==ui;return ui=0,e}function fi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===oi?ii.memoizedState=oi=e:oi=oi.next=e,oi}function yi(){if(null===li){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var t=null===oi?ii.memoizedState:oi.next;if(null!==t)oi=t,li=e;else{if(null===e)throw Error(n(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===oi?ii.memoizedState=oi=e:oi=oi.next=e}return oi}function bi(e,t){return"function"===typeof t?t(e):t}function vi(e){var t=yi(),r=t.queue;if(null===r)throw Error(n(311));r.lastRenderedReducer=e;var s=li,a=s.baseQueue,i=r.pending;if(null!==i){if(null!==a){var l=a.next;a.next=i.next,i.next=l}s.baseQueue=a=i,r.pending=null}if(null!==a){i=a.next,s=s.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((ni&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=h,l=s):c=c.next=h,ii.lanes|=u,Lo|=u}d=d.next}while(null!==d&&d!==i);null===c?l=s:c.next=o,is(s,t.memoizedState)||(yl=!0),t.memoizedState=s,t.baseState=l,t.baseQueue=c,r.lastRenderedState=s}if(null!==(e=r.interleaved)){a=e;do{i=a.lane,ii.lanes|=i,Lo|=i,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function wi(e){var t=yi(),r=t.queue;if(null===r)throw Error(n(311));r.lastRenderedReducer=e;var s=r.dispatch,a=r.pending,i=t.memoizedState;if(null!==a){r.pending=null;var l=a=a.next;do{i=e(i,l.action),l=l.next}while(l!==a);is(i,t.memoizedState)||(yl=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function ji(){}function ki(e,t){var r=ii,s=yi(),a=t(),i=!is(s.memoizedState,a);if(i&&(s.memoizedState=a,yl=!0),s=s.queue,Mi(_i.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||null!==oi&&1&oi.memoizedState.tag){if(r.flags|=2048,Ai(9,Si.bind(null,r,s,a,t),void 0,null),null===Po)throw Error(n(349));0!==(30&ni)||Ni(r,t,a)}return a}function Ni(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Si(e,t,r,s){t.value=r,t.getSnapshot=s,Ci(t)&&Ei(e)}function _i(e,t,r){return r(function(){Ci(t)&&Ei(e)})}function Ci(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!is(e,r)}catch(s){return!0}}function Ei(e){var t=Tn(e,1);null!==t&&rc(t,e,1,-1)}function Pi(e){var t=fi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t.queue=e,e=e.dispatch=Yi.bind(null,ii,e),[t.memoizedState,e]}function Ai(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e),e}function Ri(){return yi().memoizedState}function Ii(e,t,r,s){var a=fi();ii.flags|=e,a.memoizedState=Ai(1|t,r,void 0,void 0===s?null:s)}function Oi(e,t,r,s){var a=yi();s=void 0===s?null:s;var n=void 0;if(null!==li){var i=li.memoizedState;if(n=i.destroy,null!==s&&gi(s,i.deps))return void(a.memoizedState=Ai(t,r,n,s))}ii.flags|=e,a.memoizedState=Ai(1|t,r,n,s)}function Ti(e,t){return Ii(8390656,8,e,t)}function Mi(e,t){return Oi(2048,8,e,t)}function Li(e,t){return Oi(4,2,e,t)}function Di(e,t){return Oi(4,4,e,t)}function Fi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ui(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Oi(4,4,Fi.bind(null,t,e),r)}function Bi(){}function Vi(e,t){var r=yi();t=void 0===t?null:t;var s=r.memoizedState;return null!==s&&null!==t&&gi(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function zi(e,t){var r=yi();t=void 0===t?null:t;var s=r.memoizedState;return null!==s&&null!==t&&gi(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function $i(e,t,r){return 0===(21&ni)?(e.baseState&&(e.baseState=!1,yl=!0),e.memoizedState=r):(is(r,t)||(r=xt(),ii.lanes|=r,Lo|=r,e.baseState=!0),t)}function Wi(e,t){var r=bt;bt=0!==r&&4>r?r:4,e(!0);var s=ai.transition;ai.transition={};try{e(!1),t()}finally{bt=r,ai.transition=s}}function Hi(){return yi().memoizedState}function qi(e,t,r){var s=tc(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},Ki(e))Gi(t,r);else if(null!==(r=On(e,t,r,s))){rc(r,e,s,ec()),Qi(r,t,s)}}function Yi(e,t,r){var s=tc(e),a={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ki(e))Gi(t,a);else{var n=e.alternate;if(0===e.lanes&&(null===n||0===n.lanes)&&null!==(n=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=n(i,r);if(a.hasEagerState=!0,a.eagerState=l,is(l,i)){var o=t.interleaved;return null===o?(a.next=a,In(t)):(a.next=o.next,o.next=a),void(t.interleaved=a)}}catch(c){}null!==(r=On(e,t,a,s))&&(rc(r,e,s,a=ec()),Qi(r,t,s))}}function Ki(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Gi(e,t){di=ci=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Qi(e,t,r){if(0!==(4194240&r)){var s=t.lanes;r|=s&=e.pendingLanes,t.lanes=r,yt(e,r)}}var Zi={readContext:An,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},Ji={readContext:An,useCallback:function(e,t){return fi().memoizedState=[e,void 0===t?null:t],e},useContext:An,useEffect:Ti,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ii(4194308,4,Fi.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ii(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ii(4,2,e,t)},useMemo:function(e,t){var r=fi();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=fi();return t=void 0!==r?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=qi.bind(null,ii,e),[s.memoizedState,e]},useRef:function(e){return e={current:e},fi().memoizedState=e},useState:Pi,useDebugValue:Bi,useDeferredValue:function(e){return fi().memoizedState=e},useTransition:function(){var e=Pi(!1),t=e[0];return e=Wi.bind(null,e[1]),fi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=ii,a=fi();if(sn){if(void 0===r)throw Error(n(407));r=r()}else{if(r=t(),null===Po)throw Error(n(349));0!==(30&ni)||Ni(s,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,Ti(_i.bind(null,s,i,e),[e]),s.flags|=2048,Ai(9,Si.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=fi(),t=Po.identifierPrefix;if(sn){var r=Qa;t=":"+t+"R"+(r=(Ga&~(1<<32-it(Ga)-1)).toString(32)+r),0<(r=ui++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xi={readContext:An,useCallback:Vi,useContext:An,useEffect:Mi,useImperativeHandle:Ui,useInsertionEffect:Li,useLayoutEffect:Di,useMemo:zi,useReducer:vi,useRef:Ri,useState:function(){return vi(bi)},useDebugValue:Bi,useDeferredValue:function(e){return $i(yi(),li.memoizedState,e)},useTransition:function(){return[vi(bi)[0],yi().memoizedState]},useMutableSource:ji,useSyncExternalStore:ki,useId:Hi,unstable_isNewReconciler:!1},el={readContext:An,useCallback:Vi,useContext:An,useEffect:Mi,useImperativeHandle:Ui,useInsertionEffect:Li,useLayoutEffect:Di,useMemo:zi,useReducer:wi,useRef:Ri,useState:function(){return wi(bi)},useDebugValue:Bi,useDeferredValue:function(e){var t=yi();return null===li?t.memoizedState=e:$i(t,li.memoizedState,e)},useTransition:function(){return[wi(bi)[0],yi().memoizedState]},useMutableSource:ji,useSyncExternalStore:ki,useId:Hi,unstable_isNewReconciler:!1};function tl(e,t){if(e&&e.defaultProps){for(var r in t=D({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function rl(e,t,r,s){r=null===(r=r(s,t=e.memoizedState))||void 0===r?t:D({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var sl={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=ec(),a=tc(e),n=Fn(s,a);n.payload=t,void 0!==r&&null!==r&&(n.callback=r),null!==(t=Un(e,n,a))&&(rc(t,e,a,s),Bn(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=ec(),a=tc(e),n=Fn(s,a);n.tag=1,n.payload=t,void 0!==r&&null!==r&&(n.callback=r),null!==(t=Un(e,n,a))&&(rc(t,e,a,s),Bn(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ec(),s=tc(e),a=Fn(r,s);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Un(e,a,s))&&(rc(t,e,s,r),Bn(t,e,s))}};function al(e,t,r,s,a,n,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(s,n,i):!t.prototype||!t.prototype.isPureReactComponent||(!ls(r,s)||!ls(a,n))}function nl(e,t,r){var s=!1,a=_a,n=t.contextType;return"object"===typeof n&&null!==n?n=An(n):(a=Ra(t)?Pa:Ca.current,n=(s=null!==(s=t.contextTypes)&&void 0!==s)?Aa(e,a):_a),t=new t(r,n),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=sl,e.stateNode=t,t._reactInternals=e,s&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=n),t}function il(e,t,r,s){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,s),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&sl.enqueueReplaceState(t,t.state,null)}function ll(e,t,r,s){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ln(e);var n=t.contextType;"object"===typeof n&&null!==n?a.context=An(n):(n=Ra(t)?Pa:Ca.current,a.context=Aa(e,n)),a.state=e.memoizedState,"function"===typeof(n=t.getDerivedStateFromProps)&&(rl(e,t,n,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&sl.enqueueReplaceState(a,a.state,null),zn(e,r,a,s),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function ol(e,t){try{var r="",s=t;do{r+=V(s),s=s.return}while(s);var a=r}catch(n){a="\nError generating stack: "+n.message+"\n"+n.stack}return{value:e,source:t,stack:a,digest:null}}function cl(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function dl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ul="function"===typeof WeakMap?WeakMap:Map;function hl(e,t,r){(r=Fn(-1,r)).tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Wo||(Wo=!0,Ho=s),dl(0,t)},r}function ml(e,t,r){(r=Fn(-1,r)).tag=3;var s=e.type.getDerivedStateFromError;if("function"===typeof s){var a=t.value;r.payload=function(){return s(a)},r.callback=function(){dl(0,t)}}var n=e.stateNode;return null!==n&&"function"===typeof n.componentDidCatch&&(r.callback=function(){dl(0,t),"function"!==typeof s&&(null===qo?qo=new Set([this]):qo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function gl(e,t,r){var s=e.pingCache;if(null===s){s=e.pingCache=new ul;var a=new Set;s.set(t,a)}else void 0===(a=s.get(t))&&(a=new Set,s.set(t,a));a.has(r)||(a.add(r),e=Sc.bind(null,e,t,r),t.then(e,e))}function xl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function pl(e,t,r,s,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Fn(-1,1)).tag=2,Un(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var fl=v.ReactCurrentOwner,yl=!1;function bl(e,t,r,s){t.child=null===e?wn(t,null,r,s):vn(t,e.child,r,s)}function vl(e,t,r,s,a){r=r.render;var n=t.ref;return Pn(t,a),s=xi(e,t,r,s,n,a),r=pi(),null===e||yl?(sn&&r&&Xa(t),t.flags|=1,bl(e,t,s,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,$l(e,t,a))}function wl(e,t,r,s,a){if(null===e){var n=r.type;return"function"!==typeof n||Ic(n)||void 0!==n.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Tc(r.type,null,s,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=n,jl(e,t,n,s,a))}if(n=e.child,0===(e.lanes&a)){var i=n.memoizedProps;if((r=null!==(r=r.compare)?r:ls)(i,s)&&e.ref===t.ref)return $l(e,t,a)}return t.flags|=1,(e=Oc(n,s)).ref=t.ref,e.return=t,t.child=e}function jl(e,t,r,s,a){if(null!==e){var n=e.memoizedProps;if(ls(n,s)&&e.ref===t.ref){if(yl=!1,t.pendingProps=s=n,0===(e.lanes&a))return t.lanes=e.lanes,$l(e,t,a);0!==(131072&e.flags)&&(yl=!0)}}return Sl(e,t,r,s,a)}function kl(e,t,r){var s=t.pendingProps,a=s.children,n=null!==e?e.memoizedState:null;if("hidden"===s.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sa(Oo,Io),Io|=r;else{if(0===(1073741824&r))return e=null!==n?n.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sa(Oo,Io),Io|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=null!==n?n.baseLanes:r,Sa(Oo,Io),Io|=s}else null!==n?(s=n.baseLanes|r,t.memoizedState=null):s=r,Sa(Oo,Io),Io|=s;return bl(e,t,a,r),t.child}function Nl(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Sl(e,t,r,s,a){var n=Ra(r)?Pa:Ca.current;return n=Aa(t,n),Pn(t,a),r=xi(e,t,r,s,n,a),s=pi(),null===e||yl?(sn&&s&&Xa(t),t.flags|=1,bl(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,$l(e,t,a))}function _l(e,t,r,s,a){if(Ra(r)){var n=!0;Ma(t)}else n=!1;if(Pn(t,a),null===t.stateNode)zl(e,t),nl(t,r,s),ll(t,r,s,a),s=!0;else if(null===e){var i=t.stateNode,l=t.memoizedProps;i.props=l;var o=i.context,c=r.contextType;"object"===typeof c&&null!==c?c=An(c):c=Aa(t,c=Ra(r)?Pa:Ca.current);var d=r.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==s||o!==c)&&il(t,i,s,c),Mn=!1;var h=t.memoizedState;i.state=h,zn(t,s,i,a),o=t.memoizedState,l!==s||h!==o||Ea.current||Mn?("function"===typeof d&&(rl(t,r,d,s),o=t.memoizedState),(l=Mn||al(t,r,l,s,h,o,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=o),i.props=s,i.state=o,i.context=c,s=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,Dn(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:tl(t.type,l),i.props=c,u=t.pendingProps,h=i.context,"object"===typeof(o=r.contextType)&&null!==o?o=An(o):o=Aa(t,o=Ra(r)?Pa:Ca.current);var m=r.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==u||h!==o)&&il(t,i,s,o),Mn=!1,h=t.memoizedState,i.state=h,zn(t,s,i,a);var g=t.memoizedState;l!==u||h!==g||Ea.current||Mn?("function"===typeof m&&(rl(t,r,m,s),g=t.memoizedState),(c=Mn||al(t,r,c,s,h,g,o)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(s,g,o),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(s,g,o)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=g),i.props=s,i.state=g,i.context=o,s=c):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return Cl(e,t,r,s,n,a)}function Cl(e,t,r,s,a,n){Nl(e,t);var i=0!==(128&t.flags);if(!s&&!i)return a&&La(t,r,!1),$l(e,t,n);s=t.stateNode,fl.current=t;var l=i&&"function"!==typeof r.getDerivedStateFromError?null:s.render();return t.flags|=1,null!==e&&i?(t.child=vn(t,e.child,null,n),t.child=vn(t,null,l,n)):bl(e,t,l,n),t.memoizedState=s.state,a&&La(t,r,!0),t.child}function El(e){var t=e.stateNode;t.pendingContext?Oa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oa(0,t.context,!1),Gn(e,t.containerInfo)}function Pl(e,t,r,s,a){return mn(),gn(a),t.flags|=256,bl(e,t,r,s),t.child}var Al,Rl,Il,Ol,Tl={dehydrated:null,treeContext:null,retryLane:0};function Ml(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ll(e,t,r){var s,a=t.pendingProps,i=Xn.current,l=!1,o=0!==(128&t.flags);if((s=o)||(s=(null===e||null!==e.memoizedState)&&0!==(2&i)),s?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Sa(Xn,1&i),null===e)return cn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=a.children,e=a.fallback,l?(a=t.mode,l=t.child,o={mode:"hidden",children:o},0===(1&a)&&null!==l?(l.childLanes=0,l.pendingProps=o):l=Lc(o,a,0,null),e=Mc(e,a,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Ml(r),t.memoizedState=Tl,e):Dl(t,o));if(null!==(i=e.memoizedState)&&null!==(s=i.dehydrated))return function(e,t,r,s,a,i,l){if(r)return 256&t.flags?(t.flags&=-257,Fl(e,t,l,s=cl(Error(n(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=Lc({mode:"visible",children:s.children},a,0,null),(i=Mc(i,a,l,null)).flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,0!==(1&t.mode)&&vn(t,e.child,null,l),t.child.memoizedState=Ml(l),t.memoizedState=Tl,i);if(0===(1&t.mode))return Fl(e,t,l,null);if("$!"===a.data){if(s=a.nextSibling&&a.nextSibling.dataset)var o=s.dgst;return s=o,Fl(e,t,l,s=cl(i=Error(n(419)),s,void 0))}if(o=0!==(l&e.childLanes),yl||o){if(null!==(s=Po)){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(s.suspendedLanes|l))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Tn(e,a),rc(s,e,a,-1))}return xc(),Fl(e,t,l,s=cl(Error(n(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,rn=oa(a.nextSibling),tn=t,sn=!0,an=null,null!==e&&(qa[Ya++]=Ga,qa[Ya++]=Qa,qa[Ya++]=Ka,Ga=e.id,Qa=e.overflow,Ka=t),t=Dl(t,s.children),t.flags|=4096,t)}(e,t,o,a,s,i,r);if(l){l=a.fallback,o=t.mode,s=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&o)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Oc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==s?l=Oc(s,l):(l=Mc(l,o,r,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,o=null===(o=e.child.memoizedState)?Ml(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~r,t.memoizedState=Tl,a}return e=(l=e.child).sibling,a=Oc(l,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Dl(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fl(e,t,r,s){return null!==s&&gn(s),vn(t,e.child,null,r),(e=Dl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ul(e,t,r){e.lanes|=t;var s=e.alternate;null!==s&&(s.lanes|=t),En(e.return,t,r)}function Bl(e,t,r,s,a){var n=e.memoizedState;null===n?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:a}:(n.isBackwards=t,n.rendering=null,n.renderingStartTime=0,n.last=s,n.tail=r,n.tailMode=a)}function Vl(e,t,r){var s=t.pendingProps,a=s.revealOrder,n=s.tail;if(bl(e,t,s.children,r),0!==(2&(s=Xn.current)))s=1&s|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ul(e,r,t);else if(19===e.tag)Ul(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Sa(Xn,s),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===ei(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Bl(t,!1,a,r,n);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ei(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Bl(t,!0,r,null,n);break;case"together":Bl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zl(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $l(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Lo|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(n(153));if(null!==t.child){for(r=Oc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Oc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Wl(e,t){if(!sn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;null!==r;)null!==r.alternate&&(s=r),r=r.sibling;null===s?t||null===e.tail?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,s=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,s|=14680064&a.subtreeFlags,s|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function ql(e,t,r){var s=t.pendingProps;switch(en(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hl(t),null;case 1:case 17:return Ra(t.type)&&Ia(),Hl(t),null;case 3:return s=t.stateNode,Qn(),Na(Ea),Na(Ca),ri(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==e&&null!==e.child||(un(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==an&&(ic(an),an=null))),Rl(e,t),Hl(t),null;case 5:Jn(t);var a=Kn(Yn.current);if(r=t.type,null!==e&&null!=t.stateNode)Il(e,t,r,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(null===t.stateNode)throw Error(n(166));return Hl(t),null}if(e=Kn(Hn.current),un(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[ua]=t,s[ha]=i,e=0!==(1&t.mode),r){case"dialog":Fs("cancel",s),Fs("close",s);break;case"iframe":case"object":case"embed":Fs("load",s);break;case"video":case"audio":for(a=0;a<Ts.length;a++)Fs(Ts[a],s);break;case"source":Fs("error",s);break;case"img":case"image":case"link":Fs("error",s),Fs("load",s);break;case"details":Fs("toggle",s);break;case"input":Q(s,i),Fs("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},Fs("invalid",s);break;case"textarea":ae(s,i),Fs("invalid",s)}for(var o in ye(r,i),a=null,i)if(i.hasOwnProperty(o)){var c=i[o];"children"===o?"string"===typeof c?s.textContent!==c&&(!0!==i.suppressHydrationWarning&&Zs(s.textContent,c,e),a=["children",c]):"number"===typeof c&&s.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Zs(s.textContent,c,e),a=["children",""+c]):l.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&Fs("scroll",s)}switch(r){case"input":q(s),X(s,i,!0);break;case"textarea":q(s),ie(s);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(s.onclick=Js)}s=a,t.updateQueue=s,null!==s&&(t.flags|=4)}else{o=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof s.is?e=o.createElement(r,{is:s.is}):(e=o.createElement(r),"select"===r&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,r),e[ua]=t,e[ha]=s,Al(e,t,!1,!1),t.stateNode=e;e:{switch(o=be(r,s),r){case"dialog":Fs("cancel",e),Fs("close",e),a=s;break;case"iframe":case"object":case"embed":Fs("load",e),a=s;break;case"video":case"audio":for(a=0;a<Ts.length;a++)Fs(Ts[a],e);a=s;break;case"source":Fs("error",e),a=s;break;case"img":case"image":case"link":Fs("error",e),Fs("load",e),a=s;break;case"details":Fs("toggle",e),a=s;break;case"input":Q(e,s),a=G(e,s),Fs("invalid",e);break;case"option":default:a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=D({},s,{value:void 0}),Fs("invalid",e);break;case"textarea":ae(e,s),a=se(e,s),Fs("invalid",e)}for(i in ye(r,a),c=a)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?pe(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==r||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(l.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Fs("scroll",e):null!=d&&b(e,i,d,o))}switch(r){case"input":q(e),X(e,s,!1);break;case"textarea":q(e),ie(e);break;case"option":null!=s.value&&e.setAttribute("value",""+W(s.value));break;case"select":e.multiple=!!s.multiple,null!=(i=s.value)?re(e,!!s.multiple,i,!1):null!=s.defaultValue&&re(e,!!s.multiple,s.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Js)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hl(t),null;case 6:if(e&&null!=t.stateNode)Ol(e,t,e.memoizedProps,s);else{if("string"!==typeof s&&null===t.stateNode)throw Error(n(166));if(r=Kn(Yn.current),Kn(Hn.current),un(t)){if(s=t.stateNode,r=t.memoizedProps,s[ua]=t,(i=s.nodeValue!==r)&&null!==(e=tn))switch(e.tag){case 3:Zs(s.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zs(s.nodeValue,r,0!==(1&e.mode))}i&&(t.flags|=4)}else(s=(9===r.nodeType?r:r.ownerDocument).createTextNode(s))[ua]=t,t.stateNode=s}return Hl(t),null;case 13:if(Na(Xn),s=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(sn&&null!==rn&&0!==(1&t.mode)&&0===(128&t.flags))hn(),mn(),t.flags|=98560,i=!1;else if(i=un(t),null!==s&&null!==s.dehydrated){if(null===e){if(!i)throw Error(n(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(n(317));i[ua]=t}else mn(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hl(t),i=!1}else null!==an&&(ic(an),an=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((s=null!==s)!==(null!==e&&null!==e.memoizedState)&&s&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Xn.current)?0===To&&(To=3):xc())),null!==t.updateQueue&&(t.flags|=4),Hl(t),null);case 4:return Qn(),Rl(e,t),null===e&&Vs(t.stateNode.containerInfo),Hl(t),null;case 10:return Cn(t.type._context),Hl(t),null;case 19:if(Na(Xn),null===(i=t.memoizedState))return Hl(t),null;if(s=0!==(128&t.flags),null===(o=i.rendering))if(s)Wl(i,!1);else{if(0!==To||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=ei(e))){for(t.flags|=128,Wl(i,!1),null!==(s=o.updateQueue)&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;null!==r;)e=s,(i=r).flags&=14680066,null===(o=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Sa(Xn,1&Xn.current|2),t.child}e=e.sibling}null!==i.tail&&Ze()>zo&&(t.flags|=128,s=!0,Wl(i,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=ei(o))){if(t.flags|=128,s=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Wl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!sn)return Hl(t),null}else 2*Ze()-i.renderingStartTime>zo&&1073741824!==r&&(t.flags|=128,s=!0,Wl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(r=i.last)?r.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ze(),t.sibling=null,r=Xn.current,Sa(Xn,s?1&r|2:1&r),t):(Hl(t),null);case 22:case 23:return uc(),s=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==s&&(t.flags|=8192),s&&0!==(1&t.mode)?0!==(1073741824&Io)&&(Hl(t),6&t.subtreeFlags&&(t.flags|=8192)):Hl(t),null;case 24:case 25:return null}throw Error(n(156,t.tag))}function Yl(e,t){switch(en(t),t.tag){case 1:return Ra(t.type)&&Ia(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qn(),Na(Ea),Na(Ca),ri(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Jn(t),null;case 13:if(Na(Xn),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(n(340));mn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Na(Xn),null;case 4:return Qn(),null;case 10:return Cn(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Al=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Rl=function(){},Il=function(e,t,r,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Kn(Hn.current);var n,i=null;switch(r){case"input":a=G(e,a),s=G(e,s),i=[];break;case"select":a=D({},a,{value:void 0}),s=D({},s,{value:void 0}),i=[];break;case"textarea":a=se(e,a),s=se(e,s),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof s.onClick&&(e.onclick=Js)}for(d in ye(r,s),r=null,a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&null!=a[d])if("style"===d){var o=a[d];for(n in o)o.hasOwnProperty(n)&&(r||(r={}),r[n]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(o=null!=a?a[d]:void 0,s.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(n in o)!o.hasOwnProperty(n)||c&&c.hasOwnProperty(n)||(r||(r={}),r[n]="");for(n in c)c.hasOwnProperty(n)&&o[n]!==c[n]&&(r||(r={}),r[n]=c[n])}else r||(i||(i=[]),i.push(d,r)),r=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Fs("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}r&&(i=i||[]).push("style",r);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Ol=function(e,t,r,s){r!==s&&(t.flags|=4)};var Kl=!1,Gl=!1,Ql="function"===typeof WeakSet?WeakSet:Set,Zl=null;function Jl(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(s){Nc(e,t,s)}else r.current=null}function Xl(e,t,r){try{r()}catch(s){Nc(e,t,s)}}var eo=!1;function to(e,t,r){var s=t.updateQueue;if(null!==(s=null!==s?s.lastEffect:null)){var a=s=s.next;do{if((a.tag&e)===e){var n=a.destroy;a.destroy=void 0,void 0!==n&&Xl(t,r,n)}a=a.next}while(a!==s)}}function ro(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function so(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function ao(e){var t=e.alternate;null!==t&&(e.alternate=null,ao(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ua],delete t[ha],delete t[ga],delete t[xa],delete t[pa])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function no(e){return 5===e.tag||3===e.tag||4===e.tag}function io(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||no(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lo(e,t,r){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Js));else if(4!==s&&null!==(e=e.child))for(lo(e,t,r),e=e.sibling;null!==e;)lo(e,t,r),e=e.sibling}function oo(e,t,r){var s=e.tag;if(5===s||6===s)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==s&&null!==(e=e.child))for(oo(e,t,r),e=e.sibling;null!==e;)oo(e,t,r),e=e.sibling}var co=null,uo=!1;function ho(e,t,r){for(r=r.child;null!==r;)mo(e,t,r),r=r.sibling}function mo(e,t,r){if(nt&&"function"===typeof nt.onCommitFiberUnmount)try{nt.onCommitFiberUnmount(at,r)}catch(l){}switch(r.tag){case 5:Gl||Jl(r,t);case 6:var s=co,a=uo;co=null,ho(e,t,r),uo=a,null!==(co=s)&&(uo?(e=co,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):co.removeChild(r.stateNode));break;case 18:null!==co&&(uo?(e=co,r=r.stateNode,8===e.nodeType?la(e.parentNode,r):1===e.nodeType&&la(e,r),zt(e)):la(co,r.stateNode));break;case 4:s=co,a=uo,co=r.stateNode.containerInfo,uo=!0,ho(e,t,r),co=s,uo=a;break;case 0:case 11:case 14:case 15:if(!Gl&&(null!==(s=r.updateQueue)&&null!==(s=s.lastEffect))){a=s=s.next;do{var n=a,i=n.destroy;n=n.tag,void 0!==i&&(0!==(2&n)||0!==(4&n))&&Xl(r,t,i),a=a.next}while(a!==s)}ho(e,t,r);break;case 1:if(!Gl&&(Jl(r,t),"function"===typeof(s=r.stateNode).componentWillUnmount))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(l){Nc(r,t,l)}ho(e,t,r);break;case 21:ho(e,t,r);break;case 22:1&r.mode?(Gl=(s=Gl)||null!==r.memoizedState,ho(e,t,r),Gl=s):ho(e,t,r);break;default:ho(e,t,r)}}function go(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Ql),t.forEach(function(t){var s=Ec.bind(null,e,t);r.has(t)||(r.add(t),t.then(s,s))})}}function xo(e,t){var r=t.deletions;if(null!==r)for(var s=0;s<r.length;s++){var a=r[s];try{var i=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(n(160));mo(i,l,a),co=null,uo=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(d){Nc(a,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)po(t,e),t=t.sibling}function po(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xo(t,e),fo(e),4&s){try{to(3,e,e.return),ro(3,e)}catch(p){Nc(e,e.return,p)}try{to(5,e,e.return)}catch(p){Nc(e,e.return,p)}}break;case 1:xo(t,e),fo(e),512&s&&null!==r&&Jl(r,r.return);break;case 5:if(xo(t,e),fo(e),512&s&&null!==r&&Jl(r,r.return),32&e.flags){var a=e.stateNode;try{he(a,"")}catch(p){Nc(e,e.return,p)}}if(4&s&&null!=(a=e.stateNode)){var i=e.memoizedProps,l=null!==r?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===i.type&&null!=i.name&&Z(a,i),be(o,l);var d=be(o,i);for(l=0;l<c.length;l+=2){var u=c[l],h=c[l+1];"style"===u?pe(a,h):"dangerouslySetInnerHTML"===u?ue(a,h):"children"===u?he(a,h):b(a,u,h,d)}switch(o){case"input":J(a,i);break;case"textarea":ne(a,i);break;case"select":var m=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var g=i.value;null!=g?re(a,!!i.multiple,g,!1):m!==!!i.multiple&&(null!=i.defaultValue?re(a,!!i.multiple,i.defaultValue,!0):re(a,!!i.multiple,i.multiple?[]:"",!1))}a[ha]=i}catch(p){Nc(e,e.return,p)}}break;case 6:if(xo(t,e),fo(e),4&s){if(null===e.stateNode)throw Error(n(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){Nc(e,e.return,p)}}break;case 3:if(xo(t,e),fo(e),4&s&&null!==r&&r.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(p){Nc(e,e.return,p)}break;case 4:default:xo(t,e),fo(e);break;case 13:xo(t,e),fo(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Vo=Ze())),4&s&&go(e);break;case 22:if(u=null!==r&&null!==r.memoizedState,1&e.mode?(Gl=(d=Gl)||u,xo(t,e),Gl=d):xo(t,e),fo(e),8192&s){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Zl=e,u=e.child;null!==u;){for(h=Zl=u;null!==Zl;){switch(g=(m=Zl).child,m.tag){case 0:case 11:case 14:case 15:to(4,m,m.return);break;case 1:Jl(m,m.return);var x=m.stateNode;if("function"===typeof x.componentWillUnmount){s=m,r=m.return;try{t=s,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(p){Nc(s,r,p)}}break;case 5:Jl(m,m.return);break;case 22:if(null!==m.memoizedState){wo(h);continue}}null!==g?(g.return=m,Zl=g):wo(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{a=h.stateNode,d?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(o=h.stateNode,l=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=xe("display",l))}catch(p){Nc(e,e.return,p)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(p){Nc(e,e.return,p)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:xo(t,e),fo(e),4&s&&go(e);case 21:}}function fo(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(no(r)){var s=r;break e}r=r.return}throw Error(n(160))}switch(s.tag){case 5:var a=s.stateNode;32&s.flags&&(he(a,""),s.flags&=-33),oo(e,io(e),a);break;case 3:case 4:var i=s.stateNode.containerInfo;lo(e,io(e),i);break;default:throw Error(n(161))}}catch(l){Nc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yo(e,t,r){Zl=e,bo(e,t,r)}function bo(e,t,r){for(var s=0!==(1&e.mode);null!==Zl;){var a=Zl,n=a.child;if(22===a.tag&&s){var i=null!==a.memoizedState||Kl;if(!i){var l=a.alternate,o=null!==l&&null!==l.memoizedState||Gl;l=Kl;var c=Gl;if(Kl=i,(Gl=o)&&!c)for(Zl=a;null!==Zl;)o=(i=Zl).child,22===i.tag&&null!==i.memoizedState?jo(a):null!==o?(o.return=i,Zl=o):jo(a);for(;null!==n;)Zl=n,bo(n,t,r),n=n.sibling;Zl=a,Kl=l,Gl=c}vo(e)}else 0!==(8772&a.subtreeFlags)&&null!==n?(n.return=a,Zl=n):vo(e)}}function vo(e){for(;null!==Zl;){var t=Zl;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gl||ro(5,t);break;case 1:var s=t.stateNode;if(4&t.flags&&!Gl)if(null===r)s.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:tl(t.type,r.memoizedProps);s.componentDidUpdate(a,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&$n(t,i,s);break;case 3:var l=t.updateQueue;if(null!==l){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}$n(t,l,r)}break;case 5:var o=t.stateNode;if(null===r&&4&t.flags){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(n(163))}Gl||512&t.flags&&so(t)}catch(m){Nc(t,t.return,m)}}if(t===e){Zl=null;break}if(null!==(r=t.sibling)){r.return=t.return,Zl=r;break}Zl=t.return}}function wo(e){for(;null!==Zl;){var t=Zl;if(t===e){Zl=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Zl=r;break}Zl=t.return}}function jo(e){for(;null!==Zl;){var t=Zl;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ro(4,t)}catch(o){Nc(t,r,o)}break;case 1:var s=t.stateNode;if("function"===typeof s.componentDidMount){var a=t.return;try{s.componentDidMount()}catch(o){Nc(t,a,o)}}var n=t.return;try{so(t)}catch(o){Nc(t,n,o)}break;case 5:var i=t.return;try{so(t)}catch(o){Nc(t,i,o)}}}catch(o){Nc(t,t.return,o)}if(t===e){Zl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Zl=l;break}Zl=t.return}}var ko,No=Math.ceil,So=v.ReactCurrentDispatcher,_o=v.ReactCurrentOwner,Co=v.ReactCurrentBatchConfig,Eo=0,Po=null,Ao=null,Ro=0,Io=0,Oo=ka(0),To=0,Mo=null,Lo=0,Do=0,Fo=0,Uo=null,Bo=null,Vo=0,zo=1/0,$o=null,Wo=!1,Ho=null,qo=null,Yo=!1,Ko=null,Go=0,Qo=0,Zo=null,Jo=-1,Xo=0;function ec(){return 0!==(6&Eo)?Ze():-1!==Jo?Jo:Jo=Ze()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Eo)&&0!==Ro?Ro&-Ro:null!==xn.transition?(0===Xo&&(Xo=xt()),Xo):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function rc(e,t,r,s){if(50<Qo)throw Qo=0,Zo=null,Error(n(185));ft(e,r,s),0!==(2&Eo)&&e===Po||(e===Po&&(0===(2&Eo)&&(Do|=r),4===To&&lc(e,Ro)),sc(e,s),1===r&&0===Eo&&0===(1&t.mode)&&(zo=Ze()+500,Fa&&Va()))}function sc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,n=e.pendingLanes;0<n;){var i=31-it(n),l=1<<i,o=a[i];-1===o?0!==(l&r)&&0===(l&s)||(a[i]=mt(l,t)):o<=t&&(e.expiredLanes|=l),n&=~l}}(e,t);var s=ht(e,e===Po?Ro:0);if(0===s)null!==r&&Ke(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(null!=r&&Ke(r),1===t)0===e.tag?function(e){Fa=!0,Ba(e)}(oc.bind(null,e)):Ba(oc.bind(null,e)),na(function(){0===(6&Eo)&&Va()}),r=null;else{switch(vt(s)){case 1:r=Xe;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=st}r=Pc(r,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ac(e,t){if(Jo=-1,Xo=0,0!==(6&Eo))throw Error(n(327));var r=e.callbackNode;if(jc()&&e.callbackNode!==r)return null;var s=ht(e,e===Po?Ro:0);if(0===s)return null;if(0!==(30&s)||0!==(s&e.expiredLanes)||t)t=pc(e,s);else{t=s;var a=Eo;Eo|=2;var i=gc();for(Po===e&&Ro===t||($o=null,zo=Ze()+500,hc(e,t));;)try{yc();break}catch(o){mc(e,o)}_n(),So.current=i,Eo=a,null!==Ao?t=0:(Po=null,Ro=0,t=To)}if(0!==t){if(2===t&&(0!==(a=gt(e))&&(s=a,t=nc(e,a))),1===t)throw r=Mo,hc(e,0),lc(e,s),sc(e,Ze()),r;if(6===t)lc(e,s);else{if(a=e.current.alternate,0===(30&s)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var s=0;s<r.length;s++){var a=r[s],n=a.getSnapshot;a=a.value;try{if(!is(n(),a))return!1}catch(l){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=pc(e,s))&&(0!==(i=gt(e))&&(s=i,t=nc(e,i))),1===t))throw r=Mo,hc(e,0),lc(e,s),sc(e,Ze()),r;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(n(345));case 2:case 5:wc(e,Bo,$o);break;case 3:if(lc(e,s),(130023424&s)===s&&10<(t=Vo+500-Ze())){if(0!==ht(e,0))break;if(((a=e.suspendedLanes)&s)!==s){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,Bo,$o),t);break}wc(e,Bo,$o);break;case 4:if(lc(e,s),(4194240&s)===s)break;for(t=e.eventTimes,a=-1;0<s;){var l=31-it(s);i=1<<l,(l=t[l])>a&&(a=l),s&=~i}if(s=a,10<(s=(120>(s=Ze()-s)?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*No(s/1960))-s)){e.timeoutHandle=ra(wc.bind(null,e,Bo,$o),s);break}wc(e,Bo,$o);break;default:throw Error(n(329))}}}return sc(e,Ze()),e.callbackNode===r?ac.bind(null,e):null}function nc(e,t){var r=Uo;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=pc(e,t))&&(t=Bo,Bo=r,null!==t&&ic(t)),e}function ic(e){null===Bo?Bo=e:Bo.push.apply(Bo,e)}function lc(e,t){for(t&=~Fo,t&=~Do,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-it(t),s=1<<r;e[r]=-1,t&=~s}}function oc(e){if(0!==(6&Eo))throw Error(n(327));jc();var t=ht(e,0);if(0===(1&t))return sc(e,Ze()),null;var r=pc(e,t);if(0!==e.tag&&2===r){var s=gt(e);0!==s&&(t=s,r=nc(e,s))}if(1===r)throw r=Mo,hc(e,0),lc(e,t),sc(e,Ze()),r;if(6===r)throw Error(n(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bo,$o),sc(e,Ze()),null}function cc(e,t){var r=Eo;Eo|=1;try{return e(t)}finally{0===(Eo=r)&&(zo=Ze()+500,Fa&&Va())}}function dc(e){null!==Ko&&0===Ko.tag&&0===(6&Eo)&&jc();var t=Eo;Eo|=1;var r=Co.transition,s=bt;try{if(Co.transition=null,bt=1,e)return e()}finally{bt=s,Co.transition=r,0===(6&(Eo=t))&&Va()}}function uc(){Io=Oo.current,Na(Oo)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,sa(r)),null!==Ao)for(r=Ao.return;null!==r;){var s=r;switch(en(s),s.tag){case 1:null!==(s=s.type.childContextTypes)&&void 0!==s&&Ia();break;case 3:Qn(),Na(Ea),Na(Ca),ri();break;case 5:Jn(s);break;case 4:Qn();break;case 13:case 19:Na(Xn);break;case 10:Cn(s.type._context);break;case 22:case 23:uc()}r=r.return}if(Po=e,Ao=e=Oc(e.current,null),Ro=Io=t,To=0,Mo=null,Fo=Do=Lo=0,Bo=Uo=null,null!==Rn){for(t=0;t<Rn.length;t++)if(null!==(s=(r=Rn[t]).interleaved)){r.interleaved=null;var a=s.next,n=r.pending;if(null!==n){var i=n.next;n.next=a,s.next=i}r.pending=s}Rn=null}return e}function mc(e,t){for(;;){var r=Ao;try{if(_n(),si.current=Zi,ci){for(var s=ii.memoizedState;null!==s;){var a=s.queue;null!==a&&(a.pending=null),s=s.next}ci=!1}if(ni=0,oi=li=ii=null,di=!1,ui=0,_o.current=null,null===r||null===r.return){To=1,Mo=t,Ao=null;break}e:{var i=e,l=r.return,o=r,c=t;if(t=Ro,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=xl(l);if(null!==g){g.flags&=-257,pl(g,l,o,0,t),1&g.mode&&gl(i,d,t),c=d;var x=(t=g).updateQueue;if(null===x){var p=new Set;p.add(c),t.updateQueue=p}else x.add(c);break e}if(0===(1&t)){gl(i,d,t),xc();break e}c=Error(n(426))}else if(sn&&1&o.mode){var f=xl(l);if(null!==f){0===(65536&f.flags)&&(f.flags|=256),pl(f,l,o,0,t),gn(ol(c,o));break e}}i=c=ol(c,o),4!==To&&(To=2),null===Uo?Uo=[i]:Uo.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Vn(i,hl(0,c,t));break e;case 1:o=c;var y=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===qo||!qo.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Vn(i,ml(i,o,t));break e}}i=i.return}while(null!==i)}vc(r)}catch(v){t=v,Ao===r&&null!==r&&(Ao=r=r.return);continue}break}}function gc(){var e=So.current;return So.current=Zi,null===e?Zi:e}function xc(){0!==To&&3!==To&&2!==To||(To=4),null===Po||0===(268435455&Lo)&&0===(268435455&Do)||lc(Po,Ro)}function pc(e,t){var r=Eo;Eo|=2;var s=gc();for(Po===e&&Ro===t||($o=null,hc(e,t));;)try{fc();break}catch(a){mc(e,a)}if(_n(),Eo=r,So.current=s,null!==Ao)throw Error(n(261));return Po=null,Ro=0,To}function fc(){for(;null!==Ao;)bc(Ao)}function yc(){for(;null!==Ao&&!Ge();)bc(Ao)}function bc(e){var t=ko(e.alternate,e,Io);e.memoizedProps=e.pendingProps,null===t?vc(e):Ao=t,_o.current=null}function vc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=ql(r,t,Io)))return void(Ao=r)}else{if(null!==(r=Yl(r,t)))return r.flags&=32767,void(Ao=r);if(null===e)return To=6,void(Ao=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ao=t);Ao=t=e}while(null!==t);0===To&&(To=5)}function wc(e,t,r){var s=bt,a=Co.transition;try{Co.transition=null,bt=1,function(e,t,r,s){do{jc()}while(null!==Ko);if(0!==(6&Eo))throw Error(n(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(n(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-it(r),n=1<<a;t[a]=0,s[a]=-1,e[a]=-1,r&=~n}}(e,i),e===Po&&(Ao=Po=null,Ro=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Yo||(Yo=!0,Pc(tt,function(){return jc(),null})),i=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||i){i=Co.transition,Co.transition=null;var l=bt;bt=1;var o=Eo;Eo|=4,_o.current=null,function(e,t){if(Xs=Wt,hs(e=us())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var s=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(s&&0!==s.rangeCount){r=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch(w){r=null;break e}var l=0,o=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var g;h!==r||0!==a&&3!==h.nodeType||(o=l+a),h!==i||0!==s&&3!==h.nodeType||(c=l+s),3===h.nodeType&&(l+=h.nodeValue.length),null!==(g=h.firstChild);)m=h,h=g;for(;;){if(h===e)break t;if(m===r&&++d===a&&(o=l),m===i&&++u===s&&(c=l),null!==(g=h.nextSibling))break;m=(h=m).parentNode}h=g}r=-1===o||-1===c?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ea={focusedElem:e,selectionRange:r},Wt=!1,Zl=t;null!==Zl;)if(e=(t=Zl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zl=e;else for(;null!==Zl;){t=Zl;try{var x=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==x){var p=x.memoizedProps,f=x.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:tl(t.type,p),f);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(n(163))}}catch(w){Nc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zl=e;break}Zl=t.return}x=eo,eo=!1}(e,r),po(r,e),ms(ea),Wt=!!Xs,ea=Xs=null,e.current=r,yo(r,e,a),Qe(),Eo=o,bt=l,Co.transition=i}else e.current=r;if(Yo&&(Yo=!1,Ko=e,Go=a),i=e.pendingLanes,0===i&&(qo=null),function(e){if(nt&&"function"===typeof nt.onCommitFiberRoot)try{nt.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),sc(e,Ze()),null!==t)for(s=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],s(a.value,{componentStack:a.stack,digest:a.digest});if(Wo)throw Wo=!1,e=Ho,Ho=null,e;0!==(1&Go)&&0!==e.tag&&jc(),i=e.pendingLanes,0!==(1&i)?e===Zo?Qo++:(Qo=0,Zo=e):Qo=0,Va()}(e,t,r,s)}finally{Co.transition=a,bt=s}return null}function jc(){if(null!==Ko){var e=vt(Go),t=Co.transition,r=bt;try{if(Co.transition=null,bt=16>e?16:e,null===Ko)var s=!1;else{if(e=Ko,Ko=null,Go=0,0!==(6&Eo))throw Error(n(331));var a=Eo;for(Eo|=4,Zl=e.current;null!==Zl;){var i=Zl,l=i.child;if(0!==(16&Zl.flags)){var o=i.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Zl=d;null!==Zl;){var u=Zl;switch(u.tag){case 0:case 11:case 15:to(8,u,i)}var h=u.child;if(null!==h)h.return=u,Zl=h;else for(;null!==Zl;){var m=(u=Zl).sibling,g=u.return;if(ao(u),u===d){Zl=null;break}if(null!==m){m.return=g,Zl=m;break}Zl=g}}}var x=i.alternate;if(null!==x){var p=x.child;if(null!==p){x.child=null;do{var f=p.sibling;p.sibling=null,p=f}while(null!==p)}}Zl=i}}if(0!==(2064&i.subtreeFlags)&&null!==l)l.return=i,Zl=l;else e:for(;null!==Zl;){if(0!==(2048&(i=Zl).flags))switch(i.tag){case 0:case 11:case 15:to(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Zl=y;break e}Zl=i.return}}var b=e.current;for(Zl=b;null!==Zl;){var v=(l=Zl).child;if(0!==(2064&l.subtreeFlags)&&null!==v)v.return=l,Zl=v;else e:for(l=b;null!==Zl;){if(0!==(2048&(o=Zl).flags))try{switch(o.tag){case 0:case 11:case 15:ro(9,o)}}catch(j){Nc(o,o.return,j)}if(o===l){Zl=null;break e}var w=o.sibling;if(null!==w){w.return=o.return,Zl=w;break e}Zl=o.return}}if(Eo=a,Va(),nt&&"function"===typeof nt.onPostCommitFiberRoot)try{nt.onPostCommitFiberRoot(at,e)}catch(j){}s=!0}return s}finally{bt=r,Co.transition=t}}return!1}function kc(e,t,r){e=Un(e,t=hl(0,t=ol(r,t),1),1),t=ec(),null!==e&&(ft(e,1,t),sc(e,t))}function Nc(e,t,r){if(3===e.tag)kc(e,e,r);else for(;null!==t;){if(3===t.tag){kc(t,e,r);break}if(1===t.tag){var s=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof s.componentDidCatch&&(null===qo||!qo.has(s))){t=Un(t,e=ml(t,e=ol(r,e),1),1),e=ec(),null!==t&&(ft(t,1,e),sc(t,e));break}}t=t.return}}function Sc(e,t,r){var s=e.pingCache;null!==s&&s.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&r,Po===e&&(Ro&r)===r&&(4===To||3===To&&(130023424&Ro)===Ro&&500>Ze()-Vo?hc(e,0):Fo|=r),sc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var r=ec();null!==(e=Tn(e,t))&&(ft(e,t,r),sc(e,r))}function Cc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),_c(e,r)}function Ec(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(n(314))}null!==s&&s.delete(t),_c(e,r)}function Pc(e,t){return Ye(e,t)}function Ac(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,r,s){return new Ac(e,t,r,s)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var r=e.alternate;return null===r?((r=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Tc(e,t,r,s,a,i){var l=2;if(s=e,"function"===typeof e)Ic(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case k:return Mc(r.children,a,i,t);case N:l=8,a|=8;break;case S:return(e=Rc(12,r,t,2|a)).elementType=S,e.lanes=i,e;case P:return(e=Rc(13,r,t,a)).elementType=P,e.lanes=i,e;case A:return(e=Rc(19,r,t,a)).elementType=A,e.lanes=i,e;case O:return Lc(r,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:l=10;break e;case C:l=9;break e;case E:l=11;break e;case R:l=14;break e;case I:l=16,s=null;break e}throw Error(n(130,null==e?e:typeof e,""))}return(t=Rc(l,r,t,a)).elementType=e,t.type=s,t.lanes=i,t}function Mc(e,t,r,s){return(e=Rc(7,e,s,t)).lanes=r,e}function Lc(e,t,r,s){return(e=Rc(22,e,s,t)).elementType=O,e.lanes=r,e.stateNode={isHidden:!1},e}function Dc(e,t,r){return(e=Rc(6,e,null,t)).lanes=r,e}function Fc(e,t,r){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,r,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pt(0),this.expirationTimes=pt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Bc(e,t,r,s,a,n,i,l,o){return e=new Uc(e,t,r,l,o),1===t?(t=1,!0===n&&(t|=8)):t=0,n=Rc(3,null,null,t),e.current=n,n.stateNode=e,n.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ln(n),e}function Vc(e){if(!e)return _a;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(n(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ra(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(n(171))}if(1===e.tag){var r=e.type;if(Ra(r))return Ta(e,r,t)}return t}function zc(e,t,r,s,a,n,i,l,o){return(e=Bc(r,s,!0,e,0,n,0,l,o)).context=Vc(null),r=e.current,(n=Fn(s=ec(),a=tc(r))).callback=void 0!==t&&null!==t?t:null,Un(r,n,a),e.current.lanes=a,ft(e,a,s),sc(e,s),e}function $c(e,t,r,s){var a=t.current,n=ec(),i=tc(a);return r=Vc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Fn(n,i)).payload={element:e},null!==(s=void 0===s?null:s)&&(t.callback=s),null!==(e=Un(a,t,i))&&(rc(e,a,i,n),Bn(e,a,i)),i}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function qc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}ko=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ea.current)yl=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return yl=!1,function(e,t,r){switch(t.tag){case 3:El(t),mn();break;case 5:Zn(t);break;case 1:Ra(t.type)&&Ma(t);break;case 4:Gn(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;Sa(jn,s._currentValue),s._currentValue=a;break;case 13:if(null!==(s=t.memoizedState))return null!==s.dehydrated?(Sa(Xn,1&Xn.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Ll(e,t,r):(Sa(Xn,1&Xn.current),null!==(e=$l(e,t,r))?e.sibling:null);Sa(Xn,1&Xn.current);break;case 19:if(s=0!==(r&t.childLanes),0!==(128&e.flags)){if(s)return Vl(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Sa(Xn,Xn.current),s)break;return null;case 22:case 23:return t.lanes=0,kl(e,t,r)}return $l(e,t,r)}(e,t,r);yl=0!==(131072&e.flags)}else yl=!1,sn&&0!==(1048576&t.flags)&&Ja(t,Ha,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;zl(e,t),e=t.pendingProps;var a=Aa(t,Ca.current);Pn(t,r),a=xi(null,t,s,e,a,r);var i=pi();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ra(s)?(i=!0,Ma(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ln(t),a.updater=sl,t.stateNode=a,a._reactInternals=t,ll(t,s,e,r),t=Cl(null,t,s,!0,i,r)):(t.tag=0,sn&&i&&Xa(t),bl(null,t,a,r),t=t.child),t;case 16:s=t.elementType;e:{switch(zl(e,t),e=t.pendingProps,s=(a=s._init)(s._payload),t.type=s,a=t.tag=function(e){if("function"===typeof e)return Ic(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===E)return 11;if(e===R)return 14}return 2}(s),e=tl(s,e),a){case 0:t=Sl(null,t,s,e,r);break e;case 1:t=_l(null,t,s,e,r);break e;case 11:t=vl(null,t,s,e,r);break e;case 14:t=wl(null,t,s,tl(s.type,e),r);break e}throw Error(n(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,Sl(e,t,s,a=t.elementType===s?a:tl(s,a),r);case 1:return s=t.type,a=t.pendingProps,_l(e,t,s,a=t.elementType===s?a:tl(s,a),r);case 3:e:{if(El(t),null===e)throw Error(n(387));s=t.pendingProps,a=(i=t.memoizedState).element,Dn(e,t),zn(t,s,null,r);var l=t.memoizedState;if(s=l.element,i.isDehydrated){if(i={element:s,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Pl(e,t,s,r,a=ol(Error(n(423)),t));break e}if(s!==a){t=Pl(e,t,s,r,a=ol(Error(n(424)),t));break e}for(rn=oa(t.stateNode.containerInfo.firstChild),tn=t,sn=!0,an=null,r=wn(t,null,s,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(mn(),s===a){t=$l(e,t,r);break e}bl(e,t,s,r)}t=t.child}return t;case 5:return Zn(t),null===e&&cn(t),s=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,l=a.children,ta(s,a)?l=null:null!==i&&ta(s,i)&&(t.flags|=32),Nl(e,t),bl(e,t,l,r),t.child;case 6:return null===e&&cn(t),null;case 13:return Ll(e,t,r);case 4:return Gn(t,t.stateNode.containerInfo),s=t.pendingProps,null===e?t.child=vn(t,null,s,r):bl(e,t,s,r),t.child;case 11:return s=t.type,a=t.pendingProps,vl(e,t,s,a=t.elementType===s?a:tl(s,a),r);case 7:return bl(e,t,t.pendingProps,r),t.child;case 8:case 12:return bl(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,Sa(jn,s._currentValue),s._currentValue=l,null!==i)if(is(i.value,l)){if(i.children===a.children&&!Ea.current){t=$l(e,t,r);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var o=i.dependencies;if(null!==o){l=i.child;for(var c=o.firstContext;null!==c;){if(c.context===s){if(1===i.tag){(c=Fn(-1,r&-r)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=r,null!==(c=i.alternate)&&(c.lanes|=r),En(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(10===i.tag)l=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(n(341));l.lanes|=r,null!==(o=l.alternate)&&(o.lanes|=r),En(l,r,t),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===t){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}bl(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,Pn(t,r),s=s(a=An(a)),t.flags|=1,bl(e,t,s,r),t.child;case 14:return a=tl(s=t.type,t.pendingProps),wl(e,t,s,a=tl(s.type,a),r);case 15:return jl(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:tl(s,a),zl(e,t),t.tag=1,Ra(s)?(e=!0,Ma(t)):e=!1,Pn(t,r),nl(t,s,a),ll(t,s,a,r),Cl(null,t,s,!0,e,r);case 19:return Vl(e,t,r);case 22:return kl(e,t,r)}throw Error(n(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Xc(e,t,r,s,a){var n=r._reactRootContainer;if(n){var i=n;if("function"===typeof a){var l=a;a=function(){var e=Wc(i);l.call(e)}}$c(t,i,e,a)}else i=function(e,t,r,s,a){if(a){if("function"===typeof s){var n=s;s=function(){var e=Wc(i);n.call(e)}}var i=zc(t,s,e,0,null,!1,0,"",Jc);return e._reactRootContainer=i,e[ma]=i.current,Vs(8===e.nodeType?e.parentNode:e),dc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof s){var l=s;s=function(){var e=Wc(o);l.call(e)}}var o=Bc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=o,e[ma]=o.current,Vs(8===e.nodeType?e.parentNode:e),dc(function(){$c(t,o,r,s)}),o}(r,t,e,a,s);return Wc(i)}Gc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(n(409));$c(e,t,null,null)},Gc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){$c(null,e,null,null)}),t[ma]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ot.length&&0!==t&&t<Ot[r].priority;r++);Ot.splice(r,0,e),0===r&&Dt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ut(t.pendingLanes);0!==r&&(yt(t,1|r),sc(t,Ze()),0===(6&Eo)&&(zo=Ze()+500,Va()))}break;case 13:dc(function(){var t=Tn(e,1);if(null!==t){var r=ec();rc(t,e,1,r)}}),qc(e,1)}},jt=function(e){if(13===e.tag){var t=Tn(e,134217728);if(null!==t)rc(t,e,134217728,ec());qc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),r=Tn(e,t);if(null!==r)rc(r,e,t,ec());qc(e,t)}},Nt=function(){return bt},St=function(e,t){var r=bt;try{return bt=e,t()}finally{bt=r}},je=function(e,t,r){switch(t){case"input":if(J(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var a=va(s);if(!a)throw Error(n(90));Y(s),J(s,a)}}}break;case"textarea":ne(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ee=cc,Pe=dc;var ed={usingClientEntryPoint:!1,Events:[ya,ba,va,_e,Ce,cc]},td={findFiberByHostInstance:fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{at=sd.inject(rd),nt=sd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(n(200));return function(e,t,r){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==s?null:""+s,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Qc(e))throw Error(n(299));var r=!1,s="",a=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Bc(e,1,!1,null,0,r,0,s,a),e[ma]=t.current,Vs(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(n(188));throw e=Object.keys(e).join(","),Error(n(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,r){if(!Zc(t))throw Error(n(200));return Xc(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Qc(e))throw Error(n(405));var s=null!=r&&r.hydratedSources||null,a=!1,i="",l=Yc;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onRecoverableError&&(l=r.onRecoverableError)),t=zc(t,null,e,1,null!=r?r:null,a,0,i,l),e[ma]=t.current,Vs(e),s)for(e=0;e<s.length;e++)a=(a=(r=s[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Gc(t)},t.render=function(e,t,r){if(!Zc(t))throw Error(n(200));return Xc(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(n(40));return!!e._reactRootContainer&&(dc(function(){Xc(null,null,e,!1,function(){e._reactRootContainer=null,e[ma]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Zc(r))throw Error(n(200));if(null==e||void 0===e._reactInternals)throw Error(n(38));return Xc(e,t,r,!1,s)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,r)=>{e.exports=r(234)},872:(e,t,r)=>{r.d(t,{$W:()=>s,Sn:()=>a,UU:()=>i,gx:()=>n});const s={API_BASE_URL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8000/api",BACKEND_URL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_BACKEND_URL||"http://localhost:8000",ENVIRONMENT:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_ENVIRONMENT||"development",IS_DEVELOPMENT:!1,IS_PRODUCTION:!0,ENABLE_ANALYTICS:"true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_ENABLE_ANALYTICS,ENABLE_DEBUG:"true"==={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_ENABLE_DEBUG,APP_NAME:"OneSoko",APP_VERSION:"1.0.0",DEFAULT_PAGE_SIZE:20,MAX_PAGE_SIZE:100,MAX_FILE_SIZE:5242880,ALLOWED_IMAGE_TYPES:["image/jpeg","image/png","image/webp"],TOKEN_STORAGE_KEY:"access_token",REFRESH_TOKEN_STORAGE_KEY:"refresh_token",USER_STORAGE_KEY:"user_data",CART_STORAGE_KEY:"onesoko_cart",NOTIFICATION_TIMEOUT:5e3},a={LOGIN:"/token/",TOKEN_REFRESH:"/token/refresh/",REGISTER:"/user-registration/",REGISTER_SHOP_OWNER:"/shopowner-registration/",PRODUCTS:"/products/",PRODUCT_DETAIL:e=>`/products/${e}/`,PRODUCT_SEARCH:"/products/search/",MY_PRODUCTS:"/products/my_products/",SHOPS:"/shops/",SHOP_DETAIL:e=>`/shops/${e}/`,SHOP_PUBLIC:e=>`/shops/${e}/public/`,SHOP_PUBLIC_LIST:"/shops/public_list/",SHOP_PUBLIC_DETAIL:e=>`/shops/${e}/public_detail/`,SHOP_PRODUCTS:e=>`/shops/${e}/products/`,SHOP_ADD_PRODUCT:e=>`/shops/${e}/add_product/`,SHOP_UPDATE_PRODUCT:(e,t)=>`/shops/${e}/products/${t}/`,SHOP_DELETE_PRODUCT:(e,t)=>`/shops/${e}/delete_product/${t}/`,SHOP_MY_SHOPS:"/shops/my_shops/",SHOP_UPDATE:e=>`/shops/${e}/`,SHOP_VERIFICATION_UPLOAD:e=>`/shops/${e}/verification/upload/`,SHOP_VERIFICATION_SUBMIT:e=>`/shops/${e}/verification/submit/`,SHOP_SEARCH:"/shops/search/",SHOP_AUTOCOMPLETE:"/shops/autocomplete/",SHOP_QUICK_CREATE:"/shops/quick-create/",SHOP_BY_LOCATION:"/shops/by-location/",SHOP_TRENDING:"/shops/trending/",CATEGORIES:"/categories/",CATEGORY_DETAIL:e=>`/categories/${e}/`,CATEGORY_SEARCH:"/categories/search/",CATEGORY_PRODUCTS:e=>`/categories/${e}/products/`,CATEGORY_STATS:"/categories/stats/",CATEGORY_POPULAR_PRODUCTS:e=>`/categories/${e}/popular_products/`,TAGS:"/tags/",TAG_DETAIL:e=>`/tags/${e}/`,REVIEWS:"/reviews/",REVIEW_DETAIL:e=>`/reviews/${e}/`,REVIEWS_MY:"/reviews/my_reviews/",REVIEWS_BY_PRODUCT:"/reviews/by_product/",REVIEWS_BY_SHOP:"/reviews/by_shop/",REVIEWS_STATS:"/reviews/stats/",REVIEWS_PENDING_MODERATION:"/reviews/pending_moderation/",REVIEW_MARK_HELPFUL:e=>`/reviews/${e}/mark_helpful/`,REVIEW_MODERATE:e=>`/reviews/${e}/moderate/`,CART:"/cart/",CART_ADD_ITEM:"/cart/add_item/",CART_UPDATE_ITEM:e=>`/cart/update_item/${e}/`,CART_REMOVE_ITEM:e=>`/cart/remove_item/${e}/`,CART_CLEAR:"/cart/clear_cart/",CART_ITEM_COUNT:"/cart/item_count/",ORDERS:"/orders/",ORDER_DETAIL:e=>`/orders/${e}/`,ORDER_MY_ORDERS:"/orders/my_orders/",ORDER_CREATE_FROM_CART:"/orders/create_from_cart/",ORDER_UPDATE_STATUS:e=>`/orders/${e}/update_status/`,ORDER_DETAILS:e=>`/orders/${e}/order_details/`,ORDER_SHOP_ORDERS:"/orders/shop_orders/",ORDER_SHOP_STATS:"/orders/shop_order_stats/",ORDER_COMPLETE:e=>`/orders/${e}/complete_order/`,PAYMENTS:"/payments/",PAYMENT_DETAIL:e=>`/payments/${e}/`,PAYMENT_MY_PAYMENTS:"/payments/my_payments/",PAYMENT_UPDATE_STATUS:e=>`/payments/${e}/update_status/`,WISHLIST:"/wishlists/",WISHLIST_MY:"/wishlists/my_wishlist/",WISHLIST_ADD_PRODUCT:e=>`/wishlists/${e}/add_product/`,WISHLIST_REMOVE_PRODUCT:(e,t)=>`/wishlists/${e}/remove_product/${t}/`,MESSAGES:"/messages/",MESSAGES_CONVERSATIONS:"/messages/conversations/",MESSAGES_WITH_USER:"/messages/with_user/",MESSAGES_UNREAD_COUNT:"/messages/unread_count/",MESSAGE_MARK_READ:e=>`/messages/${e}/mark_as_read/`,MESSAGES_MARK_ALL_READ:"/messages/mark_all_as_read/",NOTIFICATIONS:"/notifications/",NOTIFICATION_DETAIL:e=>`/notifications/${e}/`,NOTIFICATION_UNREAD:"/notifications/unread/",NOTIFICATION_UNREAD_COUNT:"/notifications/unread_count/",NOTIFICATION_MARK_READ:e=>`/notifications/${e}/mark_as_read/`,NOTIFICATION_MARK_ALL_READ:"/notifications/mark_all_as_read/",NOTIFICATION_BY_TYPE:"/notifications/by_type/",NOTIFICATION_CLEAR_OLD:"/notifications/clear_old/",NOTIFICATION_STATS:"/notifications/stats/",NOTIFICATION_ORDER:"/notifications/order_notifications/",NOTIFICATION_CART:"/notifications/cart_notifications/",NOTIFICATION_PRODUCT:"/notifications/product_notifications/",INQUIRIES:"/inquiries/",INQUIRY_DETAIL:e=>`/inquiries/${e}/`,INQUIRY_RESPOND:e=>`/inquiries/${e}/respond/`,INQUIRY_RESOLVE:e=>`/inquiries/${e}/mark_resolved/`,INQUIRY_MY:"/inquiries/my_inquiries/",INQUIRY_RECEIVED:"/inquiries/received_inquiries/",INQUIRY_PENDING:"/inquiries/pending_inquiries/",USER_PROFILE:"/userprofiles/",USER_PROFILE_ME:"/userprofiles/me/",USER_PROFILE_UPDATE_BIO:"/userprofiles/update_bio/",USER_PROFILE_UPDATE_ADDRESS:"/userprofiles/update_address/",USER_PROFILE_UPLOAD_AVATAR:"/userprofiles/upload_avatar/",USER_PROFILE_REMOVE_AVATAR:"/userprofiles/remove_avatar/",USER_PROFILE_COMPLETION_STATUS:"/userprofiles/completion_status/",USER_PROFILE_TOGGLE_SHOPOWNER:"/userprofiles/toggle_shopowner/",USER_PROFILE_SEARCH:"/userprofiles/search/",USER_PROFILE_STATS:"/userprofiles/stats/",USER_PROFILE_PUBLIC:e=>`/userprofiles/${e}/public/`,PRODUCT_VARIANTS:"/variants/",PRODUCT_VARIANTS_BY_PRODUCT:"/variants/by_product/",PRODUCT_VARIANTS_MY_PRODUCTS:"/variants/my_product_variants/",PRODUCT_VARIANTS_LOW_STOCK:"/variants/low_stock/",PRODUCT_VARIANTS_OUT_OF_STOCK:"/variants/out_of_stock/",PRODUCT_VARIANTS_STATS:"/variants/stats/",PRODUCT_VARIANTS_BULK_CREATE:"/variants/bulk_create/",PRODUCT_VARIANTS_BULK_DELETE:"/variants/bulk_delete/",PRODUCT_VARIANT_UPDATE_QUANTITY:e=>`/variants/${e}/update_quantity/`,PRODUCT_VARIANT_UPDATE_PRICE:e=>`/variants/${e}/update_price_adjustment/`},n={OK:200,CREATED:201,NO_CONTENT:204,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,CONFLICT:409,UNPROCESSABLE_ENTITY:422,TOO_MANY_REQUESTS:429,INTERNAL_SERVER_ERROR:500},i={NETWORK_ERROR:"Network error. Please check your connection.",UNAUTHORIZED:"You are not authorized to perform this action.",FORBIDDEN:"Access denied.",NOT_FOUND:"The requested resource was not found.",VALIDATION_ERROR:"Please check your input and try again.",CONFLICT:"This resource already exists.",RATE_LIMIT_EXCEEDED:"Too many requests. Please try again later.",SERVER_ERROR:"Server error. Please try again later.",UNKNOWN_ERROR:"An unknown error occurred."}},950:(e,t,r)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(730)}},t={};function r(s){var a=t[s];if(void 0!==a)return a.exports;var n=t[s]={exports:{}};return e[s](n,n.exports,r),n.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(s,a){if(1&a&&(s=this(s)),8&a)return s;if("object"===typeof s&&s){if(4&a&&s.__esModule)return s;if(16&a&&"function"===typeof s.then)return s}var n=Object.create(null);r.r(n);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&a&&s;("object"==typeof l||"function"==typeof l)&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(e=>i[e]=()=>s[e]);return i.default=()=>s,r.d(n,i),n}})(),r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s,a=r(43),n=r.t(a,2),i=r(391),l=r(950),o=r.t(l,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(s||(s={}));const d="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function m(e,t){return{usr:e.state,key:e.key,idx:t}}function g(e,t,r,s){return void 0===r&&(r=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:r,key:t&&t.key||s||Math.random().toString(36).substr(2,8)})}function x(e){let{pathname:t="/",search:r="",hash:s=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),s&&"#"!==s&&(t+="#"===s.charAt(0)?s:"#"+s),t}function p(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function f(e,t,r,a){void 0===a&&(a={});let{window:n=document.defaultView,v5Compat:i=!1}=a,l=n.history,o=s.Pop,h=null,p=f();function f(){return(l.state||{idx:null}).idx}function y(){o=s.Pop;let e=f(),t=null==e?null:e-p;p=e,h&&h({action:o,location:v.location,delta:t})}function b(e){let t="null"!==n.location.origin?n.location.origin:n.location.href,r="string"===typeof e?e:x(e);return r=r.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==p&&(p=0,l.replaceState(c({},l.state,{idx:p}),""));let v={get action(){return o},get location(){return e(n,l)},listen(e){if(h)throw new Error("A history only accepts one active listener");return n.addEventListener(d,y),h=e,()=>{n.removeEventListener(d,y),h=null}},createHref:e=>t(n,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o=s.Push;let a=g(v.location,e,t);r&&r(a,e),p=f()+1;let c=m(a,p),d=v.createHref(a);try{l.pushState(c,"",d)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;n.location.assign(d)}i&&h&&h({action:o,location:v.location,delta:1})},replace:function(e,t){o=s.Replace;let a=g(v.location,e,t);r&&r(a,e),p=f();let n=m(a,p),c=v.createHref(a);l.replaceState(n,"",c),i&&h&&h({action:o,location:v.location,delta:0})},go:e=>l.go(e)};return v}var y;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(y||(y={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function b(e,t,r){return void 0===r&&(r="/"),v(e,t,r,!1)}function v(e,t,r,s){let a=T(("string"===typeof t?p(t):t).pathname||"/",r);if(null==a)return null;let n=w(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(n);let i=null;for(let l=0;null==i&&l<n.length;++l){let e=O(a);i=R(n[l],e,s)}return i}function w(e,t,r,s){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===s&&(s="");let a=(e,a,n)=>{let i={relativePath:void 0===n?e.path||"":n,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(u(i.relativePath.startsWith(s),'Absolute route path "'+i.relativePath+'" nested under path "'+s+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(s.length));let l=U([s,i.relativePath]),o=r.concat(i);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),w(e.children,t,o,l)),(null!=e.path||e.index)&&t.push({path:l,score:A(l,e.index),routesMeta:o})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let s of j(e.path))a(e,t,s);else a(e,t)}),t}function j(e){let t=e.split("/");if(0===t.length)return[];let[r,...s]=t,a=r.endsWith("?"),n=r.replace(/\?$/,"");if(0===s.length)return a?[n,""]:[n];let i=j(s.join("/")),l=[];return l.push(...i.map(e=>""===e?n:[n,e].join("/"))),a&&l.push(...i),l.map(t=>e.startsWith("/")&&""===t?"/":t)}const k=/^:[\w-]+$/,N=3,S=2,_=1,C=10,E=-2,P=e=>"*"===e;function A(e,t){let r=e.split("/"),s=r.length;return r.some(P)&&(s+=E),t&&(s+=S),r.filter(e=>!P(e)).reduce((e,t)=>e+(k.test(t)?N:""===t?_:C),s)}function R(e,t,r){void 0===r&&(r=!1);let{routesMeta:s}=e,a={},n="/",i=[];for(let l=0;l<s.length;++l){let e=s[l],o=l===s.length-1,c="/"===n?t:t.slice(n.length)||"/",d=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&r&&!s[s.length-1].route.index&&(d=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(a,d.params),i.push({params:a,pathname:U([n,d.pathname]),pathnameBase:B(U([n,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(n=U([n,d.pathnameBase]))}return i}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,s]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(s.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(s.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let n=new RegExp(a,t?void 0:"i");return[n,s]}(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let n=a[0],i=n.replace(/(.)\/+$/,"$1"),l=a.slice(1),o=s.reduce((e,t,r)=>{let{paramName:s,isOptional:a}=t;if("*"===s){let e=l[r]||"";i=n.slice(0,n.length-e.length).replace(/(.)\/+$/,"$1")}const o=l[r];return e[s]=a&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{});return{params:o,pathname:n,pathnameBase:i,pattern:e}}function O(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function T(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=e.charAt(r);return s&&"/"!==s?null:e.slice(r)||"/"}function M(e,t,r,s){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function D(e,t){let r=L(e);return t?r.map((e,t)=>t===r.length-1?e.pathname:e.pathnameBase):r.map(e=>e.pathnameBase)}function F(e,t,r,s){let a;void 0===s&&(s=!1),"string"===typeof e?a=p(e):(a=c({},e),u(!a.pathname||!a.pathname.includes("?"),M("?","pathname","search",a)),u(!a.pathname||!a.pathname.includes("#"),M("#","pathname","hash",a)),u(!a.search||!a.search.includes("#"),M("#","search","hash",a)));let n,i=""===e||""===a.pathname,l=i?"/":a.pathname;if(null==l)n=r;else{let e=t.length-1;if(!s&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}n=e>=0?t[e]:"/"}let o=function(e,t){void 0===t&&(t="/");let{pathname:r,search:s="",hash:a=""}="string"===typeof e?p(e):e,n=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:n,search:V(s),hash:z(a)}}(a,n),d=l&&"/"!==l&&l.endsWith("/"),h=(i||"."===l)&&r.endsWith("/");return o.pathname.endsWith("/")||!d&&!h||(o.pathname+="/"),o}const U=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),V=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function $(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const W=["post","put","patch","delete"],H=(new Set(W),["get",...W]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},q.apply(this,arguments)}const Y=a.createContext(null);const K=a.createContext(null);const G=a.createContext(null);const Q=a.createContext(null);const Z=a.createContext({outlet:null,matches:[],isDataRoute:!1});const J=a.createContext(null);function X(){return null!=a.useContext(Q)}function ee(){return X()||u(!1),a.useContext(Q).location}function te(e){a.useContext(G).static||a.useLayoutEffect(e)}function re(){let{isDataRoute:e}=a.useContext(Z);return e?function(){let{router:e}=me(ue.UseNavigateStable),t=xe(he.UseNavigateStable),r=a.useRef(!1);te(()=>{r.current=!0});let s=a.useCallback(function(s,a){void 0===a&&(a={}),r.current&&("number"===typeof s?e.navigate(s):e.navigate(s,q({fromRouteId:t},a)))},[e,t]);return s}():function(){X()||u(!1);let e=a.useContext(Y),{basename:t,future:r,navigator:s}=a.useContext(G),{matches:n}=a.useContext(Z),{pathname:i}=ee(),l=JSON.stringify(D(n,r.v7_relativeSplatPath)),o=a.useRef(!1);te(()=>{o.current=!0});let c=a.useCallback(function(r,a){if(void 0===a&&(a={}),!o.current)return;if("number"===typeof r)return void s.go(r);let n=F(r,JSON.parse(l),i,"path"===a.relative);null==e&&"/"!==t&&(n.pathname="/"===n.pathname?t:U([t,n.pathname])),(a.replace?s.replace:s.push)(n,a.state,a)},[t,s,l,i,e]);return c}()}function se(){let{matches:e}=a.useContext(Z),t=e[e.length-1];return t?t.params:{}}function ae(e,t){let{relative:r}=void 0===t?{}:t,{future:s}=a.useContext(G),{matches:n}=a.useContext(Z),{pathname:i}=ee(),l=JSON.stringify(D(n,s.v7_relativeSplatPath));return a.useMemo(()=>F(e,JSON.parse(l),i,"path"===r),[e,l,i,r])}function ne(e,t,r,n){X()||u(!1);let{navigator:i}=a.useContext(G),{matches:l}=a.useContext(Z),o=l[l.length-1],c=o?o.params:{},d=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let h,m=ee();if(t){var g;let e="string"===typeof t?p(t):t;"/"===d||(null==(g=e.pathname)?void 0:g.startsWith(d))||u(!1),h=e}else h=m;let x=h.pathname||"/",f=x;if("/"!==d){let e=d.replace(/^\//,"").split("/");f="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=b(e,{pathname:f});let v=de(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:U([d,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:U([d,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,r,n);return t&&v?a.createElement(Q.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:s.Pop}},v):v}function ie(){let e=function(){var e;let t=a.useContext(J),r=ge(he.UseRouteError),s=xe(he.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[s]}(),t=$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",n={padding:"0.5rem",backgroundColor:s};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),r?a.createElement("pre",{style:n},r):null,null)}const le=a.createElement(ie,null);class oe extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(Z.Provider,{value:this.props.routeContext},a.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ce(e){let{routeContext:t,match:r,children:s}=e,n=a.useContext(Y);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),a.createElement(Z.Provider,{value:t},s)}function de(e,t,r,s){var n;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===s&&(s=null),null==e){var i;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(i=s)&&i.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let l=e,o=null==(n=r)?void 0:n.errors;if(null!=o){let e=l.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||u(!1),l=l.slice(0,Math.min(l.length,e+1))}let c=!1,d=-1;if(r&&s&&s.v7_partialHydration)for(let a=0;a<l.length;a++){let e=l[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=a),e.route.id){let{loaderData:t,errors:s}=r,a=e.route.loader&&void 0===t[e.route.id]&&(!s||void 0===s[e.route.id]);if(e.route.lazy||a){c=!0,l=d>=0?l.slice(0,d+1):[l[0]];break}}}return l.reduceRight((e,s,n)=>{let i,u=!1,h=null,m=null;var g;r&&(i=o&&s.route.id?o[s.route.id]:void 0,h=s.route.errorElement||le,c&&(d<0&&0===n?(g="route-fallback",!1||pe[g]||(pe[g]=!0),u=!0,m=null):d===n&&(u=!0,m=s.route.hydrateFallbackElement||null)));let x=t.concat(l.slice(0,n+1)),p=()=>{let t;return t=i?h:u?m:s.route.Component?a.createElement(s.route.Component,null):s.route.element?s.route.element:e,a.createElement(ce,{match:s,routeContext:{outlet:e,matches:x,isDataRoute:null!=r},children:t})};return r&&(s.route.ErrorBoundary||s.route.errorElement||0===n)?a.createElement(oe,{location:r.location,revalidation:r.revalidation,component:h,error:i,children:p(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):p()},null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),he=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(he||{});function me(e){let t=a.useContext(Y);return t||u(!1),t}function ge(e){let t=a.useContext(K);return t||u(!1),t}function xe(e){let t=function(){let e=a.useContext(Z);return e||u(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||u(!1),r.route.id}const pe={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}n.startTransition;function ye(e){let{to:t,replace:r,state:s,relative:n}=e;X()||u(!1);let{future:i,static:l}=a.useContext(G),{matches:o}=a.useContext(Z),{pathname:c}=ee(),d=re(),h=F(t,D(o,i.v7_relativeSplatPath),c,"path"===n),m=JSON.stringify(h);return a.useEffect(()=>d(JSON.parse(m),{replace:r,state:s,relative:n}),[d,m,n,r,s]),null}function be(e){u(!1)}function ve(e){let{basename:t="/",children:r=null,location:n,navigationType:i=s.Pop,navigator:l,static:o=!1,future:c}=e;X()&&u(!1);let d=t.replace(/^\/*/,"/"),h=a.useMemo(()=>({basename:d,navigator:l,static:o,future:q({v7_relativeSplatPath:!1},c)}),[d,c,l,o]);"string"===typeof n&&(n=p(n));let{pathname:m="/",search:g="",hash:x="",state:f=null,key:y="default"}=n,b=a.useMemo(()=>{let e=T(m,d);return null==e?null:{location:{pathname:e,search:g,hash:x,state:f,key:y},navigationType:i}},[d,m,g,x,f,y,i]);return null==b?null:a.createElement(G.Provider,{value:h},a.createElement(Q.Provider,{children:r,value:b}))}function we(e){let{children:t,location:r}=e;return ne(je(t),r)}new Promise(()=>{});a.Component;function je(e,t){void 0===t&&(t=[]);let r=[];return a.Children.forEach(e,(e,s)=>{if(!a.isValidElement(e))return;let n=[...t,s];if(e.type===a.Fragment)return void r.push.apply(r,je(e.props.children,n));e.type!==be&&u(!1),e.props.index&&e.props.children&&u(!1);let i={id:e.props.id||n.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=je(e.props.children,n)),r.push(i)}),r}function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ke.apply(this,arguments)}function Ne(e,t){if(null==e)return{};var r,s,a={},n=Object.keys(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||(a[r]=e[r]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Bh){}new Map;const _e=n.startTransition;o.flushSync,n.useId;function Ce(e){let{basename:t,children:r,future:s,window:n}=e,i=a.useRef();var l;null==i.current&&(i.current=(void 0===(l={window:n,v5Compat:!0})&&(l={}),f(function(e,t){let{pathname:r,search:s,hash:a}=e.location;return g("",{pathname:r,search:s,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:x(t)},null,l)));let o=i.current,[c,d]=a.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},h=a.useCallback(e=>{u&&_e?_e(()=>d(e)):d(e)},[d,u]);return a.useLayoutEffect(()=>o.listen(h),[o,h]),a.useEffect(()=>fe(s),[s]),a.createElement(ve,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:o,future:s})}const Ee="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Pe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ae=a.forwardRef(function(e,t){let r,{onClick:s,relative:n,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:h,viewTransition:m}=e,g=Ne(e,Se),{basename:p}=a.useContext(G),f=!1;if("string"===typeof d&&Pe.test(d)&&(r=d,Ee))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),r=T(t.pathname,p);t.origin===e.origin&&null!=r?d=r+t.search+t.hash:f=!0}catch(Bh){}let y=function(e,t){let{relative:r}=void 0===t?{}:t;X()||u(!1);let{basename:s,navigator:n}=a.useContext(G),{hash:i,pathname:l,search:o}=ae(e,{relative:r}),c=l;return"/"!==s&&(c="/"===l?s:U([s,l])),n.createHref({pathname:c,search:o,hash:i})}(d,{relative:n}),b=function(e,t){let{target:r,replace:s,state:n,preventScrollReset:i,relative:l,viewTransition:o}=void 0===t?{}:t,c=re(),d=ee(),u=ae(e,{relative:l});return a.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==s?s:x(d)===x(u);c(e,{replace:r,state:n,preventScrollReset:i,relative:l,viewTransition:o})}},[d,c,u,s,n,r,e,i,l,o])}(d,{replace:l,state:o,target:c,preventScrollReset:h,relative:n,viewTransition:m});return a.createElement("a",ke({},g,{href:r||y,onClick:f||i?s:function(e){s&&s(e),e.defaultPrevented||b(e)},ref:t,target:c}))});var Re,Ie;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Re||(Re={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ie||(Ie={}));var Oe=r(579);const Te=(0,a.createContext)(void 0),Me=e=>{let{children:t}=e;const[r,s]=(0,a.useState)(()=>localStorage.getItem("onesoko-theme")||"light"),n=e=>{s(e),localStorage.setItem("onesoko-theme",e)};(0,a.useEffect)(()=>{const e=document.documentElement;"dark"===r?(e.classList.add("dark"),e.classList.remove("light")):(e.classList.add("light"),e.classList.remove("dark"))},[r]);const i={theme:r,toggleTheme:()=>{n("light"===r?"dark":"light")},setTheme:n};return(0,Oe.jsx)(Te.Provider,{value:i,children:t})};var Le=r(472);const De=(0,a.createContext)(void 0),Fe=()=>{const e=(0,a.useContext)(De);if(void 0===e)throw new Error("useAuth must be used within an AuthProvider");return e},Ue=e=>{var t;let{children:r}=e;const[s,n]=(0,a.useState)(null),[i,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(null),[h,m]=(0,a.useState)(!1),[g,x]=(0,a.useState)(""),[p,f]=(0,a.useState)(!0),y=(null===s||void 0===s||null===(t=s.profile)||void 0===t?void 0:t.is_shopowner)||!1;(0,a.useEffect)(()=>{(async()=>{try{const a=localStorage.getItem("user"),i=localStorage.getItem("access_token");if(a&&i){const i=JSON.parse(a);try{var e;const t=await Le.userAPI.getCurrentUser();if(n(t),l(!0),null!==(e=t.profile)&&void 0!==e&&e.is_shopowner)try{const e=await Le.shopsAPI.getMyShops();c(e);const t=localStorage.getItem("activeShop");if(t){const r=JSON.parse(t),s=e.find(e=>e.shopId===r.shopId);s?u(s):e.length>0&&(u(e[0]),localStorage.setItem("activeShop",JSON.stringify(e[0])))}else e.length>0&&(u(e[0]),localStorage.setItem("activeShop",JSON.stringify(e[0])))}catch(r){console.error("Error fetching user shops:",r)}}catch(r){if(localStorage.getItem("refresh_token"))try{var t;if(console.log("Token refresh would happen here"),n(i),l(!0),null!==(t=i.profile)&&void 0!==t&&t.is_shopowner)try{const e=await Le.shopsAPI.getMyShops();c(e);const t=localStorage.getItem("activeShop");if(t){const r=JSON.parse(t),s=e.find(e=>e.shopId===r.shopId);s?u(s):e.length>0&&(u(e[0]),localStorage.setItem("activeShop",JSON.stringify(e[0])))}else e.length>0&&(u(e[0]),localStorage.setItem("activeShop",JSON.stringify(e[0])))}catch(r){console.error("Error fetching user shops:",r)}}catch(s){localStorage.removeItem("user"),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user_profile"),localStorage.removeItem("activeShop")}else localStorage.removeItem("user"),localStorage.removeItem("access_token"),localStorage.removeItem("user_profile"),localStorage.removeItem("activeShop")}}}catch(r){console.error("Error checking auth state:",r)}finally{f(!1)}})()},[]);const b={user:s,isAuthenticated:i,userShops:o,activeShop:d,login:async e=>{try{var t;const e=await Le.userAPI.getCurrentUser();if(n(e),localStorage.setItem("user",JSON.stringify(e)),l(!0),null!==(t=e.profile)&&void 0!==t&&t.is_shopowner)try{const t=await Le.shopsAPI.getMyShops();if(c(t),t.length>0){const r=localStorage.getItem("activeShop");let s=t[0];if(r){const e=JSON.parse(r),a=t.find(t=>t.shopId===e.shopId);a&&(s=a)}u(s),localStorage.setItem("activeShop",JSON.stringify(s));const a=e.first_name||e.username;1===t.length?x(`Hello ${a}, welcome to your ${s.name} shop! \ud83c\udfea`):x(`Hello ${a}, welcome back! You're managing ${t.length} shops. Currently active: ${s.name} \ud83c\udfea`)}else{const t=e.first_name||e.username;x(`Hello ${t}, welcome to OneSoko! Ready to create your first shop? \ud83d\ude80`)}}catch(r){console.error("Error fetching shops:",r);const t=e.first_name||e.username;x(`Hello ${t}, welcome to OneSoko! \ud83c\udfea`)}else{const t=e.first_name||e.username;x(`Dear ${t}, welcome to OneSoko! \ud83d\udecd\ufe0f`)}}catch(r){console.warn("Failed to fetch complete user data, using provided data:",r),n(e),localStorage.setItem("user",JSON.stringify(e)),l(!0);const t=e.first_name||e.username;x(`Dear ${t}, welcome to OneSoko!`)}m(!0),setTimeout(()=>{m(!1)},5e3)},logout:()=>{n(null),l(!1),c([]),u(null),localStorage.removeItem("user"),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user_profile"),localStorage.removeItem("activeShop"),m(!1)},register:e=>{n(e),l(!0),localStorage.setItem("user",JSON.stringify(e));const t=e.first_name||e.username;x(`Dear ${t}, welcome to OneSoko! We're excited to have you join our community.`),m(!0),setTimeout(()=>{m(!1)},6e3)},setActiveShop:e=>{u(e),e?localStorage.setItem("activeShop",JSON.stringify(e)):localStorage.removeItem("activeShop")},showWelcomeMessage:h,welcomeMessage:g,hideWelcomeMessage:()=>{m(!1)},isLoading:p,isShopOwner:y};return(0,Oe.jsx)(De.Provider,{value:b,children:r})},Be=e=>{let{children:t,requireProfile:r=!0,fallbackPath:s="/login"}=e;const{isAuthenticated:a,user:n}=Fe(),i=ee();return a?r&&n&&!n.first_name&&!n.last_name?(0,Oe.jsx)(ye,{to:"/profile-setup",state:{from:i},replace:!0}):(0,Oe.jsx)(Oe.Fragment,{children:t}):(0,Oe.jsx)(ye,{to:s,state:{from:i},replace:!0})},Ve=e=>{let{children:t,redirectTo:r="/"}=e;const{isAuthenticated:s,user:a}=Fe(),n=ee();if(s&&a){var i,l,o;const e=(null===(i=n.state)||void 0===i||null===(l=i.from)||void 0===l?void 0:l.pathname)||r;return null!==(o=a.profile)&&void 0!==o&&o.is_shopowner?(0,Oe.jsx)(ye,{to:"/shop-dashboard",replace:!0}):(0,Oe.jsx)(ye,{to:e,replace:!0})}return(0,Oe.jsx)(Oe.Fragment,{children:t})},ze=()=>(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"flex justify-center mb-8",children:(0,Oe.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-lg flex items-center justify-center",children:(0,Oe.jsx)("span",{className:"text-white font-bold text-2xl",children:"O"})})}),(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),(0,Oe.jsx)("h2",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2",children:"Loading OneSoko..."}),(0,Oe.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"Please wait while we prepare your experience"})]})});function $e(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const We=a.forwardRef($e);function He(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const qe=a.forwardRef(He),Ye=()=>{const{showWelcomeMessage:e,welcomeMessage:t,hideWelcomeMessage:r}=Fe(),[s,n]=(0,a.useState)(100);return(0,a.useEffect)(()=>{if(e){n(100);const e=setInterval(()=>{n(t=>t<=0?(clearInterval(e),r(),0):t-2)},100);return()=>clearInterval(e)}},[e,r]),e?(0,Oe.jsx)("div",{className:"fixed top-4 right-4 z-50 max-w-sm w-full",children:(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-green-200 dark:border-green-700 p-4 animate-in slide-in-from-right-2 duration-300",children:[(0,Oe.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Oe.jsx)("div",{className:"flex-shrink-0",children:(0,Oe.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center",children:(0,Oe.jsx)(We,{className:"w-5 h-5 text-white"})})}),(0,Oe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t}),(0,Oe.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"We're glad to have you here!"})]}),(0,Oe.jsx)("div",{className:"flex-shrink-0",children:(0,Oe.jsx)("button",{onClick:r,className:"inline-flex text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 rounded-full p-1",children:(0,Oe.jsx)(qe,{className:"w-4 h-4"})})})]}),(0,Oe.jsx)("div",{className:"mt-3",children:(0,Oe.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1",children:(0,Oe.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 h-1 rounded-full transition-all duration-100 ease-linear",style:{width:`${s}%`}})})})]})}):null},Ke=e=>{let{children:t}=e;const{isAuthenticated:r,isShopOwner:s,userShops:n,isLoading:i}=Fe(),l=re();return(0,a.useEffect)(()=>{!i&&r&&s&&n.length>0&&l("/shop-dashboard",{replace:!0})},[r,s,n,i,l]),(0,Oe.jsx)(Oe.Fragment,{children:t})};function Ge(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const Qe=a.forwardRef(Ge);function Ze(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const Je=a.forwardRef(Ze);function Xe(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const et=a.forwardRef(Xe);function tt(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const rt=a.forwardRef(tt);function st(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const at=a.forwardRef(st),nt=()=>{const[e,t]=(0,a.useState)(0),[r,s]=(0,a.useState)(!0);(0,a.useEffect)(()=>{n();const e=()=>n();return window.addEventListener("cart:updated",e),()=>{window.removeEventListener("cart:updated",e)}},[]);const n=async()=>{try{const e=await Le.cartAPI.getCartItemCount();t(e)}catch(e){t(0)}finally{s(!1)}};return(0,Oe.jsxs)(Ae,{to:"/cart",className:"relative inline-flex items-center p-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800 rounded-md transition-colors",children:[(0,Oe.jsx)(at,{className:"w-6 h-6"}),!r&&e>0&&(0,Oe.jsx)("span",{className:"absolute -top-1 -right-1 bg-primary-600 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center",children:e>99?"99+":e}),(0,Oe.jsxs)("span",{className:"sr-only",children:["Cart (",e," items)"]})]})};function it(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.76c0 1.6 1.123 2.994 2.707 3.227 1.087.16 2.185.283 3.293.369V21l4.076-4.076a1.526 1.526 0 0 1 1.037-.443 48.282 48.282 0 0 0 5.68-.494c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"}))}const lt=a.forwardRef(it);function ot(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const ct=a.forwardRef(ot);function dt(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 21v-7.5a.75.75 0 0 1 .75-.75h3a.75.75 0 0 1 .75.75V21m-4.5 0H2.36m11.14 0H18m0 0h3.64m-1.39 0V9.349M3.75 21V9.349m0 0a3.001 3.001 0 0 0 3.75-.615A2.993 2.993 0 0 0 9.75 9.75c.896 0 1.7-.393 2.25-1.016a2.993 2.993 0 0 0 2.25 1.016c.896 0 1.7-.393 2.25-1.015a3.001 3.001 0 0 0 3.75.614m-16.5 0a3.004 3.004 0 0 1-.621-4.72l1.189-1.19A1.5 1.5 0 0 1 5.378 3h13.243a1.5 1.5 0 0 1 1.06.44l1.19 1.189a3 3 0 0 1-.621 4.72M6.75 18h3.75a.75.75 0 0 0 .75-.75V13.5a.75.75 0 0 0-.75-.75H6.75a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75Z"}))}const ut=a.forwardRef(dt);function ht(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const mt=a.forwardRef(ht),gt=e=>{var t,r;let{isOpen:s,onClose:n,recipient:i,shop:l,product:o,initialMessage:c=""}=e;const{user:d,isAuthenticated:u}=Fe(),h=re(),[m,g]=(0,a.useState)(c),[x,p]=(0,a.useState)(!1),[f,y]=(0,a.useState)(!1);(0,a.useEffect)(()=>{s&&(g(c),y(!1))},[s,c]);const b=async()=>{if(m.trim()&&i&&!x)try{p(!0);const e={recipient:i.id,content:m.trim(),...l&&{shop:l.shopId},...o&&{product:o.id}};await Le.messagesAPI.send(e),y(!0),setTimeout(()=>{n(),h("/messages")},2e3)}catch(e){console.error("Failed to send message:",e)}finally{p(!1)}};return s?u?(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-lg mx-4 max-h-[90vh] overflow-y-auto",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,Oe.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Send Message"}),(0,Oe.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:(0,Oe.jsx)(qe,{className:"w-6 h-6"})})]}),f?(0,Oe.jsxs)("div",{className:"p-6 text-center",children:[(0,Oe.jsx)("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Oe.jsx)("svg",{className:"w-8 h-8 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Message Sent Successfully!"}),(0,Oe.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"Your message has been delivered. Redirecting to messages..."})]}):(0,Oe.jsxs)("div",{className:"p-6 space-y-6",children:[i&&(0,Oe.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:[(0,Oe.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white mb-3",children:"Sending to:"}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[null!==(t=i.profile)&&void 0!==t&&t.avatar?(0,Oe.jsx)("img",{src:i.profile.avatar,alt:i.username,className:"w-10 h-10 rounded-full object-cover"}):(0,Oe.jsx)("div",{className:"w-10 h-10 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center",children:(0,Oe.jsx)(rt,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsxs)("p",{className:"font-medium text-gray-900 dark:text-white",children:[i.first_name," ",i.last_name]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["@",i.username]}),(null===(r=i.profile)||void 0===r?void 0:r.is_shopowner)&&(0,Oe.jsxs)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",children:[(0,Oe.jsx)(ut,{className:"w-3 h-3 mr-1"}),"Shop Owner"]})]})]})]})]}),l&&(0,Oe.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)(ut,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"font-medium text-blue-900 dark:text-blue-300",children:l.name}),l.description&&(0,Oe.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:l.description})]})]})}),o&&(0,Oe.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-4",children:(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)("div",{className:"flex-shrink-0",children:o.image?(0,Oe.jsx)("img",{src:o.image,alt:o.name,className:"w-12 h-12 rounded-lg object-cover"}):(0,Oe.jsx)("div",{className:"w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:(0,Oe.jsx)(mt,{className:"w-6 h-6 text-gray-400"})})}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("p",{className:"font-medium text-green-900 dark:text-green-300",children:o.name}),(0,Oe.jsxs)("p",{className:"text-sm text-green-700 dark:text-green-400",children:["$",o.price.toFixed(2)]})]})]})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Message"}),(0,Oe.jsx)("textarea",{value:m,onChange:e=>g(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),b())},placeholder:"Type your message here...",rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 resize-none"}),(0,Oe.jsx)("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:"Press Enter to send, Shift+Enter for new line"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Quick templates:"}),(0,Oe.jsx)("div",{className:"flex flex-wrap gap-2",children:["Hi! I'm interested in this product.","Could you provide more details?","Is this item still available?","What are the shipping options?"].map((e,t)=>(0,Oe.jsx)("button",{onClick:()=>g(e),className:"text-xs px-3 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:e},t))})]}),(0,Oe.jsxs)("div",{className:"flex space-x-3",children:[(0,Oe.jsx)("button",{onClick:n,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,Oe.jsxs)("button",{onClick:b,disabled:!m.trim()||x,className:"flex-1 flex items-center justify-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[x?(0,Oe.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):(0,Oe.jsx)(ct,{className:"w-4 h-4 mr-2"}),"Send Message"]})]})]})]})}):(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md mx-4",children:(0,Oe.jsxs)("div",{className:"p-6 text-center",children:[(0,Oe.jsx)("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Oe.jsx)(rt,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Login Required"}),(0,Oe.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Please log in to send messages to shop owners and other users."}),(0,Oe.jsxs)("div",{className:"flex space-x-3",children:[(0,Oe.jsx)("button",{onClick:n,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,Oe.jsx)("button",{onClick:()=>{n(),h("/login")},className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Login"})]})]})})}):null},xt=()=>{const{isAuthenticated:e}=Fe(),[t,s]=(0,a.useState)(0),[n,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(""),[u,h]=(0,a.useState)(""),[m,g]=(0,a.useState)(null),[x,p]=(0,a.useState)([]),[f,y]=(0,a.useState)([]),[b,v]=(0,a.useState)(!1),[w,j]=(0,a.useState)(!1),[k,N]=(0,a.useState)(""),S=(0,a.useRef)(null);(0,a.useEffect)(()=>{const e=e=>{S.current&&!S.current.contains(e.target)&&i(!1)};if(n)return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[n]),(0,a.useEffect)(()=>{if(console.log("Authentication status:",e),!e)return void s(0);const t=async()=>{try{const e=await Le.messagesAPI.getUnreadCount();s(e)}catch(e){console.error("Failed to fetch unread count:",e)}};t(),(async()=>{try{console.log("Fetching shops...");const e=await Promise.resolve().then(r.bind(r,472)).then(e=>e.shopsAPI.getAll());console.log("Shops fetched:",e),p(e||[])}catch(e){console.error("Failed to fetch shops:",e)}})(),(async()=>{try{const e=await Le.messagesAPI.getConversations();y(e.slice(0,5))}catch(e){console.error("Failed to fetch conversations:",e)}})();const a=setInterval(t,3e4);return()=>clearInterval(a)},[e]);const _=x.filter(e=>{var t,r;return e.name.toLowerCase().includes(k.toLowerCase())||(null===(t=e.city)||void 0===t?void 0:t.toLowerCase().includes(k.toLowerCase()))||(null===(r=e.location)||void 0===r?void 0:r.toLowerCase().includes(k.toLowerCase()))});return e?(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsxs)("button",{onClick:e=>{e.preventDefault(),i(!n),n||(N(""),d(""),h(""),g(null),j(!1))},className:"relative text-gray-600 hover:text-primary-600 dark:text-gray-300 dark:hover:text-primary-400 transition-colors p-2",children:[(0,Oe.jsx)(lt,{className:"w-6 h-6"}),t>0&&(0,Oe.jsx)("span",{className:"absolute -top-1 -right-1 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-red-600 rounded-full min-w-[1.25rem] h-5",children:t>99?"99+":t})]}),n&&(0,Oe.jsx)("div",{ref:S,className:"absolute right-0 top-full mt-2 w-96 bg-white dark:bg-gray-800 rounded-lg shadow-lg border border-gray-200 dark:border-gray-700 z-50",children:(0,Oe.jsxs)("div",{className:"p-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Quick Message"}),(0,Oe.jsx)("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,Oe.jsx)(qe,{className:"w-5 h-5"})})]}),w?(0,Oe.jsxs)("div",{className:"text-center py-4",children:[(0,Oe.jsx)("div",{className:"w-12 h-12 mx-auto mb-2 bg-green-100 dark:bg-green-900/20 rounded-full flex items-center justify-center",children:(0,Oe.jsx)("svg",{className:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,Oe.jsx)("p",{className:"text-green-600 dark:text-green-400 font-medium",children:"Message sent successfully!"})]}):(0,Oe.jsxs)("div",{className:"space-y-4",children:[f.length>0&&(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Recent Conversations"}),(0,Oe.jsx)("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:f.map(e=>(0,Oe.jsxs)("div",{onClick:()=>{return t=e.user,g(t),i(!1),void o(!0);var t},className:"flex items-center p-2 bg-gray-50 dark:bg-gray-700/50 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer transition-colors",children:[(0,Oe.jsx)("div",{className:"w-8 h-8 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center mr-3",children:(0,Oe.jsx)(rt,{className:"w-4 h-4 text-gray-600 dark:text-gray-300"})}),(0,Oe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Oe.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:[e.user.first_name," ",e.user.last_name]}),e.unread_count>0&&(0,Oe.jsxs)("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-medium bg-primary-100 text-primary-800",children:[e.unread_count," new"]})]})]},e.user.id))}),(0,Oe.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 my-3"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Send New Message"}),(0,Oe.jsx)("input",{type:"text",placeholder:"Search shops...",value:k,onChange:e=>N(e.target.value),className:"w-full mb-2 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm"}),(0,Oe.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,Oe.jsx)("option",{value:"",children:"Select a shop to contact..."}),_.map(e=>{var t;return(0,Oe.jsxs)("option",{value:null===(t=e.shopowner)||void 0===t?void 0:t.id,children:["\ud83c\udfea ",e.name," ",e.city&&`\u2022 ${e.city}`," ",e.shopowner&&`\u2022 Owner: ${e.shopowner.first_name||e.shopowner.username}`]},e.shopId)})]}),0===x.length?(0,Oe.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Loading available shops..."}):0===_.length&&k?(0,Oe.jsxs)("p",{className:"text-xs text-yellow-600 dark:text-yellow-400 mt-1",children:['No shops found matching "',k,'"']}):(0,Oe.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[_.length," shop",1!==_.length?"s":""," available"]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Message"}),(0,Oe.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),placeholder:"Type your message here...",rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 resize-none"})]}),(0,Oe.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Oe.jsx)(Ae,{to:"/messages",className:"text-sm text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300",onClick:()=>i(!1),children:"View all messages"}),(0,Oe.jsxs)("button",{onClick:async()=>{if(console.log("Send button clicked!"),console.log("Message text:",c),console.log("Selected shop:",u),c.trim()&&u)try{v(!0),console.log("Sending message to API...");const e=await Le.messagesAPI.send({recipient:parseInt(u),content:c});console.log("Message sent successfully:",e),j(!0),d(""),h(""),setTimeout(()=>{j(!1),i(!1)},2e3);const t=await Le.messagesAPI.getUnreadCount();s(t)}catch(e){console.error("Failed to send message:",e),alert("Failed to send message. Please try again.")}finally{v(!1)}else console.log("Validation failed - missing message or shop")},disabled:!c.trim()||!u||b,className:"flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",type:"button",children:[b?(0,Oe.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):(0,Oe.jsx)(ct,{className:"w-4 h-4 mr-2"}),"Send Message"]})]})]})]})}),(0,Oe.jsx)(gt,{isOpen:l,onClose:()=>{o(!1),g(null)},recipient:m})]}):null};function pt(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const ft=a.forwardRef(pt);function yt(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const bt=a.forwardRef(yt);function vt(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const wt=a.forwardRef(vt),jt=()=>{const{userShops:e,activeShop:t,setActiveShop:r,isShopOwner:s}=Fe(),[n,i]=(0,a.useState)(!1),l=re();if(!s||0===e.length)return null;return(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsxs)("button",{onClick:()=>i(!n),className:"flex items-center space-x-2 px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[(0,Oe.jsx)(ut,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"}),(0,Oe.jsxs)("div",{className:"flex flex-col items-start",children:[(0,Oe.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:t?t.name:"Select Shop"}),e.length>1&&(0,Oe.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:[e.length," shops"]})]}),(0,Oe.jsx)(ft,{className:"w-4 h-4 text-gray-600 dark:text-gray-400 transition-transform "+(n?"rotate-180":"")})]}),n&&(0,Oe.jsx)("div",{className:"absolute top-full left-0 mt-1 w-64 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg shadow-lg z-50",children:(0,Oe.jsxs)("div",{className:"p-2",children:[(0,Oe.jsx)("div",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wide px-2 py-1 mb-1",children:"Your Shops"}),e.map(e=>(0,Oe.jsxs)("button",{onClick:()=>(e=>{r(e),i(!1)})(e),className:"w-full flex items-center justify-between px-3 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:(0,Oe.jsx)("span",{className:"text-white text-sm font-bold",children:e.name.charAt(0).toUpperCase()})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name}),(0,Oe.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.location})]})]}),(null===t||void 0===t?void 0:t.shopId)===e.shopId&&(0,Oe.jsx)(bt,{className:"w-4 h-4 text-blue-600"})]},e.shopId)),(0,Oe.jsx)("hr",{className:"my-2 border-gray-200 dark:border-gray-700"}),(0,Oe.jsxs)("button",{onClick:()=>{i(!1),l("/create-shop")},className:"w-full flex items-center space-x-3 px-3 py-2 text-left hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors",children:[(0,Oe.jsx)("div",{className:"w-8 h-8 bg-gray-200 dark:bg-gray-600 rounded-full flex items-center justify-center",children:(0,Oe.jsx)(wt,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Create New Shop"}),(0,Oe.jsx)("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Start a new business"})]})]})]})})]})},kt=e=>{let{onSidebarToggle:t}=e;const{isAuthenticated:r,user:s,isShopOwner:a}=Fe(),n=ee(),i=[{name:"Shops",path:"/shops",icon:Qe}];return(0,Oe.jsx)("nav",{className:"bg-white dark:bg-gray-900 shadow-sm border-b border-gray-200 dark:border-gray-700 transition-colors duration-200",children:(0,Oe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Oe.jsxs)("div",{className:"flex justify-between h-16",children:[(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)("button",{onClick:t,className:"lg:hidden p-2 rounded-md text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 mr-2",children:(0,Oe.jsx)(Je,{className:"h-6 w-6"})}),(0,Oe.jsxs)(Ae,{to:"/",className:"flex items-center space-x-2",children:[(0,Oe.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-lg flex items-center justify-center",children:(0,Oe.jsx)("span",{className:"text-white font-bold text-sm",children:"O"})}),(0,Oe.jsx)("span",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"OneSoko"})]}),(0,Oe.jsx)("div",{className:"hidden md:ml-8 md:flex md:space-x-8",children:i.map(e=>{const t=e.icon;return(0,Oe.jsxs)(Ae,{to:e.path,className:"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium transition-colors "+(r=e.path,n.pathname===r?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600"),children:[(0,Oe.jsx)(t,{className:"w-4 h-4 mr-1"}),e.name]},e.name);var r})})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[r&&a&&(0,Oe.jsx)(jt,{}),r&&(0,Oe.jsx)(nt,{}),(0,Oe.jsx)(xt,{}),r&&(0,Oe.jsx)(Ae,{to:"/notifications",className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,Oe.jsx)(et,{className:"h-6 w-6"})}),r?(0,Oe.jsx)("div",{className:"relative",children:(0,Oe.jsxs)(Ae,{to:"/user-profile",className:"flex items-center space-x-2 p-2 rounded-md text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:[(0,Oe.jsx)(rt,{className:"h-6 w-6"}),(0,Oe.jsx)("span",{className:"hidden md:block text-sm font-medium text-gray-700 dark:text-gray-300",children:(null===s||void 0===s?void 0:s.first_name)||(null===s||void 0===s?void 0:s.username)||"Profile"})]})}):(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsx)(Ae,{to:"/login",className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 text-sm font-medium",children:"Login"}),(0,Oe.jsx)(Ae,{to:"/register",className:"bg-primary-600 hover:bg-primary-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"Register"})]})]})]})})})};function Nt(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const St=a.forwardRef(Nt);function _t(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Ct=a.forwardRef(_t);function Et(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const Pt=a.forwardRef(Et);function At(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const Rt=a.forwardRef(At);function It(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Ot=a.forwardRef(It);function Tt(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const Mt=a.forwardRef(Tt);function Lt(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const Dt=a.forwardRef(Lt);function Ft(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const Ut=a.forwardRef(Ft);function Bt(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const Vt=a.forwardRef(Bt);function zt(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"}))}const $t=a.forwardRef(zt);function Wt(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const Ht=a.forwardRef(Wt),qt=e=>{let{isOpen:t,onClose:r}=e;const{isAuthenticated:s,logout:n}=Fe(),i=ee(),[l,o]=(0,a.useState)(!1),c=e=>i.pathname===e,d=[{name:"Home",path:"/",icon:St,description:"Discover amazing products"},{name:"Explore",path:"/categories",icon:Ct,description:"Browse categories"},{name:"Messages",path:"/messages",icon:Pt,description:"Chat with sellers"},{name:"Notifications",path:"/notifications",icon:et,description:"Stay updated"},{name:"Profile",path:"/user-profile",icon:rt,description:"Manage your account"}],u=[{name:"Shop",path:"/products",icon:mt,description:"Browse products"},{name:"Cart",path:"/cart",icon:at,description:"Your shopping cart"},{name:"Wishlist",path:"/wishlist",icon:Rt,description:"Saved items"},{name:"Orders",path:"/orders",icon:mt,description:"Track orders"}],h=[{name:"Dashboard",path:"/shop-dashboard",icon:ut,description:"Business overview"},{name:"Analytics",path:"/shop/analytics",icon:Ot,description:"Sales insights"},{name:"Products",path:"/shop/products",icon:Qe,description:"Manage inventory"},{name:"Orders",path:"/shop/orders",icon:mt,description:"Process orders"},{name:"Settings",path:"/shop/settings",icon:Mt,description:"Store configuration"}],m=[{name:"API Tests",path:"/order-api-test",icon:Mt},{name:"Categories Test",path:"/categories-api-test",icon:Qe},{name:"Messages Test",path:"/messages-api-test",icon:Pt},{name:"Profile Test",path:"/user-profile-api-test",icon:rt},{name:"Variants Test",path:"/product-variants-api-test",icon:Dt},{name:"Reviews Test",path:"/reviews-api-test",icon:Ut},{name:"Wishlist Test",path:"/wishlist-api-test",icon:Rt},{name:"Payments Test",path:"/payments-api-test",icon:Vt}],g=e=>{let{item:t,onClick:r,isActive:s,className:a="",showDescription:n=!1}=e;const i=t.icon;return(0,Oe.jsxs)(Ae,{to:t.path,onClick:()=>{window.innerWidth<1024&&r()},className:`\n          group relative flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-all duration-200 ease-out\n          ${s?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-md shadow-blue-500/25 transform scale-102":"text-gray-700 dark:text-gray-300 hover:bg-gradient-to-r hover:from-gray-50 hover:to-gray-100 dark:hover:from-gray-800 dark:hover:to-gray-700 hover:text-gray-900 dark:hover:text-white hover:shadow-sm transform hover:scale-101"}\n          ${a}\n        `,children:[(0,Oe.jsx)("div",{className:`\n          p-1.5 rounded-md transition-all duration-200\n          ${s?"bg-white/20 backdrop-blur-sm":"bg-gray-100 dark:bg-gray-800 group-hover:bg-white/50 dark:group-hover:bg-gray-700/50"}\n        `,children:(0,Oe.jsx)(i,{className:"w-4 h-4 "+(s?"text-white":"text-gray-600 dark:text-gray-400")})}),(0,Oe.jsxs)("div",{className:"ml-2 flex-1",children:[(0,Oe.jsx)("span",{className:"text-sm font-medium "+(s?"text-white":""),children:t.name}),n&&t.description&&(0,Oe.jsx)("p",{className:"text-xs mt-0.5 "+(s?"text-white/80":"text-gray-500 dark:text-gray-400"),children:t.description})]}),s&&(0,Oe.jsx)("div",{className:"absolute right-1 w-1.5 h-1.5 bg-white rounded-full animate-pulse"})]})},x=e=>{let{title:t,icon:r}=e;return(0,Oe.jsxs)("div",{className:"flex items-center px-3 mb-2",children:[r&&(0,Oe.jsx)("div",{className:"p-1 rounded-md bg-gradient-to-r from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 mr-2",children:(0,Oe.jsx)(r,{className:"w-3 h-3 text-gray-600 dark:text-gray-400"})}),(0,Oe.jsx)("h3",{className:"text-xs font-bold text-gray-600 dark:text-gray-400 uppercase tracking-wider",children:t})]})};return(0,Oe.jsxs)(Oe.Fragment,{children:[t&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black/60 z-40 lg:hidden backdrop-blur-md",onClick:r}),(0,Oe.jsx)("div",{className:`\n        fixed top-0 left-0 z-50 h-full w-72 bg-gradient-to-b from-white via-gray-50 to-white dark:from-gray-900 dark:via-gray-800 dark:to-gray-900 shadow-xl transform transition-all duration-300 ease-out\n        ${t?"translate-x-0":"-translate-x-full"}\n        lg:translate-x-0 lg:static lg:inset-0\n        border-r border-gray-200/50 dark:border-gray-700/50\n      `,children:(0,Oe.jsxs)("div",{className:"flex flex-col h-full",children:[(0,Oe.jsxs)("div",{className:"relative p-4 border-b border-gray-200/50 dark:border-gray-700/50 bg-gradient-to-r from-white to-gray-50 dark:from-gray-900 dark:to-gray-800",children:[(0,Oe.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/5 to-purple-500/5"}),(0,Oe.jsxs)("div",{className:"relative flex items-center justify-between",children:[(0,Oe.jsxs)(Ae,{to:"/",className:"flex items-center space-x-2 group",onClick:r,children:[(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 rounded-xl flex items-center justify-center shadow-md shadow-blue-500/25 transform group-hover:scale-105 transition-transform duration-200",children:(0,Oe.jsx)("span",{className:"text-white font-bold text-sm",children:"O"})}),(0,Oe.jsx)("div",{className:"absolute -top-0.5 -right-0.5 w-3 h-3 bg-green-400 rounded-full border-2 border-white animate-pulse"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("span",{className:"text-lg font-bold bg-gradient-to-r from-gray-900 to-gray-600 dark:from-white dark:to-gray-300 bg-clip-text text-transparent",children:"OneSoko"}),(0,Oe.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 -mt-0.5",children:"Your marketplace"})]})]}),(0,Oe.jsx)("button",{onClick:r,className:"lg:hidden p-1.5 rounded-lg text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200 hover:scale-105",children:(0,Oe.jsx)(qe,{className:"h-5 w-5"})})]})]}),(0,Oe.jsx)("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-gray-300 dark:scrollbar-thumb-gray-600 scrollbar-track-transparent",children:(0,Oe.jsxs)("nav",{className:"px-3 py-4 space-y-4",children:[(0,Oe.jsxs)("div",{className:"space-y-1",children:[(0,Oe.jsx)(x,{title:"Main"}),d.map(e=>(0,Oe.jsx)(g,{item:e,onClick:r,isActive:c(e.path),showDescription:!0},e.name))]}),(0,Oe.jsxs)("div",{className:"space-y-1",children:[(0,Oe.jsx)(x,{title:"Shopping",icon:mt}),u.map(e=>(0,Oe.jsx)(g,{item:e,onClick:r,isActive:c(e.path),showDescription:!0},e.name))]}),s&&(0,Oe.jsxs)("div",{className:"space-y-1",children:[(0,Oe.jsx)(x,{title:"Business",icon:ut}),h.map(e=>(0,Oe.jsx)(g,{item:e,onClick:r,isActive:c(e.path),showDescription:!0},e.name))]}),(0,Oe.jsxs)("div",{className:"space-y-1",children:[(0,Oe.jsxs)("button",{onClick:()=>o(!l),className:"flex items-center justify-between w-full px-3 py-2 text-xs font-bold text-gray-600 dark:text-gray-400 uppercase tracking-wider hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:[(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)("div",{className:"p-1 rounded-md bg-gradient-to-r from-orange-100 to-red-100 dark:from-orange-900/20 dark:to-red-900/20 mr-2",children:(0,Oe.jsx)(Mt,{className:"w-3 h-3 text-orange-600 dark:text-orange-400"})}),"Development"]}),l?(0,Oe.jsx)($t,{className:"w-3 h-3 transition-transform duration-200"}):(0,Oe.jsx)(ft,{className:"w-3 h-3 transition-transform duration-200"})]}),(0,Oe.jsx)("div",{className:"space-y-0.5 overflow-hidden transition-all duration-200 "+(l?"max-h-80 opacity-100":"max-h-0 opacity-0"),children:m.map(e=>(0,Oe.jsx)(g,{item:e,onClick:r,isActive:c(e.path),className:"text-xs py-1.5 ml-3"},e.name))})]}),!s&&(0,Oe.jsx)("div",{className:"space-y-2 pt-3",children:(0,Oe.jsxs)("div",{className:"p-3 rounded-lg bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-200/50 dark:border-blue-700/50",children:[(0,Oe.jsx)("h4",{className:"text-xs font-semibold text-gray-900 dark:text-white mb-1",children:"Get Started"}),(0,Oe.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:"Join our community today"}),(0,Oe.jsxs)("div",{className:"space-y-1.5",children:[(0,Oe.jsxs)(Ae,{to:"/register",onClick:()=>{window.innerWidth<1024&&r()},className:"flex items-center justify-center w-full px-3 py-2 text-xs font-semibold text-white bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg hover:from-blue-600 hover:to-purple-700 transition-all duration-200 transform hover:scale-105 shadow-md shadow-blue-500/25",children:[(0,Oe.jsx)(rt,{className:"w-3 h-3 mr-1.5"}),"Sign Up"]}),(0,Oe.jsxs)(Ae,{to:"/register-shop-owner",onClick:()=>{window.innerWidth<1024&&r()},className:"flex items-center justify-center w-full px-3 py-2 text-xs font-semibold text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-all duration-200",children:[(0,Oe.jsx)(ut,{className:"w-3 h-3 mr-1.5"}),"Start Selling"]})]})]})})]})}),(0,Oe.jsx)("div",{className:"p-4 border-t border-gray-200/50 dark:border-gray-700/50 bg-gradient-to-r from-gray-50 to-white dark:from-gray-800 dark:to-gray-900",children:s?(0,Oe.jsxs)("button",{onClick:()=>{n(),r()},className:"flex items-center w-full px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gradient-to-r hover:from-red-50 hover:to-pink-50 dark:hover:from-red-900/20 dark:hover:to-pink-900/20 hover:text-red-600 dark:hover:text-red-400 rounded-lg transition-all duration-200 transform hover:scale-102",children:[(0,Oe.jsx)("div",{className:"p-1.5 rounded-md bg-red-100 dark:bg-red-900/30 mr-2",children:(0,Oe.jsx)(Ht,{className:"w-4 h-4 text-red-600 dark:text-red-400"})}),(0,Oe.jsx)("span",{className:"text-sm",children:"Logout"})]}):(0,Oe.jsxs)(Ae,{to:"/login",onClick:()=>{window.innerWidth<1024&&r()},className:"flex items-center w-full px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gradient-to-r hover:from-gray-50 hover:to-gray-100 dark:hover:from-gray-800 dark:hover:to-gray-700 hover:text-gray-900 dark:hover:text-white rounded-lg transition-all duration-200 transform hover:scale-102",children:[(0,Oe.jsx)("div",{className:"p-1.5 rounded-md bg-gray-100 dark:bg-gray-800 mr-2",children:(0,Oe.jsx)(rt,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),(0,Oe.jsx)("span",{className:"text-sm",children:"Login"})]})})]})})]})};function Yt(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const Kt=a.forwardRef(Yt);function Gt(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const Qt=a.forwardRef(Gt),Zt=()=>{var e,t;const{isAuthenticated:r,user:s}=Fe(),a=re(),n=[{icon:ut,title:"Create Your Shop",description:"Set up your online store in minutes with our easy-to-use platform."},{icon:mt,title:"Browse Products",description:"Discover amazing products from local businesses in your area."},{icon:Ut,title:"Customer Reviews",description:"Read authentic reviews from real customers before making purchases."},{icon:Kt,title:"Local Focus",description:"Support local businesses and find products from your community."}];return(0,Oe.jsxs)("div",{className:"bg-white",children:[(0,Oe.jsx)("div",{className:"relative bg-gradient-to-r from-primary-600 to-secondary-600",children:(0,Oe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6",children:"Your Local Marketplace"}),(0,Oe.jsx)("p",{className:"text-xl md:text-2xl text-primary-100 mb-8 max-w-3xl mx-auto",children:"Connect with local businesses, discover amazing products, and support your community with OneSoko."}),(0,Oe.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Oe.jsxs)(Ae,{to:"/shops",className:"inline-flex items-center px-8 py-3 border border-transparent text-lg font-medium rounded-lg text-primary-600 bg-white hover:bg-gray-50 transition-colors",children:[(0,Oe.jsx)(mt,{className:"w-5 h-5 mr-2"}),"Browse Shops",(0,Oe.jsx)(Qt,{className:"w-5 h-5 ml-2"})]}),(0,Oe.jsxs)(Ae,{to:"/register",className:"inline-flex items-center px-8 py-3 border-2 border-white text-lg font-medium rounded-lg text-white hover:bg-white hover:text-primary-600 transition-colors",children:[(0,Oe.jsx)(ut,{className:"w-5 h-5 mr-2"}),"Start Selling"]})]})]})})}),(0,Oe.jsx)("div",{className:"py-16 bg-gray-50",children:(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Oe.jsxs)("div",{className:"text-center mb-12",children:[(0,Oe.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Why Choose OneSoko?"}),(0,Oe.jsx)("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"We make it easy for local businesses to thrive online and for customers to discover amazing products."})]}),(0,Oe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:n.map((e,t)=>{const r=e.icon;return(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"mx-auto w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center mb-4",children:(0,Oe.jsx)(r,{className:"w-6 h-6 text-primary-600"})}),(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.title}),(0,Oe.jsx)("p",{className:"text-gray-600",children:e.description})]},t)})})]})}),(0,Oe.jsx)("div",{className:"py-16 bg-white",children:(0,Oe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Oe.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[{number:"100+",label:"Active Shops"},{number:"1000+",label:"Products"},{number:"500+",label:"Happy Customers"},{number:"50+",label:"Cities"}].map((e,t)=>(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"text-3xl md:text-4xl font-bold text-primary-600 mb-2",children:e.number}),(0,Oe.jsx)("div",{className:"text-gray-600",children:e.label})]},t))})})}),(0,Oe.jsx)("div",{className:"py-16 bg-primary-600",children:(0,Oe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:r?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsxs)("h2",{className:"text-3xl font-bold text-white mb-4",children:["Welcome back, ",(null===s||void 0===s?void 0:s.first_name)||(null===s||void 0===s?void 0:s.username),"!"]}),(0,Oe.jsx)("p",{className:"text-xl text-primary-100 mb-8",children:null!==s&&void 0!==s&&null!==(e=s.profile)&&void 0!==e&&e.is_shopowner?"Manage your shop and connect with more customers.":"Discover amazing products from local businesses."}),(0,Oe.jsx)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:null!==s&&void 0!==s&&null!==(t=s.profile)&&void 0!==t&&t.is_shopowner?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsxs)("button",{onClick:()=>a("/shop-dashboard"),className:"inline-flex items-center px-8 py-3 border border-transparent text-lg font-medium rounded-lg text-primary-600 bg-white hover:bg-gray-50 transition-colors",children:[(0,Oe.jsx)(ut,{className:"w-5 h-5 mr-2"}),"Go to Dashboard"]}),(0,Oe.jsx)("button",{onClick:()=>a("/messages"),className:"inline-flex items-center px-8 py-3 border-2 border-white text-lg font-medium rounded-lg text-white hover:bg-white hover:text-primary-600 transition-colors",children:"View Messages"})]}):(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsxs)("button",{onClick:()=>a("/shops"),className:"inline-flex items-center px-8 py-3 border border-transparent text-lg font-medium rounded-lg text-primary-600 bg-white hover:bg-gray-50 transition-colors",children:[(0,Oe.jsx)(mt,{className:"w-5 h-5 mr-2"}),"Explore Shops"]}),(0,Oe.jsxs)("button",{onClick:()=>a("/wishlist"),className:"inline-flex items-center px-8 py-3 border-2 border-white text-lg font-medium rounded-lg text-white hover:bg-white hover:text-primary-600 transition-colors",children:[(0,Oe.jsx)(Ut,{className:"w-5 h-5 mr-2"}),"My Wishlist"]})]})})]}):(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Get Started?"}),(0,Oe.jsx)("p",{className:"text-xl text-primary-100 mb-8",children:"Join thousands of businesses and customers who trust OneSoko."}),(0,Oe.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,Oe.jsxs)(Ae,{to:"/register",className:"inline-flex items-center px-8 py-3 border border-transparent text-lg font-medium rounded-lg text-primary-600 bg-white hover:bg-gray-50 transition-colors",children:[(0,Oe.jsx)(ut,{className:"w-5 h-5 mr-2"}),"Create Your Shop"]}),(0,Oe.jsxs)(Ae,{to:"/shops",className:"inline-flex items-center px-8 py-3 border-2 border-white text-lg font-medium rounded-lg text-white hover:bg-white hover:text-primary-600 transition-colors",children:[(0,Oe.jsx)(mt,{className:"w-5 h-5 mr-2"}),"Explore Shops"]})]})]})})}),(0,Oe.jsx)("footer",{className:"bg-gray-900 text-white py-12",children:(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,Oe.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-lg flex items-center justify-center",children:(0,Oe.jsx)("span",{className:"text-white font-bold text-sm",children:"O"})}),(0,Oe.jsx)("span",{className:"text-xl font-bold",children:"OneSoko"})]}),(0,Oe.jsx)("p",{className:"text-gray-400",children:"Your local marketplace for discovering and supporting local businesses."})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"For Businesses"}),(0,Oe.jsxs)("ul",{className:"space-y-2 text-gray-400",children:[(0,Oe.jsx)("li",{children:(0,Oe.jsx)(Ae,{to:"/register",className:"hover:text-white transition-colors",children:"Create Shop"})}),(0,Oe.jsx)("li",{children:(0,Oe.jsx)(Ae,{to:"/shop-dashboard",className:"hover:text-white transition-colors",children:"Shop Dashboard"})}),(0,Oe.jsx)("li",{children:(0,Oe.jsx)(Ae,{to:"/shops",className:"hover:text-white transition-colors",children:"Browse Shops"})})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"For Customers"}),(0,Oe.jsxs)("ul",{className:"space-y-2 text-gray-400",children:[(0,Oe.jsx)("li",{children:(0,Oe.jsx)(Ae,{to:"/shops",className:"hover:text-white transition-colors",children:"Find Shops"})}),(0,Oe.jsx)("li",{children:(0,Oe.jsx)(Ae,{to:"/register",className:"hover:text-white transition-colors",children:"Create Account"})}),(0,Oe.jsx)("li",{children:(0,Oe.jsx)(Ae,{to:"/login",className:"hover:text-white transition-colors",children:"Sign In"})})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Support"}),(0,Oe.jsxs)("ul",{className:"space-y-2 text-gray-400",children:[(0,Oe.jsx)("li",{children:(0,Oe.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Help Center"})}),(0,Oe.jsx)("li",{children:(0,Oe.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact Us"})}),(0,Oe.jsx)("li",{children:(0,Oe.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"})})]})]})]}),(0,Oe.jsx)("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400",children:(0,Oe.jsx)("p",{children:"\xa9 2024 OneSoko. All rights reserved."})})]})})]})};var Jt=e=>"checkbox"===e.type,Xt=e=>e instanceof Date,er=e=>null==e;const tr=e=>"object"===typeof e;var rr=e=>!er(e)&&!Array.isArray(e)&&tr(e)&&!Xt(e),sr=e=>rr(e)&&e.target?Jt(e.target)?e.target.checked:e.target.value:e,ar=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),nr="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function ir(e){let t;const r=Array.isArray(e),s="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(nr&&(e instanceof Blob||s)||!r&&!rr(e))return e;if(t=r?[]:{},r||(e=>{const t=e.constructor&&e.constructor.prototype;return rr(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const r in e)e.hasOwnProperty(r)&&(t[r]=ir(e[r]));else t=e}return t}var lr=e=>/^\w*$/.test(e),or=e=>void 0===e,cr=e=>Array.isArray(e)?e.filter(Boolean):[],dr=e=>cr(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ur=(e,t,r)=>{if(!t||!rr(e))return r;const s=(lr(t)?[t]:dr(t)).reduce((e,t)=>er(e)?e:e[t],e);return or(s)||s===e?or(e[t])?r:e[t]:s},hr=e=>"boolean"===typeof e,mr=(e,t,r)=>{let s=-1;const a=lr(t)?[t]:dr(t),n=a.length,i=n-1;for(;++s<n;){const t=a[s];let n=r;if(s!==i){const r=e[t];n=rr(r)||Array.isArray(r)?r:isNaN(+a[s+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=n,e=e[t]}};const gr="blur",xr="focusout",pr="onBlur",fr="onChange",yr="onSubmit",br="onTouched",vr="all",wr="max",jr="min",kr="maxLength",Nr="minLength",Sr="pattern",_r="required",Cr="validate",Er=a.createContext(null);Er.displayName="HookFormContext";var Pr=function(e,t,r){let s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const a={defaultValues:t._defaultValues};for(const n in e)Object.defineProperty(a,n,{get:()=>{const a=n;return t._proxyFormState[a]!==vr&&(t._proxyFormState[a]=!s||vr),r&&(r[a]=!0),e[a]}});return a};const Ar="undefined"!==typeof window?a.useLayoutEffect:a.useEffect;var Rr=e=>"string"===typeof e,Ir=(e,t,r,s,a)=>Rr(e)?(s&&t.watch.add(e),ur(r,e,a)):Array.isArray(e)?e.map(e=>(s&&t.watch.add(e),ur(r,e))):(s&&(t.watchAll=!0),r),Or=e=>er(e)||!tr(e);function Tr(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new WeakSet;if(Or(e)||Or(t))return e===t;if(Xt(e)&&Xt(t))return e.getTime()===t.getTime();const s=Object.keys(e),a=Object.keys(t);if(s.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const n of s){const s=e[n];if(!a.includes(n))return!1;if("ref"!==n){const e=t[n];if(Xt(s)&&Xt(e)||rr(s)&&rr(e)||Array.isArray(s)&&Array.isArray(e)?!Tr(s,e,r):s!==e)return!1}}return!0}var Mr=(e,t,r,s,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[s]:a||!0}}:{},Lr=e=>Array.isArray(e)?e:[e],Dr=()=>{let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},Fr=e=>rr(e)&&!Object.keys(e).length,Ur=e=>"file"===e.type,Br=e=>"function"===typeof e,Vr=e=>{if(!nr)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},zr=e=>"select-multiple"===e.type,$r=e=>"radio"===e.type,Wr=e=>Vr(e)&&e.isConnected;function Hr(e,t){const r=Array.isArray(t)?t:lr(t)?[t]:dr(t),s=1===r.length?e:function(e,t){const r=t.slice(0,-1).length;let s=0;for(;s<r;)e=or(e)?s++:e[t[s++]];return e}(e,r),a=r.length-1,n=r[a];return s&&delete s[n],0!==a&&(rr(s)&&Fr(s)||Array.isArray(s)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!or(e[t]))return!1;return!0}(s))&&Hr(e,r.slice(0,-1)),e}var qr=e=>{for(const t in e)if(Br(e[t]))return!0;return!1};function Yr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Array.isArray(e);if(rr(e)||r)for(const s in e)Array.isArray(e[s])||rr(e[s])&&!qr(e[s])?(t[s]=Array.isArray(e[s])?[]:{},Yr(e[s],t[s])):er(e[s])||(t[s]=!0);return t}function Kr(e,t,r){const s=Array.isArray(e);if(rr(e)||s)for(const a in e)Array.isArray(e[a])||rr(e[a])&&!qr(e[a])?or(t)||Or(r[a])?r[a]=Array.isArray(e[a])?Yr(e[a],[]):{...Yr(e[a])}:Kr(e[a],er(t)?{}:t[a],r[a]):r[a]=!Tr(e[a],t[a]);return r}var Gr=(e,t)=>Kr(e,t,Yr(t));const Qr={value:!1,isValid:!1},Zr={value:!0,isValid:!0};var Jr=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!or(e[0].attributes.value)?or(e[0].value)||""===e[0].value?Zr:{value:e[0].value,isValid:!0}:Zr:Qr}return Qr},Xr=(e,t)=>{let{valueAsNumber:r,valueAsDate:s,setValueAs:a}=t;return or(e)?e:r?""===e?NaN:e?+e:e:s&&Rr(e)?new Date(e):a?a(e):e};const es={isValid:!1,value:null};var ts=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,es):es;function rs(e){const t=e.ref;return Ur(t)?t.files:$r(t)?ts(e.refs).value:zr(t)?[...t.selectedOptions].map(e=>{let{value:t}=e;return t}):Jt(t)?Jr(e.refs).value:Xr(or(t.value)?e.ref.value:t.value,e)}var ss=e=>e instanceof RegExp,as=e=>or(e)?e:ss(e)?e.source:rr(e)?ss(e.value)?e.value.source:e.value:e,ns=e=>({isOnSubmit:!e||e===yr,isOnBlur:e===pr,isOnChange:e===fr,isOnAll:e===vr,isOnTouch:e===br});const is="AsyncFunction";var ls=e=>!!e&&!!e.validate&&!!(Br(e.validate)&&e.validate.constructor.name===is||rr(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===is)),os=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const cs=(e,t,r,s)=>{for(const a of r||Object.keys(e)){const r=ur(e,a);if(r){const{_f:e,...n}=r;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],a)&&!s)return!0;if(e.ref&&t(e.ref,e.name)&&!s)return!0;if(cs(n,t))break}else if(rr(n)&&cs(n,t))break}}};function ds(e,t,r){const s=ur(e,r);if(s||lr(r))return{error:s,name:r};const a=r.split(".");for(;a.length;){const s=a.join("."),n=ur(t,s),i=ur(e,s);if(n&&!Array.isArray(n)&&r!==s)return{name:r};if(i&&i.type)return{name:s,error:i};if(i&&i.root&&i.root.type)return{name:`${s}.root`,error:i.root};a.pop()}return{name:r}}var us=(e,t,r)=>{const s=Lr(ur(e,r));return mr(s,"root",t[r]),mr(e,r,s),e},hs=e=>Rr(e);function ms(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(hs(e)||Array.isArray(e)&&e.every(hs)||hr(e)&&!e)return{type:r,message:hs(e)?e:"",ref:t}}var gs=e=>rr(e)&&!ss(e)?e:{value:e,message:""},xs=async(e,t,r,s,a,n)=>{const{ref:i,refs:l,required:o,maxLength:c,minLength:d,min:u,max:h,pattern:m,validate:g,name:x,valueAsNumber:p,mount:f}=e._f,y=ur(r,x);if(!f||t.has(x))return{};const b=l?l[0]:i,v=e=>{a&&b.reportValidity&&(b.setCustomValidity(hr(e)?"":e||""),b.reportValidity())},w={},j=$r(i),k=Jt(i),N=j||k,S=(p||Ur(i))&&or(i.value)&&or(y)||Vr(i)&&""===i.value||""===y||Array.isArray(y)&&!y.length,_=Mr.bind(null,x,s,w),C=function(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:kr,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Nr;const n=e?t:r;w[x]={type:e?s:a,message:n,ref:i,..._(e?s:a,n)}};if(n?!Array.isArray(y)||!y.length:o&&(!N&&(S||er(y))||hr(y)&&!y||k&&!Jr(l).isValid||j&&!ts(l).isValid)){const{value:e,message:t}=hs(o)?{value:!!o,message:o}:gs(o);if(e&&(w[x]={type:_r,message:t,ref:b,..._(_r,t)},!s))return v(t),w}if(!S&&(!er(u)||!er(h))){let e,t;const r=gs(h),a=gs(u);if(er(y)||isNaN(y)){const s=i.valueAsDate||new Date(y),n=e=>new Date((new Date).toDateString()+" "+e),l="time"==i.type,o="week"==i.type;Rr(r.value)&&y&&(e=l?n(y)>n(r.value):o?y>r.value:s>new Date(r.value)),Rr(a.value)&&y&&(t=l?n(y)<n(a.value):o?y<a.value:s<new Date(a.value))}else{const s=i.valueAsNumber||(y?+y:y);er(r.value)||(e=s>r.value),er(a.value)||(t=s<a.value)}if((e||t)&&(C(!!e,r.message,a.message,wr,jr),!s))return v(w[x].message),w}if((c||d)&&!S&&(Rr(y)||n&&Array.isArray(y))){const e=gs(c),t=gs(d),r=!er(e.value)&&y.length>+e.value,a=!er(t.value)&&y.length<+t.value;if((r||a)&&(C(r,e.message,t.message),!s))return v(w[x].message),w}if(m&&!S&&Rr(y)){const{value:e,message:t}=gs(m);if(ss(e)&&!y.match(e)&&(w[x]={type:Sr,message:t,ref:i,..._(Sr,t)},!s))return v(t),w}if(g)if(Br(g)){const e=ms(await g(y,r),b);if(e&&(w[x]={...e,..._(Cr,e.message)},!s))return v(e.message),w}else if(rr(g)){let e={};for(const t in g){if(!Fr(e)&&!s)break;const a=ms(await g[t](y,r),b,t);a&&(e={...a,..._(t,a.message)},v(a.message),s&&(w[x]=e))}if(!Fr(e)&&(w[x]={ref:b,...e},!s))return w}return v(!0),w};const ps={mode:yr,reValidateMode:fr,shouldFocusError:!0};function fs(){let e,t={...ps,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Br(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},a=(rr(t.defaultValues)||rr(t.values))&&ir(t.defaultValues||t.values)||{},n=t.shouldUnregister?{}:ir(a),i={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},o=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...c};const u={array:Dr(),state:Dr()},h=t.criteriaMode===vr,m=async e=>{if(!t.disabled&&(c.isValid||d.isValid||e)){const e=t.resolver?Fr((await y()).errors):await b(s,!0);e!==r.isValid&&u.state.next({isValid:e})}},g=(e,s)=>{!t.disabled&&(c.isValidating||c.validatingFields||d.isValidating||d.validatingFields)&&((e||Array.from(l.mount)).forEach(e=>{e&&(s?mr(r.validatingFields,e,s):Hr(r.validatingFields,e))}),u.state.next({validatingFields:r.validatingFields,isValidating:!Fr(r.validatingFields)}))},x=(e,t,r,l)=>{const o=ur(s,e);if(o){const s=ur(n,e,or(r)?ur(a,e):r);or(s)||l&&l.defaultChecked||t?mr(n,e,t?s:rs(o._f)):j(e,s),i.mount&&m()}},p=(e,s,n,i,l)=>{let o=!1,h=!1;const m={name:e};if(!t.disabled){if(!n||i){(c.isDirty||d.isDirty)&&(h=r.isDirty,r.isDirty=m.isDirty=v(),o=h!==m.isDirty);const t=Tr(ur(a,e),s);h=!!ur(r.dirtyFields,e),t?Hr(r.dirtyFields,e):mr(r.dirtyFields,e,!0),m.dirtyFields=r.dirtyFields,o=o||(c.dirtyFields||d.dirtyFields)&&h!==!t}if(n){const t=ur(r.touchedFields,e);t||(mr(r.touchedFields,e,n),m.touchedFields=r.touchedFields,o=o||(c.touchedFields||d.touchedFields)&&t!==n)}o&&l&&u.state.next(m)}return o?m:{}},f=(s,a,n,i)=>{const l=ur(r.errors,s),h=(c.isValid||d.isValid)&&hr(a)&&r.isValid!==a;if(t.delayError&&n?(e=(e=>t=>{clearTimeout(o),o=setTimeout(e,t)})(()=>((e,t)=>{mr(r.errors,e,t),u.state.next({errors:r.errors})})(s,n)),e(t.delayError)):(clearTimeout(o),e=null,n?mr(r.errors,s,n):Hr(r.errors,s)),(n?!Tr(l,n):l)||!Fr(i)||h){const e={...i,...h&&hr(a)?{isValid:a}:{},errors:r.errors,name:s};r={...r,...e},u.state.next(e)}},y=async e=>{g(e,!0);const r=await t.resolver(n,t.context,((e,t,r,s)=>{const a={};for(const n of e){const e=ur(t,n);e&&mr(a,n,e._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:s}})(e||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return g(e),r},b=async function(e,s){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const i in e){const o=e[i];if(o){const{_f:e,...d}=o;if(e){const d=l.array.has(e.name),u=o._f&&ls(o._f);u&&c.validatingFields&&g([i],!0);const m=await xs(o,l.disabled,n,h,t.shouldUseNativeValidation&&!s,d);if(u&&c.validatingFields&&g([i]),m[e.name]&&(a.valid=!1,s))break;!s&&(ur(m,e.name)?d?us(r.errors,m,e.name):mr(r.errors,e.name,m[e.name]):Hr(r.errors,e.name))}!Fr(d)&&await b(d,s,a)}}return a.valid},v=(e,r)=>!t.disabled&&(e&&r&&mr(n,e,r),!Tr(E(),a)),w=(e,t,r)=>Ir(e,l,{...i.mount?n:or(t)?a:Rr(e)?{[e]:t}:t},r,t),j=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=ur(s,e);let i=t;if(a){const r=a._f;r&&(!r.disabled&&mr(n,e,Xr(t,r)),i=Vr(r.ref)&&er(t)?"":t,zr(r.ref)?[...r.ref.options].forEach(e=>e.selected=i.includes(e.value)):r.refs?Jt(r.ref)?r.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(i)?e.checked=!!i.find(t=>t===e.value):e.checked=i===e.value||!!i)}):r.refs.forEach(e=>e.checked=e.value===i):Ur(r.ref)?r.ref.value="":(r.ref.value=i,r.ref.type||u.state.next({name:e,values:ir(n)})))}(r.shouldDirty||r.shouldTouch)&&p(e,i,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&C(e)},k=(e,t,r)=>{for(const a in t){if(!t.hasOwnProperty(a))return;const n=t[a],i=e+"."+a,o=ur(s,i);(l.array.has(e)||rr(n)||o&&!o._f)&&!Xt(n)?k(i,n,r):j(i,n,r)}},N=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const h=ur(s,e),m=l.array.has(e),g=ir(t);mr(n,e,g),m?(u.array.next({name:e,values:ir(n)}),(c.isDirty||c.dirtyFields||d.isDirty||d.dirtyFields)&&o.shouldDirty&&u.state.next({name:e,dirtyFields:Gr(a,n),isDirty:v(e,g)})):!h||h._f||er(g)?j(e,g,o):k(e,g,o),os(e,l)&&u.state.next({...r,name:e}),u.state.next({name:i.mount?e:void 0,values:ir(n)})},S=async a=>{i.mount=!0;const o=a.target;let x=o.name,v=!0;const w=ur(s,x),j=e=>{v=Number.isNaN(e)||Xt(e)&&isNaN(e.getTime())||Tr(e,ur(n,x,e))},k=ns(t.mode),N=ns(t.reValidateMode);if(w){let i,_;const E=o.type?rs(w._f):sr(a),P=a.type===gr||a.type===xr,A=!((S=w._f).mount&&(S.required||S.min||S.max||S.maxLength||S.minLength||S.pattern||S.validate))&&!t.resolver&&!ur(r.errors,x)&&!w._f.deps||((e,t,r,s,a)=>!a.isOnAll&&(!r&&a.isOnTouch?!(t||e):(r?s.isOnBlur:a.isOnBlur)?!e:!(r?s.isOnChange:a.isOnChange)||e))(P,ur(r.touchedFields,x),r.isSubmitted,N,k),R=os(x,l,P);mr(n,x,E),P?(w._f.onBlur&&w._f.onBlur(a),e&&e(0)):w._f.onChange&&w._f.onChange(a);const I=p(x,E,P),O=!Fr(I)||R;if(!P&&u.state.next({name:x,type:a.type,values:ir(n)}),A)return(c.isValid||d.isValid)&&("onBlur"===t.mode?P&&m():P||m()),O&&u.state.next({name:x,...R?{}:I});if(!P&&R&&u.state.next({...r}),t.resolver){const{errors:e}=await y([x]);if(j(E),v){const t=ds(r.errors,s,x),a=ds(e,s,t.name||x);i=a.error,x=a.name,_=Fr(e)}}else g([x],!0),i=(await xs(w,l.disabled,n,h,t.shouldUseNativeValidation))[x],g([x]),j(E),v&&(i?_=!1:(c.isValid||d.isValid)&&(_=await b(s,!0)));v&&(w._f.deps&&C(w._f.deps),f(x,_,i,I))}var S},_=(e,t)=>{if(ur(r.errors,t)&&e.focus)return e.focus(),1},C=async function(e){let a,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=Lr(e);if(t.resolver){const t=await(async e=>{const{errors:t}=await y(e);if(e)for(const s of e){const e=ur(t,s);e?mr(r.errors,s,e):Hr(r.errors,s)}else r.errors=t;return t})(or(e)?e:o);a=Fr(t),n=e?!o.some(e=>ur(t,e)):a}else e?(n=(await Promise.all(o.map(async e=>{const t=ur(s,e);return await b(t&&t._f?{[e]:t}:t)}))).every(Boolean),(n||r.isValid)&&m()):n=a=await b(s);return u.state.next({...!Rr(e)||(c.isValid||d.isValid)&&a!==r.isValid?{}:{name:e},...t.resolver||!e?{isValid:a}:{},errors:r.errors}),i.shouldFocus&&!n&&cs(s,_,e?o:l.mount),n},E=e=>{const t={...i.mount?n:a};return or(e)?t:Rr(e)?ur(t,e):e.map(e=>ur(t,e))},P=(e,t)=>({invalid:!!ur((t||r).errors,e),isDirty:!!ur((t||r).dirtyFields,e),error:ur((t||r).errors,e),isValidating:!!ur(r.validatingFields,e),isTouched:!!ur((t||r).touchedFields,e)}),A=(e,t,a)=>{const n=(ur(s,e,{_f:{}})._f||{}).ref,i=ur(r.errors,e)||{},{ref:l,message:o,type:c,...d}=i;mr(r.errors,e,{...d,...t,ref:n}),u.state.next({name:e,errors:r.errors,isValid:!1}),a&&a.shouldFocus&&n&&n.focus&&n.focus()},R=e=>u.state.subscribe({next:t=>{var s,i,l;s=e.name,i=t.name,l=e.exact,s&&i&&s!==i&&!Lr(s).some(e=>e&&(l?e===i:e.startsWith(i)||i.startsWith(e)))||!((e,t,r,s)=>{r(e);const{name:a,...n}=e;return Fr(n)||Object.keys(n).length>=Object.keys(t).length||Object.keys(n).find(e=>t[e]===(!s||vr))})(t,e.formState||c,U,e.reRenderRoot)||e.callback({values:{...n},...r,...t,defaultValues:a})}}).unsubscribe,I=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const o of e?Lr(e):l.mount)l.mount.delete(o),l.array.delete(o),i.keepValue||(Hr(s,o),Hr(n,o)),!i.keepError&&Hr(r.errors,o),!i.keepDirty&&Hr(r.dirtyFields,o),!i.keepTouched&&Hr(r.touchedFields,o),!i.keepIsValidating&&Hr(r.validatingFields,o),!t.shouldUnregister&&!i.keepDefaultValue&&Hr(a,o);u.state.next({values:ir(n)}),u.state.next({...r,...i.keepDirty?{isDirty:v()}:{}}),!i.keepIsValid&&m()},O=e=>{let{disabled:t,name:r}=e;(hr(t)&&i.mount||t||l.disabled.has(r))&&(t?l.disabled.add(r):l.disabled.delete(r))},T=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ur(s,e);const o=hr(r.disabled)||hr(t.disabled);return mr(s,e,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:e}},name:e,mount:!0,...r}}),l.mount.add(e),n?O({disabled:hr(r.disabled)?r.disabled:t.disabled,name:e}):x(e,!0,r.value),{...o?{disabled:r.disabled||t.disabled}:{},...t.progressive?{required:!!r.required,min:as(r.min),max:as(r.max),minLength:as(r.minLength),maxLength:as(r.maxLength),pattern:as(r.pattern)}:{},name:e,onChange:S,onBlur:S,ref:o=>{if(o){T(e,r),n=ur(s,e);const t=or(o.value)&&o.querySelectorAll&&o.querySelectorAll("input,select,textarea")[0]||o,i=(e=>$r(e)||Jt(e))(t),l=n._f.refs||[];if(i?l.find(e=>e===t):t===n._f.ref)return;mr(s,e,{_f:{...n._f,...i?{refs:[...l.filter(Wr),t,...Array.isArray(ur(a,e))?[{}]:[]],ref:{type:t.type,name:e}}:{ref:t}}}),x(e,!1,void 0,t)}else n=ur(s,e,{}),n._f&&(n._f.mount=!1),(t.shouldUnregister||r.shouldUnregister)&&(!ar(l.array,e)||!i.action)&&l.unMount.add(e)}}},M=()=>t.shouldFocusError&&cs(s,_,l.mount),L=(e,a)=>async i=>{let o;i&&(i.preventDefault&&i.preventDefault(),i.persist&&i.persist());let c=ir(n);if(u.state.next({isSubmitting:!0}),t.resolver){const{errors:e,values:t}=await y();r.errors=e,c=ir(t)}else await b(s);if(l.disabled.size)for(const e of l.disabled)Hr(c,e);if(Hr(r.errors,"root"),Fr(r.errors)){u.state.next({errors:{}});try{await e(c,i)}catch(d){o=d}}else a&&await a({...r.errors},i),M(),setTimeout(M);if(u.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Fr(r.errors)&&!o,submitCount:r.submitCount+1,errors:r.errors}),o)throw o},D=function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const d=e?ir(e):a,h=ir(d),m=Fr(e),g=m?a:h;if(o.keepDefaultValues||(a=d),!o.keepValues){if(o.keepDirtyValues){const e=new Set([...l.mount,...Object.keys(Gr(a,n))]);for(const t of Array.from(e))ur(r.dirtyFields,t)?mr(g,t,ur(n,t)):N(t,ur(g,t))}else{if(nr&&or(e))for(const e of l.mount){const t=ur(s,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Vr(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(o.keepFieldsRef)for(const e of l.mount)N(e,ur(g,e));else s={}}n=t.shouldUnregister?o.keepDefaultValues?ir(a):{}:ir(g),u.array.next({values:{...g}}),u.state.next({values:{...g}})}l={mount:o.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!c.isValid||!!o.keepIsValid||!!o.keepDirtyValues,i.watch=!!t.shouldUnregister,u.state.next({submitCount:o.keepSubmitCount?r.submitCount:0,isDirty:!m&&(o.keepDirty?r.isDirty:!(!o.keepDefaultValues||Tr(e,a))),isSubmitted:!!o.keepIsSubmitted&&r.isSubmitted,dirtyFields:m?{}:o.keepDirtyValues?o.keepDefaultValues&&n?Gr(a,n):r.dirtyFields:o.keepDefaultValues&&e?Gr(a,e):o.keepDirty?r.dirtyFields:{},touchedFields:o.keepTouched?r.touchedFields:{},errors:o.keepErrors?r.errors:{},isSubmitSuccessful:!!o.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1})},F=(e,t)=>D(Br(e)?e(n):e,t),U=e=>{r={...r,...e}},B={control:{register:T,unregister:I,getFieldState:P,handleSubmit:L,setError:A,_subscribe:R,_runSchema:y,_focusError:M,_getWatch:w,_getDirty:v,_setValid:m,_setFieldArray:function(e){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2?arguments[2]:void 0,h=arguments.length>3?arguments[3]:void 0,m=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],g=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(h&&o&&!t.disabled){if(i.action=!0,g&&Array.isArray(ur(s,e))){const t=o(ur(s,e),h.argA,h.argB);m&&mr(s,e,t)}if(g&&Array.isArray(ur(r.errors,e))){const t=o(ur(r.errors,e),h.argA,h.argB);m&&mr(r.errors,e,t),((e,t)=>{!cr(ur(e,t)).length&&Hr(e,t)})(r.errors,e)}if((c.touchedFields||d.touchedFields)&&g&&Array.isArray(ur(r.touchedFields,e))){const t=o(ur(r.touchedFields,e),h.argA,h.argB);m&&mr(r.touchedFields,e,t)}(c.dirtyFields||d.dirtyFields)&&(r.dirtyFields=Gr(a,n)),u.state.next({name:e,isDirty:v(e,l),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else mr(n,e,l)},_setDisabledField:O,_setErrors:e=>{r.errors=e,u.state.next({errors:r.errors,isValid:!1})},_getFieldArray:e=>cr(ur(i.mount?n:a,e,t.shouldUnregister?ur(a,e,[]):[])),_reset:D,_resetDefaultValues:()=>Br(t.defaultValues)&&t.defaultValues().then(e=>{F(e,t.resetOptions),u.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of l.unMount){const t=ur(s,e);t&&(t._f.refs?t._f.refs.every(e=>!Wr(e)):!Wr(t._f.ref))&&I(e)}l.unMount=new Set},_disableForm:e=>{hr(e)&&(u.state.next({disabled:e}),cs(s,(t,r)=>{const a=ur(s,r);a&&(t.disabled=a._f.disabled||e,Array.isArray(a._f.refs)&&a._f.refs.forEach(t=>{t.disabled=a._f.disabled||e}))},0,!1))},_subjects:u,_proxyFormState:c,get _fields(){return s},get _formValues(){return n},get _state(){return i},set _state(e){i=e},get _defaultValues(){return a},get _names(){return l},set _names(e){l=e},get _formState(){return r},get _options(){return t},set _options(e){t={...t,...e}}},subscribe:e=>(i.mount=!0,d={...d,...e.formState},R({...e,formState:d})),trigger:C,register:T,handleSubmit:L,watch:(e,t)=>Br(e)?u.state.subscribe({next:r=>"values"in r&&e(w(void 0,t),r)}):w(e,t,!0),setValue:N,getValues:E,reset:F,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ur(s,e)&&(or(t.defaultValue)?N(e,ir(ur(a,e))):(N(e,t.defaultValue),mr(a,e,ir(t.defaultValue))),t.keepTouched||Hr(r.touchedFields,e),t.keepDirty||(Hr(r.dirtyFields,e),r.isDirty=t.defaultValue?v(e,ir(ur(a,e))):v()),t.keepError||(Hr(r.errors,e),c.isValid&&m()),u.state.next({...r}))},clearErrors:e=>{e&&Lr(e).forEach(e=>Hr(r.errors,e)),u.state.next({errors:e?r.errors:{}})},unregister:I,setError:A,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=ur(s,e),a=r&&r._f;if(a){const e=a.refs?a.refs[0]:a.ref;e.focus&&(e.focus(),t.shouldSelect&&Br(e.select)&&e.select())}},getFieldState:P};return{...B,formControl:B}}function ys(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=a.useRef(void 0),r=a.useRef(void 0),[s,n]=a.useState({isDirty:!1,isValidating:!1,isLoading:Br(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Br(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!Br(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:r,...a}=fs(e);t.current={...a,formState:s}}const i=t.current.control;return i._options=e,Ar(()=>{const e=i._subscribe({formState:i._proxyFormState,callback:()=>n({...i._formState}),reRenderRoot:!0});return n(e=>({...e,isReady:!0})),i._formState.isReady=!0,e},[i]),a.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),a.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),a.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),a.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),a.useEffect(()=>{if(i._proxyFormState.isDirty){const e=i._getDirty();e!==s.isDirty&&i._subjects.state.next({isDirty:e})}},[i,s.isDirty]),a.useEffect(()=>{e.values&&!Tr(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,n(e=>({...e}))):i._resetDefaultValues()},[i,e.values]),a.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=Pr(s,i),t.current}function bs(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const vs=a.forwardRef(bs);function ws(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const js=a.forwardRef(ws),ks=()=>{var e,t;const[r,s]=(0,a.useState)(!1),[n,i]=(0,a.useState)(""),[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)("unknown"),{login:u,isAuthenticated:h}=Fe(),m=re(),g=(null===(e=ee().state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/";(0,a.useEffect)(()=>{h&&m(g,{replace:!0})},[h,m,g]);const{register:x,handleSubmit:p,formState:{errors:f}}=ys();return(0,Oe.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,Oe.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,Oe.jsx)("div",{className:"flex justify-center",children:(0,Oe.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-lg flex items-center justify-center",children:(0,Oe.jsx)("span",{className:"text-white font-bold text-xl",children:"O"})})}),(0,Oe.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),(0,Oe.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",(0,Oe.jsx)(Ae,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"create a new account"})]})]}),(0,Oe.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,Oe.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[n&&(0,Oe.jsx)("div",{className:"mb-6 border rounded-lg p-4 "+("connected"===c?"bg-green-50 border-green-200 text-green-700":"bg-red-50 border-red-200 text-red-600"),children:(0,Oe.jsx)("p",{className:"text-sm whitespace-pre-line",children:n})}),(0,Oe.jsx)("div",{className:"mb-6",children:(0,Oe.jsx)("button",{type:"button",onClick:async()=>{d("checking");try{const e=await fetch("http://localhost:8000/api/token/",{method:"OPTIONS",headers:{"Content-Type":"application/json"},signal:AbortSignal.timeout(5e3)});e.ok?(d("connected"),i("Backend server is running and accessible! \u2705")):(d("disconnected"),i(`Backend responded with status: ${e.status}`))}catch(n){d("disconnected"),"TimeoutError"===n.name?i("\u23f0 Connection timeout - Backend server may not be running"):n.message.includes("Failed to fetch")||n.message.includes("ECONNREFUSED")?i("\ud83d\udeab Cannot connect to backend server (http://localhost:8000)\n\nTo start the backend:\n1. Open terminal in your Django project\n2. Run: python manage.py runserver 8000"):i(`Connection error: ${n.message}`)}},disabled:"checking"===c,className:"w-full py-2 px-4 rounded-md text-sm font-medium transition-colors "+("checking"===c?"bg-gray-100 text-gray-400 cursor-not-allowed":"connected"===c?"bg-green-100 text-green-700 hover:bg-green-200 border border-green-300":"disconnected"===c?"bg-red-100 text-red-700 hover:bg-red-200 border border-red-300":"bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-300"),children:"checking"===c?"\ud83d\udd04 Testing Backend Connection...":"connected"===c?"\u2705 Backend Connected":"disconnected"===c?"\u274c Backend Disconnected - Click to Retry":"\ud83d\udd27 Test Backend Connection"})}),(0,Oe.jsxs)("form",{className:"space-y-6",onSubmit:p(async e=>{s(!0),i("");try{const s=await Le.authAPI.login(e);localStorage.setItem("access_token",s.access),localStorage.setItem("refresh_token",s.refresh);try{const e=await Le.userProfileAPI.getMyProfile();if(localStorage.setItem("user_profile",JSON.stringify(e)),await u(e),e.is_shopowner)try{(await Le.shopsAPI.getMyShops()).length>0?g.startsWith("/shop")&&"/shop-dashboard"!==g?m(g,{replace:!0}):m("/shop-dashboard",{replace:!0}):m("/create-shop",{replace:!0})}catch(t){console.warn("Could not fetch user shops:",t),m("/create-shop",{replace:!0})}else m(g,{replace:!0})}catch(r){console.warn("Could not fetch user profile:",r),await u({id:0,username:e.username,email:""}),m("/profile-setup",{replace:!0})}}catch(n){if(console.error("Login error:",n),n instanceof Error){const t=n.message;t.includes("Network error")||t.includes("timeout")?i("\ud83d\udd0c Cannot connect to server. Please ensure the backend is running on http://localhost:8000"):t.includes("not found")||t.includes("404")?i("\ud83d\udeab Login endpoint not found. Please check if the backend server is running and the API is properly configured."):t.includes("credentials")||t.includes("401")?i("\u274c Invalid username or password. Please check your credentials and try again."):t.includes("500")?i("\ud83d\udee0\ufe0f Server error. Please try again later or contact support."):i(`\u26a0\ufe0f Login failed: ${t}`)}else i("\u274c Login failed. Please check your credentials and try again.")}finally{s(!1)}}),children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),(0,Oe.jsxs)("div",{className:"mt-1",children:[(0,Oe.jsx)("input",{id:"username",type:"text",...x("username",{required:"Username is required"}),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter your username"}),f.username&&(0,Oe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.username.message})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,Oe.jsxs)("div",{className:"mt-1 relative",children:[(0,Oe.jsx)("input",{id:"password",type:l?"text":"password",...x("password",{required:"Password is required"}),className:"appearance-none block w-full px-3 py-2 pr-10 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter your password"}),(0,Oe.jsx)("button",{type:"button",onClick:()=>o(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?(0,Oe.jsx)(vs,{className:"h-5 w-5 text-gray-400"}):(0,Oe.jsx)(js,{className:"h-5 w-5 text-gray-400"})}),f.password&&(0,Oe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.password.message})]})]}),(0,Oe.jsx)("div",{children:(0,Oe.jsx)("button",{type:"submit",disabled:r||"disconnected"===c,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors "+(r||"disconnected"===c?"bg-gray-400 cursor-not-allowed opacity-50":"bg-primary-600 hover:bg-primary-700"),children:r?(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Signing in..."]}):"disconnected"===c?"Connect to Backend First":"Sign in"})}),(0,Oe.jsx)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(ut,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,Oe.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,Oe.jsx)("strong",{children:"Shop Owners:"})," Sign in to access your shop dashboard and manage products."]})]})})]}),(0,Oe.jsxs)("div",{className:"mt-6",children:[(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,Oe.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,Oe.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,Oe.jsx)("span",{className:"px-2 bg-white text-gray-500",children:"Need help?"})})]}),(0,Oe.jsx)("div",{className:"mt-6 text-center",children:(0,Oe.jsx)(Ae,{to:"/register",className:"text-sm text-primary-600 hover:text-primary-500 font-medium",children:"Don't have an account? Sign up"})})]})]})})]})},Ns=()=>{var e,t;const[r,s]=(0,a.useState)(!1),[n,i]=(0,a.useState)(""),[l,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1),[m,g]=(0,a.useState)(null),[x,p]=(0,a.useState)("unknown"),{register:f,isAuthenticated:y}=Fe(),b=re(),v=(null===(e=ee().state)||void 0===e||null===(t=e.from)||void 0===t?void 0:t.pathname)||"/";(0,a.useEffect)(()=>{y&&b(v,{replace:!0})},[y,b,v]);const{register:w,handleSubmit:j,watch:k,formState:{errors:N}}=ys(),S=k("password");return(0,Oe.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,Oe.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,Oe.jsx)("div",{className:"flex justify-center",children:(0,Oe.jsx)("div",{className:"w-12 h-12 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-lg flex items-center justify-center",children:(0,Oe.jsx)("span",{className:"text-white font-bold text-xl",children:"O"})})}),(0,Oe.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),(0,Oe.jsxs)("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",(0,Oe.jsx)(Ae,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"sign in to your existing account"})]})]}),(0,Oe.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,Oe.jsxs)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:[(0,Oe.jsxs)("div",{className:"mb-6",children:[(0,Oe.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-4 block",children:"Choose Account Type"}),(0,Oe.jsxs)("div",{className:"space-y-3",children:[(0,Oe.jsxs)("button",{type:"button",onClick:()=>g("customer"),className:"w-full flex items-center justify-center px-4 py-3 rounded-lg border-2 transition-all duration-200 "+("customer"===m?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:border-blue-300 hover:bg-blue-50"),children:[(0,Oe.jsx)(rt,{className:"w-5 h-5 mr-3"}),(0,Oe.jsxs)("div",{className:"text-left",children:[(0,Oe.jsx)("div",{className:"font-semibold",children:"Customer"}),(0,Oe.jsx)("div",{className:"text-sm opacity-75",children:"Shop and browse products"})]})]}),(0,Oe.jsxs)("button",{type:"button",onClick:()=>g("shopowner"),className:"w-full flex items-center justify-center px-4 py-3 rounded-lg border-2 transition-all duration-200 "+("shopowner"===m?"border-green-500 bg-green-50 text-green-700":"border-gray-300 bg-white text-gray-700 hover:border-green-300 hover:bg-green-50"),children:[(0,Oe.jsx)(ut,{className:"w-5 h-5 mr-3"}),(0,Oe.jsxs)("div",{className:"text-left",children:[(0,Oe.jsx)("div",{className:"font-semibold",children:"Shop Owner"}),(0,Oe.jsx)("div",{className:"text-sm opacity-75",children:"Sell products and manage your store"})]})]})]})]}),n&&(0,Oe.jsx)("div",{className:"mb-6 border rounded-lg p-4 "+("connected"===x?"bg-green-50 border-green-200 text-green-700":"bg-red-50 border-red-200 text-red-600"),children:(0,Oe.jsx)("p",{className:"text-sm whitespace-pre-line",children:n})}),l&&(0,Oe.jsx)("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:(0,Oe.jsx)("p",{className:"text-green-600 text-sm",children:l})}),m&&(0,Oe.jsx)("div",{className:"mb-6",children:(0,Oe.jsx)("button",{type:"button",onClick:async()=>{p("checking");try{const e="shopowner"===m?"http://localhost:8000/api/shopowner-registration/":"http://localhost:8000/api/user-registration/",t=await fetch(e,{method:"OPTIONS",headers:{"Content-Type":"application/json"},signal:AbortSignal.timeout(5e3)});t.ok?(p("connected"),i(""),o("Backend server is running and accessible! \u2705")):(p("disconnected"),i(`Backend responded with status: ${t.status}`))}catch(n){p("disconnected"),"TimeoutError"===n.name?i("\u23f0 Connection timeout - Backend server may not be running"):n.message.includes("Failed to fetch")||n.message.includes("ECONNREFUSED")?i("\ud83d\udeab Cannot connect to backend server (http://localhost:8000)\n\nTo start the backend:\n1. Open terminal in your Django project\n2. Run: python manage.py runserver 8000"):i(`Connection error: ${n.message}`),o("")}},disabled:"checking"===x,className:"w-full py-2 px-4 rounded-md text-sm font-medium transition-colors "+("checking"===x?"bg-gray-100 text-gray-400 cursor-not-allowed":"connected"===x?"bg-green-100 text-green-700 hover:bg-green-200 border border-green-300":"disconnected"===x?"bg-red-100 text-red-700 hover:bg-red-200 border border-red-300":"customer"===m?"bg-blue-100 text-blue-700 hover:bg-blue-200 border border-blue-300":"bg-green-100 text-green-700 hover:bg-green-200 border border-green-300"),children:"checking"===x?"\ud83d\udd04 Testing Backend Connection...":"connected"===x?"\u2705 Backend Connected":"disconnected"===x?"\u274c Backend Disconnected - Click to Retry":`\ud83d\udd27 Test ${"customer"===m?"Customer":"Shop Owner"} Registration`})}),(0,Oe.jsxs)("form",{className:"space-y-6",onSubmit:j(async e=>{if(m){s(!0),i(""),o("");try{if("shopowner"===m)return void b("/register-shop-owner",{replace:!0});{const t=await Le.authAPI.register(e);o("Account created successfully! Redirecting to complete your profile...");const r={id:t.id||0,username:e.username,email:e.email,first_name:e.first_name,last_name:e.last_name,is_shop_owner:!1};await f(r),setTimeout(()=>{const e=r.first_name&&r.last_name?v:"/profile-setup";b(e,{replace:!0})},2e3)}}catch(n){i(n instanceof Error?n.message:"Registration failed. Please try again.")}finally{s(!1)}}else i("Please select an account type")}),children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),(0,Oe.jsxs)("div",{className:"mt-1",children:[(0,Oe.jsx)("input",{...w("username",{required:"Username is required",minLength:{value:3,message:"Username must be at least 3 characters"}}),type:"text",className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter your username"}),N.username&&(0,Oe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N.username.message})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,Oe.jsxs)("div",{className:"mt-1",children:[(0,Oe.jsx)("input",{...w("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter your email"}),N.email&&(0,Oe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N.email.message})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{htmlFor:"first_name",className:"block text-sm font-medium text-gray-700",children:"First Name"}),(0,Oe.jsxs)("div",{className:"mt-1",children:[(0,Oe.jsx)("input",{...w("first_name",{required:"First name is required"}),type:"text",className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter your first name"}),N.first_name&&(0,Oe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N.first_name.message})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{htmlFor:"last_name",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),(0,Oe.jsxs)("div",{className:"mt-1",children:[(0,Oe.jsx)("input",{...w("last_name",{required:"Last name is required"}),type:"text",className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter your last name"}),N.last_name&&(0,Oe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N.last_name.message})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,Oe.jsxs)("div",{className:"mt-1 relative",children:[(0,Oe.jsx)("input",{...w("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"}}),type:c?"text":"password",className:"appearance-none block w-full px-3 py-2 pr-10 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter your password"}),(0,Oe.jsx)("button",{type:"button",onClick:()=>d(!c),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:c?(0,Oe.jsx)(vs,{className:"h-5 w-5 text-gray-400"}):(0,Oe.jsx)(js,{className:"h-5 w-5 text-gray-400"})}),N.password&&(0,Oe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N.password.message})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),(0,Oe.jsxs)("div",{className:"mt-1 relative",children:[(0,Oe.jsx)("input",{...w("confirmPassword",{required:"Please confirm your password",validate:e=>e===S||"Passwords do not match"}),type:u?"text":"password",className:"appearance-none block w-full px-3 py-2 pr-10 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Confirm your password"}),(0,Oe.jsx)("button",{type:"button",onClick:()=>h(!u),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:u?(0,Oe.jsx)(vs,{className:"h-5 w-5 text-gray-400"}):(0,Oe.jsx)(js,{className:"h-5 w-5 text-gray-400"})}),N.confirmPassword&&(0,Oe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N.confirmPassword.message})]})]}),(0,Oe.jsx)("div",{children:(0,Oe.jsx)("button",{type:"submit",disabled:r||!m||"disconnected"===x,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors "+(r||!m||"disconnected"===x?"bg-gray-400 cursor-not-allowed opacity-50":"customer"===m?"bg-blue-600 hover:bg-blue-700":"shopowner"===m?"bg-green-600 hover:bg-green-700":"bg-gray-400 cursor-not-allowed"),children:r?(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"disconnected"===x?"Connect to Backend First":m?`Create ${"customer"===m?"Customer":"shopowner"===m?"Shop Owner":""} Account`:"Select Account Type"})})]})]})})]})};function Ss(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const _s=a.forwardRef(Ss);function Cs(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const Es=a.forwardRef(Cs);function Ps(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const As=a.forwardRef(Ps);function Rs(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const Is=a.forwardRef(Rs),Os=()=>{const[e,t]=(0,a.useState)(!1),[r,s]=(0,a.useState)(""),[n,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(null),{register:m}=Fe(),g=re(),{register:x,handleSubmit:p,watch:f,formState:{errors:y}}=ys(),b=f("password");return(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Oe.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Oe.jsxs)("div",{className:"text-center mb-8",children:[(0,Oe.jsx)("div",{className:"mx-auto w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mb-4",children:(0,Oe.jsx)(ut,{className:"w-8 h-8 text-primary-600"})}),(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Become a Shop Owner"}),(0,Oe.jsx)("p",{className:"text-gray-600",children:"Create your account and shop in one step. Start selling your products online today."})]}),(0,Oe.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:(0,Oe.jsxs)("form",{onSubmit:p(async e=>{if(t(!0),s(""),!e.shopName.trim())return s("Shop name is required"),void t(!1);if(!(e.street.trim()||e.city.trim()||e.country.trim()))return s("Please provide at least one location component (street, city, or country)"),void t(!1);try{const t={username:e.username,email:e.email,password:e.password,confirmPassword:e.confirmPassword,first_name:e.first_name,last_name:e.last_name};await Le.authAPI.registerShopOwner(t);const r=await Le.authAPI.login({username:e.username,password:e.password});localStorage.setItem("access_token",r.access),localStorage.setItem("refresh_token",r.refresh);const s=new FormData;s.append("name",e.shopName),s.append("description",e.shopDescription),s.append("street",e.street),s.append("city",e.city),s.append("country",e.country),s.append("phone",e.phone),s.append("email",e.shopEmail),s.append("social_link",e.social_link);const a=[e.street,e.city,e.country].filter(Boolean);a.length>0&&s.append("location",a.join(", ")),c&&s.append("logo",c);await Le.shopsAPI.create(s);const n={id:0,username:e.username,email:e.email,first_name:e.first_name,last_name:e.last_name,is_shop_owner:!0};m(n),g("/my-shops")}catch(r){s(r instanceof Error?r.message:"Registration failed. Please try again.")}finally{t(!1)}}),className:"p-6 space-y-8",children:[r&&(0,Oe.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Oe.jsx)("p",{className:"text-red-600",children:r})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Account Information"}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),(0,Oe.jsx)("input",{type:"text",...x("first_name",{required:"First name is required"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your first name"}),y.first_name&&(0,Oe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.first_name.message})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),(0,Oe.jsx)("input",{type:"text",...x("last_name",{required:"Last name is required"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your last name"}),y.last_name&&(0,Oe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.last_name.message})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username *"}),(0,Oe.jsx)("input",{type:"text",...x("username",{required:"Username is required"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Choose a username"}),y.username&&(0,Oe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.username.message})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),(0,Oe.jsx)("input",{type:"email",...x("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your email"}),y.email&&(0,Oe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.email.message})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsx)("input",{type:n?"text":"password",...x("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"}}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 pr-10 focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Create a password"}),(0,Oe.jsx)("button",{type:"button",onClick:()=>i(!n),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:n?(0,Oe.jsx)(vs,{className:"h-5 w-5 text-gray-400"}):(0,Oe.jsx)(js,{className:"h-5 w-5 text-gray-400"})})]}),y.password&&(0,Oe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.password.message})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password *"}),(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsx)("input",{type:l?"text":"password",...x("confirmPassword",{required:"Please confirm your password",validate:e=>e===b||"Passwords do not match"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 pr-10 focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Confirm your password"}),(0,Oe.jsx)("button",{type:"button",onClick:()=>o(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?(0,Oe.jsx)(vs,{className:"h-5 w-5 text-gray-400"}):(0,Oe.jsx)(js,{className:"h-5 w-5 text-gray-400"})})]}),y.confirmPassword&&(0,Oe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.confirmPassword.message})]})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Shop Information"}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shop Name *"}),(0,Oe.jsx)("input",{type:"text",...x("shopName",{required:"Shop name is required"}),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your shop name"}),y.shopName&&(0,Oe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.shopName.message})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shop Description *"}),(0,Oe.jsx)("textarea",{...x("shopDescription",{required:"Shop description is required"}),rows:4,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Describe your shop and what you sell..."}),y.shopDescription&&(0,Oe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.shopDescription.message})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shop Logo"}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsx)("div",{className:"w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center border-2 border-dashed border-gray-300",children:u?(0,Oe.jsx)("img",{src:u,alt:"Logo preview",className:"w-full h-full object-cover rounded-lg"}):(0,Oe.jsx)(_s,{className:"w-8 h-8 text-gray-400"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){d(r);const e=new FileReader;e.onload=e=>{var t;h(null===(t=e.target)||void 0===t?void 0:t.result)},e.readAsDataURL(r)}},className:"hidden",id:"logo-upload"}),(0,Oe.jsx)("label",{htmlFor:"logo-upload",className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",children:"Choose File"}),(0,Oe.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 5MB"})]})]})]})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Oe.jsx)(Es,{className:"w-4 h-4 inline mr-1"}),"Phone Number"]}),(0,Oe.jsx)("input",{type:"tel",...x("phone"),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"+254700000000"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Oe.jsx)(As,{className:"w-4 h-4 inline mr-1"}),"Shop Email"]}),(0,Oe.jsx)("input",{type:"email",...x("shopEmail"),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"shop@example.com"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Oe.jsx)(Is,{className:"w-4 h-4 inline mr-1"}),"Social Media Link"]}),(0,Oe.jsx)("input",{type:"url",...x("social_link"),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"https://example.com"})]})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Location Information"}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address"}),(0,Oe.jsx)("input",{type:"text",...x("street"),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"123 Main Street"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),(0,Oe.jsx)("input",{type:"text",...x("city"),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nairobi"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),(0,Oe.jsxs)("select",{...x("country"),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Oe.jsx)("option",{value:"",children:"Select a country"}),["Kenya","Uganda","Tanzania","Rwanda","Burundi","Ethiopia","Somalia","South Sudan","Sudan","Egypt","Libya","Tunisia","Algeria","Morocco","Mauritania","Senegal","Gambia","Guinea-Bissau","Guinea","Sierra Leone","Liberia","Ivory Coast","Ghana","Togo","Benin","Nigeria","Cameroon","Central African Republic","Chad","Niger","Mali","Burkina Faso"].map(e=>(0,Oe.jsx)("option",{value:e,children:e},e))]})]})]})]}),(0,Oe.jsxs)("div",{className:"flex justify-end space-x-3 pt-6",children:[(0,Oe.jsx)(Ae,{to:"/register",className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Back to Registration"}),(0,Oe.jsx)("button",{type:"submit",disabled:e,className:"px-6 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e?(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Creating Account..."]}):"Create Account & Shop"})]})]})})]})})};function Ts(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Ms=a.forwardRef(Ts);function Ls(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const Ds=a.forwardRef(Ls),Fs=()=>{const[e,t]=(0,a.useState)(!1),[r,s]=(0,a.useState)(""),[n,i]=(0,a.useState)(null),[l,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(1),[u,h]=(0,a.useState)(!1),m=re(),{register:g,handleSubmit:x,formState:{errors:p}}=ys();(0,a.useEffect)(()=>{localStorage.getItem("access_token")||m("/login")},[m]);return 3===c?(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,Oe.jsxs)("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg p-8 text-center",children:[(0,Oe.jsx)("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Oe.jsx)(bt,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),(0,Oe.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Profile Created Successfully!"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Your profile has been set up. You'll be redirected to the dashboard shortly."}),(0,Oe.jsx)("div",{className:"animate-pulse",children:(0,Oe.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,Oe.jsx)("div",{className:"bg-blue-600 h-2 rounded-full animate-pulse"})})})]})}):(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:(0,Oe.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"mx-auto h-12 w-12 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,Oe.jsx)(rt,{className:"h-6 w-6 text-white"})}),(0,Oe.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900 dark:text-white",children:"Complete Your Profile"}),(0,Oe.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Let's set up your profile to get you started"})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center "+(c>=1?"text-blue-600":"text-gray-400"),children:[(0,Oe.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium "+(c>=1?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"),children:"1"}),(0,Oe.jsx)("span",{className:"ml-2 text-sm",children:"Account Type"})]}),(0,Oe.jsx)("div",{className:"w-8 h-1 "+(c>=2?"bg-blue-600":"bg-gray-200 dark:bg-gray-700")}),(0,Oe.jsxs)("div",{className:"flex items-center "+(c>=2?"text-blue-600":"text-gray-400"),children:[(0,Oe.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium "+(c>=2?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500"),children:"2"}),(0,Oe.jsx)("span",{className:"ml-2 text-sm",children:"Profile Info"})]})]}),r&&(0,Oe.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(Ms,{className:"w-5 h-5 text-red-500 mr-3"}),(0,Oe.jsx)("p",{className:"text-red-800 dark:text-red-200 text-sm",children:r})]})}),1===c&&(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Choose Your Account Type"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"This will help us customize your experience"}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("label",{className:"flex items-center p-4 border border-gray-200 dark:border-gray-700 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,Oe.jsx)("input",{type:"radio",checked:!u,onChange:()=>h(!1),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),(0,Oe.jsxs)("div",{className:"ml-3",children:[(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(rt,{className:"w-5 h-5 text-gray-400 mr-2"}),(0,Oe.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"Customer"})]}),(0,Oe.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Browse and purchase products from shops"})]})]}),(0,Oe.jsxs)("label",{className:"flex items-center p-4 border border-gray-200 dark:border-gray-700 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,Oe.jsx)("input",{type:"radio",checked:u,onChange:()=>h(!0),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),(0,Oe.jsxs)("div",{className:"ml-3",children:[(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(ut,{className:"w-5 h-5 text-gray-400 mr-2"}),(0,Oe.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:"Shop Owner"})]}),(0,Oe.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Create and manage your own shop"})]})]})]}),(0,Oe.jsx)("div",{className:"mt-6",children:(0,Oe.jsx)("button",{onClick:()=>d(2),className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Continue"})})]}),2===c&&(0,Oe.jsxs)("form",{onSubmit:x(async e=>{t(!0),s("");try{const t={bio:e.bio,address:e.address,is_shopowner:u};await Le.userProfileAPI.createProfile(t),n&&await Le.userProfileAPI.uploadAvatar(n),d(3),setTimeout(()=>{m("/")},3e3)}catch(r){s(r instanceof Error?r.message:"Failed to create profile. Please try again.")}finally{t(!1)}}),className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Tell Us About Yourself"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"This information will be displayed on your profile"}),(0,Oe.jsxs)("div",{className:"mb-6",children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Profile Picture (Optional)"}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsxs)("div",{className:"relative",children:[l?(0,Oe.jsx)("img",{src:l,alt:"Avatar preview",className:"w-16 h-16 rounded-full object-cover border-2 border-gray-200 dark:border-gray-700"}):(0,Oe.jsx)("div",{className:"w-16 h-16 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:(0,Oe.jsx)(rt,{className:"w-8 h-8 text-gray-400"})}),(0,Oe.jsxs)("label",{className:"absolute bottom-0 right-0 bg-blue-600 text-white rounded-full p-1 cursor-pointer hover:bg-blue-700",children:[(0,Oe.jsx)(Ds,{className:"w-4 h-4"}),(0,Oe.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){i(r);const e=new FileReader;e.onload=e=>{var t;o(null===(t=e.target)||void 0===t?void 0:t.result)},e.readAsDataURL(r)}},className:"hidden"})]})]}),(0,Oe.jsx)("div",{children:(0,Oe.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Upload a profile picture to personalize your account"})})]})]}),(0,Oe.jsxs)("div",{className:"mb-6",children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bio (Optional)"}),(0,Oe.jsx)("textarea",{...g("bio"),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Tell us a bit about yourself..."})]}),(0,Oe.jsxs)("div",{className:"mb-6",children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address (Optional)"}),(0,Oe.jsx)("input",{type:"text",...g("address"),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter your address..."})]}),(0,Oe.jsx)("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[u?(0,Oe.jsx)(ut,{className:"w-5 h-5 text-blue-600 mr-2"}):(0,Oe.jsx)(rt,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,Oe.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Account Type: ",u?"Shop Owner":"Customer"]})]})}),(0,Oe.jsxs)("div",{className:"flex space-x-3",children:[(0,Oe.jsx)("button",{type:"button",onClick:()=>d(1),className:"flex-1 py-2 px-4 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Back"}),(0,Oe.jsx)("button",{type:"button",onClick:async()=>{t(!0),s("");try{const e={bio:"",address:"",is_shopowner:u};await Le.userProfileAPI.createProfile(e),d(3),setTimeout(()=>{m("/")},3e3)}catch(r){s(r instanceof Error?r.message:"Failed to create profile. Please try again.")}finally{t(!1)}},disabled:e,className:"flex-1 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-600 hover:bg-gray-200 dark:hover:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:"Skip for Now"}),(0,Oe.jsx)("button",{type:"submit",disabled:e,className:"flex-1 py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:e?"Creating...":"Create Profile"})]})]})]})})};function Us(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 4.5v15m6-15v15m-10.875 0h15.75c.621 0 1.125-.504 1.125-1.125V5.625c0-.621-.504-1.125-1.125-1.125H4.125C3.504 4.5 3 5.004 3 5.625v12.75c0 .621.504 1.125 1.125 1.125Z"}))}const Bs=a.forwardRef(Us);function Vs(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const zs=a.forwardRef(Vs);function $s(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 6.75V15m6-6v8.25m.503 3.498 4.875-2.437c.381-.19.622-.58.622-1.006V4.82c0-.836-.88-1.38-1.628-1.006l-3.869 1.934c-.317.159-.69.159-1.006 0L9.503 3.252a1.125 1.125 0 0 0-1.006 0L3.622 5.689C3.24 5.88 3 6.27 3 6.695V19.18c0 .836.88 1.38 1.628 1.006l3.869-1.934c.317-.159.69-.159 1.006 0l4.994 2.497c.317.158.69.158 1.006 0Z"}))}const Ws=a.forwardRef($s);var Hs=r(872);const qs=function(){return{shopId:"1",name:"Sample Shop",description:"A sample shop for testing",location:"Nairobi, Kenya",logo:null,created_at:"2024-01-01T00:00:00Z",status:"active",phone:"+254700000000",email:"shop@example.com",social_link:"https://example.com",slug:"sample-shop",views:100,total_sales:1e4,total_orders:50,latitude:-1.2921,longitude:36.8219,street:"Sample Street",city:"Nairobi",country:"Kenya",shopowner:{id:1,username:"shopowner",email:"owner@example.com",first_name:"Shop",last_name:"Owner",date_joined:"2024-01-01T00:00:00Z"},business_type:"sole_proprietorship",business_category:"Electronics",payment_methods:["cash","mobile_money"],delivery_options:["pickup","delivery"],is_verified:!1,verification_status:"not_submitted",average_rating:4.5,total_reviews:10,response_rate:95,response_time_hours:24,gdpr_compliant:!0,terms_accepted:!0,last_updated:"2024-01-01T00:00:00Z",updated_by:"system",...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}},Ys=e=>e?e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("/")?`${Hs.$W.BACKEND_URL}${e}`:`${Hs.$W.BACKEND_URL}/${e}`:null,Ks=e=>{let{shop:t}=e;return(0,Oe.jsxs)(Ae,{to:`/shops/${t.slug}`,className:"bg-white dark:bg-gray-800 rounded-lg shadow-md hover:shadow-lg transition-shadow overflow-hidden group border border-gray-200 dark:border-gray-700",children:[(0,Oe.jsxs)("div",{className:"h-48 bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:[t.logo?(0,Oe.jsx)("img",{src:Ys(t.logo)||"",alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:e=>{var t;const r=e.target;r.style.display="none",null===(t=r.nextElementSibling)||void 0===t||t.classList.remove("hidden")}}):null,(0,Oe.jsx)("div",{className:"w-16 h-16 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center "+(t.logo?"hidden":""),children:(0,Oe.jsx)("span",{className:"text-2xl font-bold text-primary-600 dark:text-primary-400",children:t.name.charAt(0)})})]}),(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsx)("h3",{className:"font-semibold text-lg text-gray-900 dark:text-white mb-2 group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:t.name}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3 line-clamp-2",children:t.description}),(0,Oe.jsxs)("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 mb-3",children:[(0,Oe.jsx)(Kt,{className:"w-4 h-4 mr-1"}),t.city&&t.country?`${t.city}, ${t.country}`:t.location||"Location not specified"]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(Ut,{className:"w-4 h-4 text-yellow-400 mr-1"}),(0,Oe.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"4.5 (120 reviews)"})]}),(0,Oe.jsxs)("span",{className:"text-sm text-primary-600 dark:text-primary-400 font-semibold",children:[t.total_orders," orders"]})]})]})]})},Gs=e=>{let{shop:t}=e;return(0,Oe.jsxs)(Ae,{to:`/shops/${t.slug}`,className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow-md transition-shadow p-6 flex items-center space-x-4 group border border-gray-200 dark:border-gray-700",children:[(0,Oe.jsxs)("div",{className:"w-20 h-20 bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center flex-shrink-0",children:[t.logo?(0,Oe.jsx)("img",{src:Ys(t.logo)||"",alt:t.name,className:"w-full h-full object-cover rounded-lg",onError:e=>{var t;const r=e.target;r.style.display="none",null===(t=r.nextElementSibling)||void 0===t||t.classList.remove("hidden")}}):null,(0,Oe.jsx)("div",{className:"w-12 h-12 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center "+(t.logo?"hidden":""),children:(0,Oe.jsx)("span",{className:"text-lg font-bold text-primary-600 dark:text-primary-400",children:t.name.charAt(0)})})]}),(0,Oe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Oe.jsx)("h3",{className:"font-semibold text-lg text-gray-900 dark:text-white group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:t.name}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm mt-1 line-clamp-2",children:t.description}),(0,Oe.jsxs)("div",{className:"flex items-center text-sm text-gray-500 dark:text-gray-400 mt-2",children:[(0,Oe.jsx)(Kt,{className:"w-4 h-4 mr-1"}),t.city&&t.country?`${t.city}, ${t.country}`:t.location||"Location not specified"]})]}),(0,Oe.jsxs)("div",{className:"text-right",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-end mb-2",children:[(0,Oe.jsx)(Ut,{className:"w-4 h-4 text-yellow-400 mr-1"}),(0,Oe.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"4.5 (120)"})]}),(0,Oe.jsxs)("span",{className:"text-sm text-primary-600 dark:text-primary-400 font-semibold",children:[t.total_orders," orders"]})]})]})},Qs=()=>{const[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(!0),[n,i]=(0,a.useState)(""),[l,o]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[u,h]=(0,a.useState)("grid"),[m,g]=(0,a.useState)(!1),[x,p]=(0,a.useState)(""),[f,y]=(0,a.useState)("name"),b=(0,a.useCallback)(async()=>{try{s(!0),i(""),console.log("Fetching all shops from database...");const r=await Le.shopsAPI.getAll();if(console.log("Shops API response:",r),console.log("Shops found:",Array.isArray(r)?r.length:0),Array.isArray(r)&&r.length>0)return console.log("\u2705 Successfully loaded shops from database"),void t(r);console.log("\u26a0\ufe0f API returned empty results, checking if backend is running...");try{if(!(await fetch(`${Hs.$W.BACKEND_URL}/api/health/`||`${Hs.$W.API_BASE_URL}/health/`)).ok)throw new Error("Backend health check failed");console.log("\u2705 Backend is running but no shops found"),t([]),i("No shops found in database. Please create some shops first.")}catch(e){throw console.log("\u274c Backend connection failed, using mock data"),new Error("Database connection failed")}}catch(n){if(console.error("\u274c Error fetching shops from database:",n),n instanceof Error&&n.message.includes("Database connection failed")){console.log("\ud83d\udd04 Using mock data as fallback");const e=[qs({shopId:"1",name:"Tech Haven Electronics",description:"Your one-stop shop for all electronics and gadgets. We offer the latest smartphones, laptops, and accessories.",business_category:"Electronics",slug:"tech-haven-electronics",phone:"+254700123456",email:"info@techhaven.co.ke",social_link:"https://facebook.com/techhaven",views:1250,total_sales:45e3,total_orders:89,street:"Kimathi Street",shopowner:{id:1,username:"techowner",email:"owner@techhaven.co.ke",first_name:"John",last_name:"Kamau",date_joined:"2024-01-10T00:00:00Z"}}),qs({shopId:"2",name:"Fashion Forward Boutique",description:"Trendy clothing and accessories for men and women. Latest fashion trends at affordable prices.",business_category:"Fashion",location:"Mombasa, Kenya",created_at:"2024-01-20T14:30:00Z",slug:"fashion-forward-boutique",phone:"+254700654321",email:"info@fashionforward.co.ke",social_link:"https://instagram.com/fashionforward",views:890,total_sales:32e3,total_orders:67,latitude:-4.0435,longitude:39.6682,street:"Moi Avenue",city:"Mombasa",shopowner:{id:2,username:"fashionista",email:"owner@fashionforward.co.ke",first_name:"Sarah",last_name:"Johnson",date_joined:"2024-01-10T00:00:00Z"}}),qs({shopId:"3",name:"Fresh Market Groceries",description:"Premium grocery store offering fresh produce, organic foods, and household essentials. Quality guaranteed.",business_category:"Food & Beverages",location:"Kisumu, Kenya",created_at:"2024-02-01T09:15:00Z",slug:"fresh-market-groceries",phone:"+254700789012",email:"info@freshmarket.co.ke",social_link:"https://facebook.com/freshmarket",views:567,total_sales:18e3,total_orders:45,latitude:-.1022,longitude:34.7617,street:"Oginga Odinga Street",city:"Kisumu",shopowner:{id:3,username:"freshmarket",email:"owner@freshmarket.co.ke",first_name:"Michael",last_name:"Ochieng",date_joined:"2024-01-25T00:00:00Z"}})];t(e),i("\u26a0\ufe0f Database connection failed - showing demo data. Please ensure your backend server is running.")}else t([]),i(`Failed to fetch shops: ${n instanceof Error?n.message:"Unknown error"}`)}finally{s(!1)}},[]);(0,a.useEffect)(()=>{b()},[b]);const v=(0,a.useCallback)(function(e,t){let r;return function(){for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];clearTimeout(r),r=setTimeout(()=>e(...a),t)}}(async(e,r)=>{if(e.trim()||r.trim())try{s(!0),console.log("\ud83d\udd0d Searching database for:",{query:e,location:r});const a=await Le.shopsAPI.search(e,r);if(console.log("\ud83d\udcca Database search results:",a),a&&a.length>0)console.log("\u2705 Found shops in database"),t(a);else{console.log("\ud83d\udd0d No database results, trying client-side filtering");const s=(await Le.shopsAPI.getAll()).filter(t=>{const s=t.name.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase()),a=!r||t.city&&t.city.toLowerCase().includes(r.toLowerCase())||t.country&&t.country.toLowerCase().includes(r.toLowerCase());return s&&a});console.log("\u2705 Found shops using client-side filtering"),t(s)}}catch(n){console.error("\u274c Database search error:",n),i("Failed to search shops. Please try again.")}finally{s(!1)}else b()},300),[b]);(0,a.useEffect)(()=>{v(l,c)},[l,c,v]);const w=()=>{let t=e;return x&&(t=((e,t)=>t?e.filter(e=>{const r=e.name.toLowerCase(),s=e.description.toLowerCase(),a=t.toLowerCase();return r.includes(a)||s.includes(a)}):e)(t,x)),l&&(t=t.filter(e=>{var t,r;const s=l.toLowerCase();return e.name.toLowerCase().includes(s)||e.description.toLowerCase().includes(s)||(null===(t=e.city)||void 0===t?void 0:t.toLowerCase().includes(s))||(null===(r=e.country)||void 0===r?void 0:r.toLowerCase().includes(s))})),c&&(t=t.filter(e=>{var t,r;const s=c.toLowerCase();return(null===(t=e.city)||void 0===t?void 0:t.toLowerCase().includes(s))||(null===(r=e.country)||void 0===r?void 0:r.toLowerCase().includes(s))})),((e,t)=>{const r=[...e];switch(t){case"name":return r.sort((e,t)=>e.name.localeCompare(t.name));case"rating":return r.sort((e,t)=>(t.views||0)-(e.views||0));case"orders":return r.sort((e,t)=>(t.total_orders||0)-(e.total_orders||0));case"newest":return r.sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime());default:return r}})(t,f)};return r?(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-500"})}):(0,Oe.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors duration-200",children:[(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:(0,Oe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,Oe.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,Oe.jsxs)("div",{className:"mb-4 lg:mb-0",children:[(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Discover Shops"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Find amazing local businesses in your area"})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("button",{onClick:()=>h("grid"),className:"p-2 rounded-lg "+("grid"===u?"bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"),children:(0,Oe.jsx)(Bs,{className:"w-5 h-5"})}),(0,Oe.jsx)("button",{onClick:()=>h("list"),className:"p-2 rounded-lg "+("list"===u?"bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"),children:(0,Oe.jsx)(zs,{className:"w-5 h-5"})}),(0,Oe.jsx)("button",{onClick:()=>g(!m),className:"p-2 rounded-lg "+(m?"bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 hover:bg-gray-200 dark:hover:bg-gray-600"),children:(0,Oe.jsx)(Ws,{className:"w-5 h-5"})})]})]})})}),(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,Oe.jsxs)("div",{className:"mb-6",children:[(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsx)(Ct,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-6 w-6 text-gray-400 dark:text-gray-500"}),(0,Oe.jsx)("input",{type:"text",placeholder:"Search for shops, products, or locations...",value:l,onChange:e=>o(e.target.value),className:"w-full pl-12 pr-4 py-4 text-lg border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 shadow-sm"}),l&&(0,Oe.jsx)("button",{onClick:()=>o(""),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,Oe.jsx)(qe,{className:"h-5 w-5"})})]}),l.length>0&&l.length<3&&(0,Oe.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:["Electronics","Fashion","Food","Books","Sports","Home","Beauty","Toys","Nairobi","Mombasa","Kisumu","Nakuru","Eldoret"].filter(e=>e.toLowerCase().includes(l.toLowerCase())).slice(0,5).map((e,t)=>(0,Oe.jsx)("button",{onClick:()=>(e=>{o(e),p("")})(e),className:"px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-full hover:bg-primary-100 dark:hover:bg-primary-900/20 hover:text-primary-700 dark:hover:text-primary-300 transition-colors",children:e},t))})]}),(0,Oe.jsxs)("div",{className:"mb-6",children:[(0,Oe.jsx)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Quick Filters"}),(0,Oe.jsx)("div",{className:"flex flex-wrap gap-2",children:[{name:"All Shops",value:"",icon:"\ud83c\udfea"},{name:"Electronics",value:"electronics",icon:"\ud83d\udcf1"},{name:"Fashion",value:"fashion",icon:"\ud83d\udc57"},{name:"Food & Drinks",value:"food",icon:"\ud83c\udf55"},{name:"Home & Garden",value:"home",icon:"\ud83c\udfe0"},{name:"Sports",value:"sports",icon:"\u26bd"},{name:"Beauty",value:"beauty",icon:"\ud83d\udc84"},{name:"Books",value:"books",icon:"\ud83d\udcda"}].map(e=>(0,Oe.jsxs)("button",{onClick:()=>(e=>{p(e),o("")})(e.value),className:"flex items-center px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 "+(x===e.value?"bg-primary-500 text-white shadow-md":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[(0,Oe.jsx)("span",{className:"mr-2",children:e.icon}),e.name]},e.value))})]}),(0,Oe.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,Oe.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsx)(Kt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Oe.jsx)("input",{type:"text",placeholder:"Filter by location...",value:c,onChange:e=>d(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),(0,Oe.jsxs)("select",{value:f,onChange:e=>y(e.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,Oe.jsx)("option",{value:"name",children:"Sort by Name"}),(0,Oe.jsx)("option",{value:"rating",children:"Sort by Popularity"}),(0,Oe.jsx)("option",{value:"orders",children:"Sort by Orders"}),(0,Oe.jsx)("option",{value:"newest",children:"Sort by Newest"})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Oe.jsx)("button",{onClick:()=>{o(""),d(""),p("")},className:"px-4 py-2 text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:"Clear All"}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-1 bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[(0,Oe.jsx)("button",{onClick:()=>h("grid"),className:"p-2 rounded-md transition-colors "+("grid"===u?"bg-white dark:bg-gray-600 text-primary-600 dark:text-primary-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"),children:(0,Oe.jsx)(Bs,{className:"w-5 h-5"})}),(0,Oe.jsx)("button",{onClick:()=>h("list"),className:"p-2 rounded-md transition-colors "+("list"===u?"bg-white dark:bg-gray-600 text-primary-600 dark:text-primary-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200"),children:(0,Oe.jsx)(zs,{className:"w-5 h-5"})})]})]})]})]})}),n&&(0,Oe.jsx)("div",{className:"bg-orange-50 dark:bg-orange-900/20 border-l-4 border-orange-400 p-4 mb-4",children:(0,Oe.jsxs)("div",{className:"flex",children:[(0,Oe.jsx)("div",{className:"flex-shrink-0",children:(0,Oe.jsx)("svg",{className:"h-5 w-5 text-orange-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Oe.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,Oe.jsx)("div",{className:"ml-3",children:(0,Oe.jsx)("p",{className:"text-sm text-orange-700 dark:text-orange-300",children:n})})]})}),n&&n.includes("demo data")&&(0,Oe.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-400 p-4 mb-4",children:(0,Oe.jsxs)("div",{className:"flex",children:[(0,Oe.jsx)("div",{className:"flex-shrink-0",children:(0,Oe.jsx)("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Oe.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,Oe.jsxs)("div",{className:"ml-3",children:[(0,Oe.jsx)("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Demo Mode Active"}),(0,Oe.jsxs)("div",{className:"mt-2 text-sm text-blue-700 dark:text-blue-300",children:[(0,Oe.jsx)("p",{children:"You're currently viewing demo data. To search real shops from the database:"}),(0,Oe.jsxs)("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[(0,Oe.jsxs)("li",{children:["Ensure your Django backend server is running on ",Hs.$W.BACKEND_URL]}),(0,Oe.jsx)("li",{children:"Check that the database has shops created"}),(0,Oe.jsx)("li",{children:"Verify the API endpoints are accessible"})]})]})]})]})}),!n&&e.length>0&&(0,Oe.jsx)("div",{className:"bg-green-50 dark:bg-green-900/20 border-l-4 border-green-400 p-4 mb-4",children:(0,Oe.jsxs)("div",{className:"flex",children:[(0,Oe.jsx)("div",{className:"flex-shrink-0",children:(0,Oe.jsx)("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Oe.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,Oe.jsxs)("div",{className:"ml-3",children:[(0,Oe.jsx)("h3",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Database Connected"}),(0,Oe.jsxs)("p",{className:"text-sm text-green-700 dark:text-green-300",children:["Successfully loaded ",e.length," shops from the database. Search functionality is fully operational."]})]})]})}),n&&n.includes("Database connection failed")&&(0,Oe.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border-l-4 border-red-400 p-4 mb-4",children:(0,Oe.jsxs)("div",{className:"flex",children:[(0,Oe.jsx)("div",{className:"flex-shrink-0",children:(0,Oe.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Oe.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,Oe.jsxs)("div",{className:"ml-3",children:[(0,Oe.jsx)("h3",{className:"text-sm font-medium text-red-800 dark:text-red-200",children:"Database Connection Failed"}),(0,Oe.jsxs)("div",{className:"mt-2 text-sm text-red-700 dark:text-red-300",children:[(0,Oe.jsx)("p",{className:"font-semibold mb-2",children:"To fix this issue, follow these steps:"}),(0,Oe.jsxs)("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[(0,Oe.jsxs)("li",{children:[(0,Oe.jsx)("strong",{children:"Start Django Backend:"})," Open terminal and run:"]}),(0,Oe.jsxs)("code",{className:"block bg-gray-100 dark:bg-gray-800 p-2 rounded text-xs font-mono ml-4 my-1",children:["cd /path/to/your/django/project",(0,Oe.jsx)("br",{}),"python manage.py runserver"]}),(0,Oe.jsxs)("li",{children:[(0,Oe.jsx)("strong",{children:"Check Backend URL:"})," Ensure it's running on ",Hs.$W.BACKEND_URL]}),(0,Oe.jsxs)("li",{children:[(0,Oe.jsx)("strong",{children:"Test API Endpoint:"})," Visit ",Hs.$W.API_BASE_URL,"/shops/ in browser"]}),(0,Oe.jsxs)("li",{children:[(0,Oe.jsx)("strong",{children:"Create Shops:"})," Add shops through Django admin or API"]}),(0,Oe.jsxs)("li",{children:[(0,Oe.jsx)("strong",{children:"Refresh Page:"}),' Click "Refresh Shops" button above']})]}),(0,Oe.jsx)("div",{className:"mt-3 p-2 bg-yellow-50 dark:bg-yellow-900/20 rounded border border-yellow-200 dark:border-yellow-700",children:(0,Oe.jsxs)("p",{className:"text-xs text-yellow-800 dark:text-yellow-200",children:[(0,Oe.jsx)("strong",{children:"Note:"})," If your Django backend is running on a different port, update the API_BASE_URL in src/config/environment.ts"]})})]})]})]})}),n&&n.includes("Authentication required")&&(0,Oe.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-400 p-4 mb-4",children:(0,Oe.jsxs)("div",{className:"flex",children:[(0,Oe.jsx)("div",{className:"flex-shrink-0",children:(0,Oe.jsx)("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,Oe.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,Oe.jsxs)("div",{className:"ml-3",children:[(0,Oe.jsx)("h3",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Login Required"}),(0,Oe.jsxs)("div",{className:"mt-2 text-sm text-blue-700 dark:text-blue-300",children:[(0,Oe.jsx)("p",{children:"To view real shops from the database, please log in to your account."}),(0,Oe.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,Oe.jsx)(Ae,{to:"/login",className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Log In"}),(0,Oe.jsx)(Ae,{to:"/register",className:"inline-flex items-center px-3 py-2 border border-gray-300 text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Register"})]})]})]})]})}),(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,Oe.jsx)("div",{className:"mb-6",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:[w().length," ",1===w().length?"Shop":"Shops"," Found"]}),(l||c||x)&&(0,Oe.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["(filtered from ",e.length," total)"]})]}),w().length>0&&(0,Oe.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Showing ",w().length," of ",e.length," shops"]})]})}),(l||c||x)&&w().length>0&&(0,Oe.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-400 p-4 mb-6",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Active Filters:"}),l&&(0,Oe.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200",children:['Search: "',l,'"',(0,Oe.jsx)("button",{onClick:()=>o(""),className:"ml-1 text-blue-600 dark:text-blue-300 hover:text-blue-800 dark:hover:text-blue-100",children:(0,Oe.jsx)(qe,{className:"h-3 w-3"})})]}),c&&(0,Oe.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 dark:bg-green-800 text-green-800 dark:text-green-200",children:['Location: "',c,'"',(0,Oe.jsx)("button",{onClick:()=>d(""),className:"ml-1 text-green-600 dark:text-green-300 hover:text-green-800 dark:hover:text-green-100",children:(0,Oe.jsx)(qe,{className:"h-3 w-3"})})]}),x&&(0,Oe.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 dark:bg-purple-800 text-purple-800 dark:text-purple-200",children:['Category: "',x,'"',(0,Oe.jsx)("button",{onClick:()=>p(""),className:"ml-1 text-purple-600 dark:text-purple-300 hover:text-purple-800 dark:hover:text-purple-100",children:(0,Oe.jsx)(qe,{className:"h-3 w-3"})})]})]}),(0,Oe.jsx)("button",{onClick:()=>{o(""),d(""),p("")},className:"text-sm text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200 font-medium",children:"Clear All"})]})}),0===w().length&&!r&&(0,Oe.jsxs)("div",{className:"text-center py-12",children:[(0,Oe.jsx)("div",{className:"mx-auto h-24 w-24 text-gray-400 dark:text-gray-500 mb-4",children:(0,Oe.jsx)(Ct,{className:"h-full w-full"})}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No shops found"}),(0,Oe.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:l||c||x?"Try adjusting your search criteria or filters.":"No shops are currently available."}),(l||c||x)&&(0,Oe.jsx)("button",{onClick:()=>{o(""),d(""),p("")},className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Clear All Filters"})]}),w().length>0&&(0,Oe.jsx)("div",{className:"grid"===u?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4",children:w().map(e=>"grid"===u?(0,Oe.jsx)(Ks,{shop:e},e.shopId):(0,Oe.jsx)(Gs,{shop:e},e.shopId))})]})]})};function Zs(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const Js=a.forwardRef(Zs);function Xs(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const ea=a.forwardRef(Xs),ta=e=>{let{product:t,shop:r,quantity:s=1,className:n="",onSuccess:i,onError:l,requireAuth:o=!0}=e;const[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(!1),m=re(),g=c||!t.is_active||t.quantity<s;return(0,Oe.jsxs)("button",{onClick:async()=>{if(!c)try{if(d(!0),o&&!localStorage.getItem("access_token"))return void m("/login");await Le.cartAPI.addToCart(t.productId,r.shopId,s),h(!0),null===i||void 0===i||i(),window.dispatchEvent(new CustomEvent("cart:updated")),setTimeout(()=>h(!1),2e3)}catch(e){const t=e instanceof Error?e.message:"Failed to add to cart";null===l||void 0===l||l(t)}finally{d(!1)}},disabled:g,className:`\n        inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-lg transition-colors\n        ${u?"bg-green-600 text-white hover:bg-green-700":"bg-primary-600 text-white hover:bg-primary-700"}\n        ${g?"opacity-50 cursor-not-allowed":""}\n        ${n}\n      `,children:[c?(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):u?(0,Oe.jsx)(bt,{className:"w-4 h-4 mr-2"}):(0,Oe.jsx)(at,{className:"w-4 h-4 mr-2"}),c?"Adding...":u?"Added to Cart!":"Add to Cart"]})},ra=e=>{let{product:t,shop:r,isOpen:s,onClose:n}=e;const i=re(),{user:l,isAuthenticated:o}=Fe(),[c,d]=(0,a.useState)(`Hi, I'm interested in ${t.name}. Could you provide more details?`),[u,h]=(0,a.useState)(!1),[m,g]=(0,a.useState)(!1);return s?o?(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-lg w-full mx-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Product Inquiry"}),(0,Oe.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,Oe.jsx)(qe,{className:"w-6 h-6"})})]}),(0,Oe.jsx)("div",{className:"p-6",children:m?(0,Oe.jsxs)("div",{className:"text-center py-8",children:[(0,Oe.jsx)("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Oe.jsx)("svg",{className:"w-8 h-8 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,Oe.jsx)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Inquiry Sent!"}),(0,Oe.jsxs)("p",{className:"text-gray-500 dark:text-gray-400",children:["Your inquiry has been sent to ",r.name,". Redirecting to messages..."]})]}):(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4",children:(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-600 rounded-lg flex items-center justify-center",children:t.image?(0,Oe.jsx)("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover rounded-lg"}):(0,Oe.jsx)("span",{className:"text-gray-500 text-xs",children:"IMG"})}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:t.name}),(0,Oe.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.name}),(0,Oe.jsxs)("p",{className:"text-lg font-semibold text-primary-600 dark:text-primary-400",children:["KES ",t.price]})]})]})}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Your Inquiry"}),(0,Oe.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg resize-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,Oe.jsxs)("div",{className:"flex space-x-3",children:[(0,Oe.jsx)("button",{onClick:n,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,Oe.jsxs)("button",{onClick:async()=>{if(c.trim()&&o)try{h(!0);const e={recipient:r.shopowner.id,content:c.trim(),shop:r.shopId,product:t.productId};await Le.messagesAPI.send(e),g(!0),setTimeout(()=>{n(),i("/messages")},2e3)}catch(e){console.error("Failed to send inquiry:",e)}finally{h(!1)}},disabled:!c.trim()||u,className:"flex-1 flex items-center justify-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[u?(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):(0,Oe.jsx)(ct,{className:"w-4 h-4 mr-2"}),u?"Sending...":"Send Inquiry"]})]})]})]})})]})}):(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)(lt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Login Required"}),(0,Oe.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Please log in to send a product inquiry."}),(0,Oe.jsxs)("div",{className:"flex space-x-3",children:[(0,Oe.jsx)("button",{onClick:n,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,Oe.jsx)("button",{onClick:()=>{n(),i("/login")},className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Login"})]})]})})}):null},sa=e=>{let{product:t,shop:r,showShopInfo:s=!0,className:n=""}=e;const[i,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),h=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return(0,Oe.jsxs)("div",{className:`bg-white rounded-lg shadow-md hover:shadow-lg transition-all duration-300 overflow-hidden group ${n}`,children:[(0,Oe.jsxs)("div",{className:"relative h-48 bg-gray-200 overflow-hidden",children:[t.image?(0,Oe.jsx)("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):(0,Oe.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-100",children:(0,Oe.jsx)(at,{className:"w-12 h-12 text-gray-400"})}),(0,Oe.jsxs)("div",{className:"absolute top-2 right-2 flex flex-col space-y-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[(0,Oe.jsx)("button",{onClick:async()=>{if(localStorage.getItem("access_token")){c(!0);try{i?(await Le.wishlistAPI.removeProduct(t.productId),l(!1)):(await Le.wishlistAPI.addProduct(t.productId),l(!0))}catch(e){console.error("Error toggling wishlist:",e)}finally{c(!1)}}},disabled:o,className:"w-8 h-8 bg-white rounded-full shadow-md flex items-center justify-center hover:bg-gray-50 transition-colors",children:i?(0,Oe.jsx)(ea,{className:"w-4 h-4 text-red-500"}):(0,Oe.jsx)(Rt,{className:"w-4 h-4 text-gray-600"})}),(0,Oe.jsx)(Ae,{to:`/products/${t.productId}`,className:"w-8 h-8 bg-white rounded-full shadow-md flex items-center justify-center hover:bg-gray-50 transition-colors",children:(0,Oe.jsx)(js,{className:"w-4 h-4 text-gray-600"})})]}),t.discount>0&&(0,Oe.jsxs)("div",{className:"absolute top-2 left-2 bg-red-500 text-white text-xs font-semibold px-2 py-1 rounded",children:[t.discount,"% OFF"]}),0===t.quantity&&(0,Oe.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:(0,Oe.jsx)("span",{className:"text-white font-semibold",children:"Out of Stock"})})]}),(0,Oe.jsxs)("div",{className:"p-4",children:[s&&(0,Oe.jsx)(Ae,{to:`/shops/${r.slug}`,className:"text-sm text-primary-600 hover:text-primary-700 font-medium mb-2 block",children:r.name}),(0,Oe.jsx)(Ae,{to:`/products/${t.productId}`,children:(0,Oe.jsx)("h3",{className:"font-semibold text-gray-900 mb-2 line-clamp-2 hover:text-primary-600 transition-colors",children:t.name})}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,Oe.jsx)("span",{className:"text-lg font-bold text-primary-600",children:h((t.promotional_price||t.price)*(1-t.discount/100))}),t.discount>0&&(0,Oe.jsx)("span",{className:"text-sm text-gray-500 line-through",children:h(t.promotional_price||t.price)})]}),(0,Oe.jsxs)("div",{className:"flex items-center mb-3",children:[(0,Oe.jsx)("div",{className:"flex items-center",children:[1,2,3,4,5].map(e=>(0,Oe.jsx)(Ut,{className:"w-4 h-4 "+(e<=4?"text-yellow-400 fill-current":"text-gray-300")},e))}),(0,Oe.jsx)("span",{className:"text-sm text-gray-600 ml-2",children:"(24 reviews)"})]}),(0,Oe.jsxs)("div",{className:"space-y-2",children:[(0,Oe.jsx)(ta,{product:t,shop:r,quantity:1,className:"w-full py-2"}),(0,Oe.jsxs)("button",{onClick:()=>u(!0),className:"w-full flex items-center justify-center px-4 py-2 text-sm text-primary-600 border border-primary-600 rounded-lg hover:bg-primary-50 transition-colors",children:[(0,Oe.jsx)(lt,{className:"w-4 h-4 mr-2"}),"Ask Question"]})]})]}),(0,Oe.jsx)(ra,{product:t,shop:r,isOpen:d,onClose:()=>u(!1)})]})},aa=e=>{let{shop:t,isOpen:r,onClose:s,product:n}=e;const i=re(),{user:l,isAuthenticated:o}=Fe(),[c,d]=(0,a.useState)(""),[u,h]=(0,a.useState)(!1),[m,g]=(0,a.useState)(!1);return r?o?(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-lg w-full mx-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)("div",{className:"w-10 h-10 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center",children:t.logo?(0,Oe.jsx)("img",{src:t.logo,alt:t.name,className:"w-full h-full object-cover rounded-full"}):(0,Oe.jsx)("span",{className:"text-primary-600 dark:text-primary-400 font-semibold",children:t.name.charAt(0)})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:["Message ",t.name]}),(0,Oe.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.shopowner.first_name," ",t.shopowner.last_name]})]})]}),(0,Oe.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,Oe.jsx)(qe,{className:"w-6 h-6"})})]}),(0,Oe.jsx)("div",{className:"p-6",children:m?(0,Oe.jsxs)("div",{className:"text-center py-8",children:[(0,Oe.jsx)("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Oe.jsx)("svg",{className:"w-8 h-8 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Oe.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,Oe.jsx)("h4",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Message Sent!"}),(0,Oe.jsxs)("p",{className:"text-gray-500 dark:text-gray-400",children:["Your message has been sent to ",t.name,". Redirecting to messages..."]})]}):(0,Oe.jsxs)(Oe.Fragment,{children:[n&&(0,Oe.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4",children:(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)("div",{className:"w-12 h-12 bg-gray-200 dark:bg-gray-600 rounded-lg flex items-center justify-center",children:n.image?(0,Oe.jsx)("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover rounded-lg"}):(0,Oe.jsx)("span",{className:"text-gray-500 text-xs",children:"IMG"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["Regarding: ",n.name]}),(0,Oe.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["KES ",n.price]})]})]})}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Your Message"}),(0,Oe.jsx)("textarea",{value:c,onChange:e=>d(e.target.value),placeholder:`Hi ${t.shopowner.first_name}, I'm interested in ${n?n.name:"your shop"}...`,rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg resize-none focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400"})]}),(0,Oe.jsxs)("div",{className:"flex space-x-3",children:[(0,Oe.jsx)("button",{onClick:s,className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),(0,Oe.jsxs)("button",{onClick:async()=>{if(c.trim()&&o)try{h(!0);const e={recipient:t.shopowner.id,content:c.trim(),shop:t.shopId,...n&&{product:n.id}};await Le.messagesAPI.send(e),g(!0),setTimeout(()=>{d(""),g(!1),s(),i("/messages")},2e3)}catch(e){console.error("Failed to send message:",e)}finally{h(!1)}},disabled:!c.trim()||u,className:"flex-1 flex items-center justify-center px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[u?(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):(0,Oe.jsx)(ct,{className:"w-4 h-4 mr-2"}),u?"Sending...":"Send Message"]})]})]})]})})]})}):(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)(lt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Login Required"}),(0,Oe.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Please log in to send a message to the shop owner."}),(0,Oe.jsxs)("div",{className:"flex space-x-3",children:[(0,Oe.jsx)("button",{onClick:s,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,Oe.jsx)("button",{onClick:()=>{s(),i("/login")},className:"flex-1 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Login"})]})]})})}):null},na=()=>{const{slug:e}=se(),[t,r]=(0,a.useState)(null),[s,n]=(0,a.useState)([]),[i,l]=(0,a.useState)(!0),[o,c]=(0,a.useState)(""),[d,u]=(0,a.useState)("products"),[h,m]=(0,a.useState)(!1);(0,a.useEffect)(()=>{e&&g()},[e]);const g=async()=>{try{l(!0);const t=await Le.shopsAPI.getBySlug(e),s=await Le.shopsAPI.getProducts(t.shopId);r(t),n(s)}catch(o){c(o instanceof Error?o.message:"Failed to fetch shop details")}finally{l(!1)}};return i?(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-500"})}):o||!t?(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Shop Not Found"}),(0,Oe.jsx)("p",{className:"text-gray-600 mb-6",children:o||"The requested shop could not be found."}),(0,Oe.jsx)(Ae,{to:"/shops",className:"bg-primary-600 text-white px-6 py-2 rounded-lg hover:bg-primary-700",children:"Back to Shops"})]})}):(0,Oe.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Oe.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,Oe.jsx)("div",{className:"flex items-center space-x-4 mb-4",children:(0,Oe.jsxs)(Ae,{to:"/shops",className:"flex items-center text-gray-600 hover:text-primary-600",children:[(0,Oe.jsx)(Js,{className:"w-5 h-5 mr-2"}),"Back to Shops"]})}),(0,Oe.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-6",children:[(0,Oe.jsx)("div",{className:"w-24 h-24 bg-gray-200 rounded-lg flex items-center justify-center mb-4 md:mb-0",children:t.logo?(0,Oe.jsx)("img",{src:t.logo,alt:t.name,className:"w-full h-full object-cover rounded-lg"}):(0,Oe.jsx)("span",{className:"text-3xl font-bold text-primary-600",children:t.name.charAt(0)})}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t.name}),(0,Oe.jsxs)("div",{className:"flex items-center text-gray-600 mb-2",children:[(0,Oe.jsx)(Kt,{className:"w-4 h-4 mr-1"}),t.street&&`${t.street}, `,t.city,", ",t.country]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(Ut,{className:"w-4 h-4 text-yellow-400 mr-1"}),(0,Oe.jsx)("span",{children:"4.5 (120 reviews)"})]}),(0,Oe.jsx)("span",{children:"\u2022"}),(0,Oe.jsxs)("span",{children:[t.total_orders," orders"]}),(0,Oe.jsx)("span",{children:"\u2022"}),(0,Oe.jsx)("span",{children:t.total_sales>0?`$${t.total_sales.toLocaleString()} sales`:"New shop"})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-3 mt-4 md:mt-0",children:[(0,Oe.jsxs)("button",{onClick:()=>m(!0),className:"flex items-center bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:[(0,Oe.jsx)(lt,{className:"w-4 h-4 mr-2"}),"Contact Shop Owner"]}),t.social_link&&(0,Oe.jsxs)("a",{href:t.social_link,target:"_blank",rel:"noopener noreferrer",className:"flex items-center border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,Oe.jsx)(Is,{className:"w-4 h-4 mr-2"}),"Visit Website"]})]})]})]})}),(0,Oe.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Oe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Oe.jsx)("nav",{className:"flex space-x-8",children:[{id:"products",label:"Products",count:s.length},{id:"about",label:"About",count:null},{id:"reviews",label:"Reviews",count:120}].map(e=>(0,Oe.jsxs)("button",{onClick:()=>u(e.id),className:"py-4 px-1 border-b-2 font-medium text-sm "+(d===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[e.label,null!==e.count&&(0,Oe.jsx)("span",{className:"ml-2 bg-gray-100 text-gray-900 py-0.5 px-2.5 rounded-full text-xs",children:e.count})]},e.id))})})}),(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["products"===d&&(0,Oe.jsxs)("div",{children:[(0,Oe.jsxs)("div",{className:"mb-6",children:[(0,Oe.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Products"}),(0,Oe.jsxs)("p",{className:"text-gray-600",children:["Browse products from ",t.name]})]}),s.length>0?(0,Oe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:s.map(e=>(0,Oe.jsx)(sa,{product:e,shop:t,showShopInfo:!1},e.productId))}):(0,Oe.jsxs)("div",{className:"text-center py-12",children:[(0,Oe.jsx)(mt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products yet"}),(0,Oe.jsx)("p",{className:"text-gray-600",children:"This shop hasn't added any products yet."})]})]}),"about"===d&&(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Oe.jsx)("div",{className:"lg:col-span-2",children:(0,Oe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,Oe.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["About ",t.name]}),(0,Oe.jsx)("p",{className:"text-gray-600 leading-relaxed",children:t.description||"No description available for this shop."}),(0,Oe.jsxs)("div",{className:"mt-6",children:[(0,Oe.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Shop Statistics"}),(0,Oe.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:t.total_orders}),(0,Oe.jsx)("div",{className:"text-sm text-gray-600",children:"Total Orders"})]}),(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsxs)("div",{className:"text-2xl font-bold text-primary-600",children:["$",t.total_sales.toLocaleString()]}),(0,Oe.jsx)("div",{className:"text-sm text-gray-600",children:"Total Sales"})]}),(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:t.views}),(0,Oe.jsx)("div",{className:"text-sm text-gray-600",children:"Shop Views"})]}),(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"text-2xl font-bold text-primary-600",children:s.length}),(0,Oe.jsx)("div",{className:"text-sm text-gray-600",children:"Products"})]})]})]})]})}),(0,Oe.jsx)("div",{className:"lg:col-span-1",children:(0,Oe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[t.phone&&(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(Es,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,Oe.jsx)("span",{className:"text-gray-700",children:t.phone})]}),t.email&&(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(As,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,Oe.jsx)("span",{className:"text-gray-700",children:t.email})]}),t.social_link&&(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(Is,{className:"w-5 h-5 text-gray-400 mr-3"}),(0,Oe.jsx)("a",{href:t.social_link,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-700",children:"Visit Website"})]}),(0,Oe.jsxs)("div",{className:"flex items-start",children:[(0,Oe.jsx)(Kt,{className:"w-5 h-5 text-gray-400 mr-3 mt-0.5"}),(0,Oe.jsxs)("div",{className:"text-gray-700",children:[t.street&&(0,Oe.jsx)("div",{children:t.street}),(0,Oe.jsxs)("div",{children:[t.city,", ",t.country]})]})]})]}),(0,Oe.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,Oe.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Shop Status"}),(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)("div",{className:"w-3 h-3 rounded-full mr-2 "+("active"===t.status?"bg-green-400":"pending"===t.status?"bg-yellow-400":"bg-red-400")}),(0,Oe.jsx)("span",{className:"text-sm text-gray-600 capitalize",children:t.status})]}),(0,Oe.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:["Member since ",new Date(t.created_at).toLocaleDateString()]})]})]})})]}),"reviews"===d&&(0,Oe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,Oe.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Customer Reviews"}),(0,Oe.jsx)("p",{className:"text-gray-600 mb-6",children:"Reviews feature coming soon..."}),(0,Oe.jsxs)("div",{className:"text-center py-8",children:[(0,Oe.jsx)(Ut,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),(0,Oe.jsx)("p",{className:"text-gray-600",children:"No reviews yet"})]})]})]}),t&&(0,Oe.jsx)(aa,{shop:t,isOpen:h,onClose:()=>m(!1)})]})},ia=()=>{const e=re(),[t,r]=(0,a.useState)(!1),[s,n]=(0,a.useState)(""),[i,l]=(0,a.useState)({name:"",description:"",street:"",city:"",country:"",phone:"",email:"",social_link:"",logo:null}),o=e=>{const{name:t,value:r}=e.target;l(e=>({...e,[t]:r}))};return(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,Oe.jsxs)("div",{className:"max-w-2xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,Oe.jsxs)("div",{className:"text-center mb-8",children:[(0,Oe.jsx)("div",{className:"mx-auto w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mb-4",children:(0,Oe.jsx)(ut,{className:"w-8 h-8 text-primary-600"})}),(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create Your Shop"}),(0,Oe.jsx)("p",{className:"text-gray-600",children:"Start selling your products online. Set up your shop profile and start connecting with customers."})]}),(0,Oe.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:(0,Oe.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),r(!0),n(""),!i.name.trim())return n("Shop name is required"),void r(!1);if(!(i.street.trim()||i.city.trim()||i.country.trim()))return n("Please provide at least one location component (street, city, or country)"),void r(!1);try{const t=new FormData;Object.entries(i).forEach(e=>{let[r,s]=e;null!==s&&"logo"!==r&&t.append(r,s)}),i.logo&&t.append("logo",i.logo);const r=[i.street,i.city,i.country].filter(Boolean);r.length>0&&t.append("location",r.join(", "));const s=await Le.shopsAPI.create(t);alert(`Shop "${s.name}" created successfully! You now have shop owner privileges.`),e(`/shops/${s.slug}`)}catch(s){n(s instanceof Error?s.message:"Failed to create shop")}finally{r(!1)}},className:"p-6 space-y-6",children:[s&&(0,Oe.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:(0,Oe.jsx)("p",{className:"text-red-600",children:s})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Shop Information"}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shop Name *"}),(0,Oe.jsx)("input",{type:"text",name:"name",value:i.name,onChange:o,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your shop name"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,Oe.jsx)("textarea",{name:"description",value:i.description,onChange:o,required:!0,rows:4,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Describe your shop and what you sell..."})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shop Logo"}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsx)("div",{className:"w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center border-2 border-dashed border-gray-300",children:i.logo?(0,Oe.jsx)("img",{src:URL.createObjectURL(i.logo),alt:"Logo preview",className:"w-full h-full object-cover rounded-lg"}):(0,Oe.jsx)(_s,{className:"w-8 h-8 text-gray-400"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];r&&l(e=>({...e,logo:r}))},className:"hidden",id:"logo-upload"}),(0,Oe.jsx)("label",{htmlFor:"logo-upload",className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer",children:"Choose File"}),(0,Oe.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 5MB"})]})]})]})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Contact Information"}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Oe.jsx)(Es,{className:"w-4 h-4 inline mr-1"}),"Phone Number"]}),(0,Oe.jsx)("input",{type:"tel",name:"phone",value:i.phone,onChange:o,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"+254700000000"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Oe.jsx)(As,{className:"w-4 h-4 inline mr-1"}),"Email Address"]}),(0,Oe.jsx)("input",{type:"email",name:"email",value:i.email,onChange:o,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"shop@example.com"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,Oe.jsx)(Is,{className:"w-4 h-4 inline mr-1"}),"Website (Optional)"]}),(0,Oe.jsx)("input",{type:"url",name:"social_link",value:i.social_link,onChange:o,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"https://yourwebsite.com"})]})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:[(0,Oe.jsx)(Kt,{className:"w-5 h-5 inline mr-2"}),"Address Information"]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address"}),(0,Oe.jsx)("input",{type:"text",name:"street",value:i.street,onChange:o,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"123 Main Street"})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),(0,Oe.jsx)("input",{type:"text",name:"city",value:i.city,onChange:o,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Nairobi"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country *"}),(0,Oe.jsxs)("select",{name:"country",value:i.country,onChange:o,required:!0,className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Oe.jsx)("option",{value:"",children:"Select Country"}),["Kenya","Uganda","Tanzania","Rwanda","Burundi","Ethiopia","Somalia","South Sudan","Sudan","Egypt","Libya","Tunisia","Algeria","Morocco","Mauritania","Senegal","Gambia","Guinea-Bissau","Guinea","Sierra Leone","Liberia","Ivory Coast","Ghana","Togo","Benin","Nigeria","Cameroon","Central African Republic","Chad","Niger","Mali","Burkina Faso"].map(e=>(0,Oe.jsx)("option",{value:e,children:e},e))]})]})]})]})]}),(0,Oe.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,Oe.jsxs)("div",{className:"flex items-start",children:[(0,Oe.jsx)("input",{type:"checkbox",required:!0,className:"mt-1 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),(0,Oe.jsxs)("label",{className:"ml-3 text-sm text-gray-700",children:["I agree to the"," ",(0,Oe.jsx)("button",{type:"button",className:"text-primary-600 hover:text-primary-700 underline",children:"Terms of Service"})," ","and"," ",(0,Oe.jsx)("button",{type:"button",className:"text-primary-600 hover:text-primary-700 underline",children:"Privacy Policy"})]})]})}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[(0,Oe.jsx)("button",{type:"button",onClick:()=>e("/shops"),className:"border border-gray-300 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Oe.jsx)("button",{type:"submit",disabled:t,className:"bg-primary-600 text-white px-8 py-2 rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Creating Shop...":"Create Shop"})]})]})}),(0,Oe.jsx)("div",{className:"mt-8 text-center",children:(0,Oe.jsxs)("p",{className:"text-sm text-gray-600",children:["Need help? Contact our support team at"," ",(0,Oe.jsx)("a",{href:"mailto:support@onesoko.com",className:"text-primary-600 hover:text-primary-700",children:"support@onesoko.com"})]})})]})})};function la(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"}))}const oa=a.forwardRef(la);function ca(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const da=a.forwardRef(ca);function ua(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const ha=a.forwardRef(ua),ma=e=>{let{isOpen:t,onClose:r,onProductAdded:s,shop:n}=e;const[i,l]=(0,a.useState)([]),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(null),[h,m]=(0,a.useState)(null),{register:g,handleSubmit:x,formState:{errors:p},reset:f,watch:y}=ys({defaultValues:{name:"",description:"",price:0,quantity:1,category:"",discount:0,promotional_price:void 0}}),b=y("discount"),v=y("price");(0,a.useEffect)(()=>{t&&w()},[t]);const w=async()=>{try{const e=await Le.categoriesAPI.getAll();l(e)}catch(e){console.error("Error loading categories:",e)}},j=()=>b>0&&v>0?v-v*b/100:0;return t?(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,Oe.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Add New Product"}),(0,Oe.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Oe.jsx)(qe,{className:"w-6 h-6"})})]}),(0,Oe.jsxs)("form",{onSubmit:x(async e=>{if(n){c(!0);try{const t=new FormData;t.append("name",e.name),t.append("description",e.description),t.append("price",e.price.toString()),t.append("quantity",e.quantity.toString()),e.category&&t.append("category",e.category),t.append("discount",e.discount.toString()),e.promotional_price&&t.append("promotional_price",e.promotional_price.toString()),d&&t.append("image",d);const a=await Le.shopsAPI.addProduct(n.shopId,t);s(a),r(),f(),u(null),m(null)}catch(t){console.error("Error adding product:",t),alert("Failed to add product. Please try again.")}finally{c(!1)}}else alert("No shop selected")}),className:"p-6 space-y-6",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),(0,Oe.jsx)("input",{type:"text",id:"name",...g("name",{required:"Product name is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter product name"}),p.name&&(0,Oe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:p.name.message})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,Oe.jsx)("textarea",{id:"description",...g("description",{required:"Description is required"}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Describe your product"}),p.description&&(0,Oe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:p.description.message})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (USD) *"}),(0,Oe.jsx)("input",{type:"number",id:"price",step:"0.01",min:"0",...g("price",{required:"Price is required",min:{value:0,message:"Price must be positive"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"0.00"}),p.price&&(0,Oe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:p.price.message})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity *"}),(0,Oe.jsx)("input",{type:"number",id:"quantity",min:"1",...g("quantity",{required:"Quantity is required",min:{value:1,message:"Quantity must be at least 1"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"1"}),p.quantity&&(0,Oe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:p.quantity.message})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,Oe.jsxs)("select",{id:"category",...g("category"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Oe.jsx)("option",{value:"",children:"Select a category"}),i.map(e=>(0,Oe.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{htmlFor:"discount",className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount (%)"}),(0,Oe.jsx)("input",{type:"number",id:"discount",min:"0",max:"100",...g("discount",{min:{value:0,message:"Discount must be 0 or higher"},max:{value:100,message:"Discount cannot exceed 100%"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"0"}),p.discount&&(0,Oe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:p.discount.message})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{htmlFor:"promotional_price",className:"block text-sm font-medium text-gray-700 mb-2",children:"Promotional Price (USD)"}),(0,Oe.jsx)("input",{type:"number",id:"promotional_price",step:"0.01",min:"0",...g("promotional_price",{min:{value:0,message:"Promotional price must be positive"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:j().toFixed(2)}),b>0&&v>0&&(0,Oe.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Suggested: $",j().toFixed(2)]})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Image"}),(0,Oe.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg hover:border-gray-400 transition-colors",children:(0,Oe.jsxs)("div",{className:"space-y-1 text-center",children:[h?(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsx)("img",{src:h,alt:"Preview",className:"mx-auto h-48 w-48 object-cover rounded-lg shadow-md"}),(0,Oe.jsx)("button",{type:"button",onClick:()=>{u(null),m(null)},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",title:"Remove image",children:(0,Oe.jsx)(qe,{className:"w-4 h-4"})})]}):(0,Oe.jsx)(_s,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Oe.jsxs)("div",{className:"flex text-sm text-gray-600",children:[(0,Oe.jsxs)("label",{htmlFor:"image-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-primary-600 hover:text-primary-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-primary-500",children:[(0,Oe.jsx)("span",{children:"Upload a file"}),(0,Oe.jsx)("input",{id:"image-upload",name:"image-upload",type:"file",accept:"image/*",className:"sr-only",onChange:e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){u(r);const e=new FileReader;e.onload=e=>{var t;m(null===(t=e.target)||void 0===t?void 0:t.result)},e.readAsDataURL(r)}}})]}),(0,Oe.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,Oe.jsx)("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})]}),(0,Oe.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Oe.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Oe.jsx)("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Adding Product...":"Add Product"})]})]})]})}):null},ga=e=>{let{isOpen:t,onClose:r,onProductUpdated:s,product:n,shop:i}=e;const[l,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(null),[m,g]=(0,a.useState)(null),{register:x,handleSubmit:p,formState:{errors:f},reset:y,watch:b,setValue:v}=ys(),w=b("discount"),j=b("price");(0,a.useEffect)(()=>{var e,r;t&&(k(),n&&(v("name",n.name),v("description",n.description),v("price",n.price),v("quantity",n.quantity),v("category",(null===(e=n.category)||void 0===e||null===(r=e.id)||void 0===r?void 0:r.toString())||""),v("discount",n.discount),v("promotional_price",n.promotional_price||void 0),n.image&&g(n.image)))},[t,n,v]);const k=async()=>{try{const e=await Le.categoriesAPI.getAll();o(e)}catch(e){console.error("Error loading categories:",e)}},N=()=>w>0&&j>0?j-j*w/100:0;return t&&n?(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,Oe.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Product"}),(0,Oe.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,Oe.jsx)(qe,{className:"w-6 h-6"})})]}),(0,Oe.jsxs)("form",{onSubmit:p(async e=>{if(i&&n){d(!0);try{const t=new FormData;t.append("name",e.name),t.append("description",e.description),t.append("price",e.price.toString()),t.append("quantity",e.quantity.toString()),e.category&&t.append("category",e.category),t.append("discount",e.discount.toString()),e.promotional_price&&t.append("promotional_price",e.promotional_price.toString()),u&&t.append("image",u);const a=await Le.shopsAPI.updateProduct(i.shopId,n.productId,t);s(a),r(),y(),h(null),g(null)}catch(t){console.error("Error updating product:",t),alert("Failed to update product. Please try again.")}finally{d(!1)}}else alert("No shop or product selected")}),className:"p-6 space-y-6",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),(0,Oe.jsx)("input",{type:"text",id:"name",...x("name",{required:"Product name is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter product name"}),f.name&&(0,Oe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.name.message})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,Oe.jsx)("textarea",{id:"description",...x("description",{required:"Description is required"}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Describe your product"}),f.description&&(0,Oe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.description.message})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-2",children:"Price (USD) *"}),(0,Oe.jsx)("input",{type:"number",id:"price",step:"0.01",min:"0",...x("price",{required:"Price is required",min:{value:0,message:"Price must be positive"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"0.00"}),f.price&&(0,Oe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.price.message})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity *"}),(0,Oe.jsx)("input",{type:"number",id:"quantity",min:"1",...x("quantity",{required:"Quantity is required",min:{value:1,message:"Quantity must be at least 1"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"1"}),f.quantity&&(0,Oe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.quantity.message})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,Oe.jsxs)("select",{id:"category",...x("category"),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[(0,Oe.jsx)("option",{value:"",children:"Select a category"}),l.map(e=>(0,Oe.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{htmlFor:"discount",className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount (%)"}),(0,Oe.jsx)("input",{type:"number",id:"discount",min:"0",max:"100",...x("discount",{min:{value:0,message:"Discount must be 0 or higher"},max:{value:100,message:"Discount cannot exceed 100%"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"0"}),f.discount&&(0,Oe.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.discount.message})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{htmlFor:"promotional_price",className:"block text-sm font-medium text-gray-700 mb-2",children:"Promotional Price (USD)"}),(0,Oe.jsx)("input",{type:"number",id:"promotional_price",step:"0.01",min:"0",...x("promotional_price",{min:{value:0,message:"Promotional price must be positive"}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:N().toFixed(2)}),w>0&&j>0&&(0,Oe.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Suggested: $",N().toFixed(2)]})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Image"}),(0,Oe.jsx)("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg hover:border-gray-400 transition-colors",children:(0,Oe.jsxs)("div",{className:"space-y-1 text-center",children:[m?(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsx)("img",{src:m,alt:"Preview",className:"mx-auto h-48 w-48 object-cover rounded-lg shadow-md"}),(0,Oe.jsx)("button",{type:"button",onClick:()=>{h(null),g(null)},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",title:"Remove image",children:(0,Oe.jsx)(qe,{className:"w-4 h-4"})})]}):(0,Oe.jsx)(_s,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Oe.jsxs)("div",{className:"flex text-sm text-gray-600",children:[(0,Oe.jsxs)("label",{htmlFor:"image-upload",className:"relative cursor-pointer bg-white rounded-md font-medium text-primary-600 hover:text-primary-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-primary-500",children:[(0,Oe.jsx)("span",{children:"Upload a file"}),(0,Oe.jsx)("input",{id:"image-upload",name:"image-upload",type:"file",accept:"image/*",className:"sr-only",onChange:e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){h(r);const e=new FileReader;e.onload=e=>{var t;g(null===(t=e.target)||void 0===t?void 0:t.result)},e.readAsDataURL(r)}}})]}),(0,Oe.jsx)("p",{className:"pl-1",children:"or drag and drop"})]}),(0,Oe.jsx)("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF up to 10MB"})]})})]}),(0,Oe.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,Oe.jsx)("button",{type:"button",onClick:r,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,Oe.jsx)("button",{type:"submit",disabled:c,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?"Updating Product...":"Update Product"})]})]})]})}):null};function xa(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const pa=a.forwardRef(xa);function fa(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ya=a.forwardRef(fa);function ba(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const va=a.forwardRef(ba),wa=e=>{let{shopId:t}=e;const[r,s]=(0,a.useState)([]),[n,i]=(0,a.useState)([]),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(null),[m,g]=(0,a.useState)({status:"",shop_id:t||""}),x=(0,a.useCallback)(async()=>{try{d(!0);const[e,t,r]=await Promise.all([Le.ordersAPI.getShopOrders(m),Le.shopsAPI.getMyShops(),Le.ordersAPI.getShopOrderStats()]);s(e),i(t),o(r)}catch(e){console.error("Failed to fetch data:",e)}finally{d(!1)}},[m]);(0,a.useEffect)(()=>{t&&g(e=>({...e,shop_id:t}))},[t]),(0,a.useEffect)(()=>{x()},[x]);const p=(e,t)=>{g(r=>({...r,[e]:t}))},f=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800";case"paid":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=e=>"string"===typeof e?e:e&&"object"===typeof e&&(e.username||`${e.first_name||""} ${e.last_name||""}`.trim())||"Unknown User";return(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Oe.jsxs)("div",{className:"mb-8",children:[(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Shop Order Management"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage orders for your shops and track performance"})]}),l&&(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:(0,Oe.jsx)(mt,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),(0,Oe.jsxs)("div",{className:"ml-4",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Orders"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.total_orders})]})]})}),(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900 rounded-lg",children:(0,Oe.jsx)(pa,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400"})}),(0,Oe.jsxs)("div",{className:"ml-4",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Pending Orders"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.pending_orders})]})]})}),(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:(0,Oe.jsx)(We,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,Oe.jsxs)("div",{className:"ml-4",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Completed Orders"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:l.completed_orders})]})]})}),(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:(0,Oe.jsx)(ya,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),(0,Oe.jsxs)("div",{className:"ml-4",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Revenue"}),(0,Oe.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",l.total_revenue.toFixed(2)]})]})]})})]}),(null===l||void 0===l?void 0:l.shop_stats)&&l.shop_stats.length>0&&(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-8",children:[(0,Oe.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center",children:[(0,Oe.jsx)(Ot,{className:"w-5 h-5 mr-2"}),"Shop Performance"]}),(0,Oe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.shop_stats.map(e=>(0,Oe.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,Oe.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-2",children:e.shop_name}),(0,Oe.jsxs)("div",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[(0,Oe.jsxs)("p",{children:["Total Orders: ",e.total_orders]}),(0,Oe.jsxs)("p",{children:["Pending: ",e.pending_orders]}),(0,Oe.jsxs)("p",{children:["Completed: ",e.completed_orders]}),(0,Oe.jsxs)("p",{className:"font-medium text-green-600 dark:text-green-400",children:["Revenue: $",e.total_revenue.toFixed(2)]})]})]},e.shop_id))})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-8",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center",children:[(0,Oe.jsx)(zs,{className:"w-5 h-5 mr-2"}),"Filters"]}),(0,Oe.jsxs)("button",{onClick:x,disabled:c,className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[(0,Oe.jsx)(va,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),(0,Oe.jsxs)("select",{value:m.status,onChange:e=>p("status",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,Oe.jsx)("option",{value:"",children:"All Statuses"}),(0,Oe.jsx)("option",{value:"pending",children:"Pending"}),(0,Oe.jsx)("option",{value:"paid",children:"Paid"}),(0,Oe.jsx)("option",{value:"shipped",children:"Shipped"}),(0,Oe.jsx)("option",{value:"delivered",children:"Delivered"}),(0,Oe.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Shop"}),(0,Oe.jsxs)("select",{value:m.shop_id,onChange:e=>p("shop_id",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,Oe.jsx)("option",{value:"",children:"All Shops"}),n.map(e=>(0,Oe.jsx)("option",{value:e.shopId,children:e.name},e.shopId))]})]})]})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Orders (",r.length,")"]}),c?(0,Oe.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):0===r.length?(0,Oe.jsxs)("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:["No orders found. ",m.status||m.shop_id?"Try adjusting your filters.":""]}):(0,Oe.jsx)("div",{className:"space-y-4",children:r.map(e=>(0,Oe.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsxs)("h3",{className:"font-medium text-gray-900 dark:text-white",children:["Order #",e.id]}),(0,Oe.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f(e.status)}`,children:e.status})]}),(0,Oe.jsx)("div",{className:"flex items-center space-x-2",children:(0,Oe.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["$",e.total.toFixed(2)]})})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2 mb-3",children:[(0,Oe.jsxs)("button",{onClick:()=>h(e),className:"flex items-center px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:[(0,Oe.jsx)(js,{className:"w-3 h-3 mr-1"}),"Details"]}),"shipped"===e.status&&(0,Oe.jsxs)("button",{onClick:()=>(async e=>{try{d(!0);const t=await Le.ordersAPI.completeOrder(e);s(r=>r.map(r=>r.id===e?t:r));const r=await Le.ordersAPI.getShopOrderStats();o(r)}catch(t){console.error("Failed to complete order:",t)}finally{d(!1)}})(e.id),disabled:c,className:"flex items-center px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50",children:[(0,Oe.jsx)(We,{className:"w-3 h-3 mr-1"}),"Mark Complete"]})]}),(0,Oe.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:[(0,Oe.jsxs)("p",{children:["Shop: ",e.shop.name]}),(0,Oe.jsxs)("p",{children:["Customer: ",y(e.user)]}),(0,Oe.jsxs)("p",{children:["Items: ",e.total_items]}),(0,Oe.jsxs)("p",{children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]})]},e.id))})]}),u&&(0,Oe.jsxs)("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Order Details - #",u.id]}),(0,Oe.jsx)("button",{onClick:()=>h(null),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:(0,Oe.jsx)(js,{className:"w-5 h-5"})})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Order Information"}),(0,Oe.jsxs)("div",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"ID:"})," ",u.id]}),(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Status:"})," ",u.status]}),(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Total:"})," $",u.total.toFixed(2)]}),(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Items:"})," ",u.total_items]}),(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Created:"})," ",new Date(u.created_at).toLocaleString()]})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Customer Information"}),(0,Oe.jsxs)("div",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Customer:"})," ",y(u.user)]}),(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Shop:"})," ",u.shop.name]}),(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Location:"})," ",u.shop.location]})]})]})]}),(0,Oe.jsxs)("div",{className:"mt-4",children:[(0,Oe.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Order Items"}),(0,Oe.jsx)("div",{className:"space-y-2",children:u.items.map(e=>(0,Oe.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.product.name}),(0,Oe.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Qty: ",e.quantity]})]}),(0,Oe.jsxs)("p",{className:"font-medium text-gray-900 dark:text-white",children:["$",e.total_price.toFixed(2)]})]},e.id))})]})]})]})})};function ja(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const ka=a.forwardRef(ja);function Na(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const Sa=a.forwardRef(Na),_a=e=>{let{shop:t,onShopUpdate:r}=e;const{user:s}=Fe(),[n,i]=(0,a.useState)(t),[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)("basic"),[u,h]=(0,a.useState)(!1),[m,g]=(0,a.useState)(null),[x,p]=(0,a.useState)({});(0,a.useEffect)(()=>{i(t),p(t)},[t]);const f=()=>{o(!0),p({...n})},y=(e,t)=>{p(r=>({...r,[e]:t}))},b=e=>{switch(e){case"approved":return"text-green-600 bg-green-100";case"pending":return"text-yellow-600 bg-yellow-100";case"rejected":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},v=e=>{switch(e){case"approved":return(0,Oe.jsx)(oa,{className:"w-5 h-5"});case"pending":return(0,Oe.jsx)(pa,{className:"w-5 h-5"});case"rejected":return(0,Oe.jsx)(Ms,{className:"w-5 h-5"});default:return(0,Oe.jsx)(ka,{className:"w-5 h-5"})}},w=[{id:"basic",label:"Basic Info",icon:ut},{id:"business",label:"Business Details",icon:Mt},{id:"verification",label:"Verification",icon:oa},{id:"settings",label:"Settings",icon:Mt},{id:"performance",label:"Performance",icon:Ot}];return(0,Oe.jsxs)("div",{className:"max-w-6xl mx-auto p-6",children:[(0,Oe.jsxs)("div",{className:"mb-8",children:[(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Shop Profile Management"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your shop information, business details, and verification status"})]}),m&&(0,Oe.jsx)("div",{className:"mb-6 p-4 rounded-lg "+("success"===m.type?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 border border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 border border-red-200 dark:border-red-800"),children:m.text}),l&&(0,Oe.jsxs)("div",{className:"mb-6 flex items-center space-x-3",children:[(0,Oe.jsxs)("button",{onClick:async()=>{h(!0);try{const e=await Le.shopsAPI.updateShop(n.shopId,x);i(e),o(!1),null===r||void 0===r||r(e),g({type:"success",text:"Shop profile updated successfully!"}),setTimeout(()=>g(null),5e3)}catch(e){console.error("Error updating shop:",e),g({type:"error",text:"Failed to update shop profile. Please try again."}),setTimeout(()=>g(null),5e3)}finally{h(!1)}},disabled:u,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[(0,Oe.jsx)(bt,{className:"w-4 h-4 mr-2"}),u?"Saving...":"Save Changes"]}),(0,Oe.jsxs)("button",{onClick:()=>{o(!1),p({...n})},className:"flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[(0,Oe.jsx)(qe,{className:"w-4 h-4 mr-2"}),"Cancel"]})]}),(0,Oe.jsx)("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg mb-6",children:w.map(e=>{const t=e.icon;return(0,Oe.jsxs)("button",{onClick:()=>d(e.id),className:"flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors "+(c===e.id?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"),children:[(0,Oe.jsx)(t,{className:"w-4 h-4 mr-2"}),e.label]},e.id)})}),(0,Oe.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-xl p-6",children:["basic"===c&&(0,Oe.jsxs)("div",{className:"space-y-6",children:[(0,Oe.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-xl p-6 text-white",children:(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsx)("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center",children:n.logo?(0,Oe.jsx)("img",{src:n.logo,alt:n.name,className:"w-14 h-14 rounded-full object-cover"}):(0,Oe.jsx)(ut,{className:"w-8 h-8"})}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("h2",{className:"text-2xl font-bold",children:n.name}),(0,Oe.jsx)("p",{className:"text-blue-100",children:n.business_category}),(0,Oe.jsxs)("div",{className:"flex items-center mt-2 space-x-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(Ut,{className:"w-4 h-4 text-yellow-400 mr-1"}),(0,Oe.jsxs)("span",{children:[n.average_rating.toFixed(1)," (",n.total_reviews," reviews)"]})]}),(0,Oe.jsx)("div",{className:`px-2 py-1 rounded-full text-xs font-medium ${b(n.verification_status)}`,children:(0,Oe.jsxs)("div",{className:"flex items-center space-x-1",children:[v(n.verification_status),(0,Oe.jsx)("span",{className:"capitalize",children:n.verification_status.replace("_"," ")})]})})]})]}),!l&&(0,Oe.jsx)("button",{onClick:f,className:"bg-white/20 hover:bg-white/30 p-2 rounded-lg transition-colors",children:(0,Oe.jsx)(da,{className:"w-5 h-5"})})]})}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Contact Information"}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)(Es,{className:"w-5 h-5 text-gray-400"}),l?(0,Oe.jsx)("input",{type:"tel",value:x.phone||"",onChange:e=>y("phone",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"}):(0,Oe.jsx)("span",{className:"text-gray-900 dark:text-white",children:n.phone})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)(As,{className:"w-5 h-5 text-gray-400"}),l?(0,Oe.jsx)("input",{type:"email",value:x.email||"",onChange:e=>y("email",e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"}):(0,Oe.jsx)("span",{className:"text-gray-900 dark:text-white",children:n.email})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)(Is,{className:"w-5 h-5 text-gray-400"}),l?(0,Oe.jsx)("input",{type:"url",value:x.website_url||"",onChange:e=>y("website_url",e.target.value),placeholder:"https://yourwebsite.com",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"}):(0,Oe.jsx)("a",{href:n.website_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800",children:n.website_url||"No website"})]}),(0,Oe.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Oe.jsx)(Kt,{className:"w-5 h-5 text-gray-400 mt-0.5"}),(0,Oe.jsx)("div",{className:"flex-1",children:l?(0,Oe.jsxs)("div",{className:"space-y-2",children:[(0,Oe.jsx)("input",{type:"text",value:x.street||"",onChange:e=>y("street",e.target.value),placeholder:"Street address",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"}),(0,Oe.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,Oe.jsx)("input",{type:"text",value:x.city||"",onChange:e=>y("city",e.target.value),placeholder:"City",className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"}),(0,Oe.jsx)("input",{type:"text",value:x.country||"",onChange:e=>y("country",e.target.value),placeholder:"Country",className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]})]}):(0,Oe.jsxs)("div",{className:"text-gray-900 dark:text-white",children:[(0,Oe.jsx)("div",{children:n.street}),(0,Oe.jsxs)("div",{children:[n.city,", ",n.country]})]})})]})]})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Description"}),l?(0,Oe.jsx)("textarea",{value:x.description||"",onChange:e=>y("description",e.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Tell customers about your shop..."}):(0,Oe.jsx)("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:n.description||"No description provided."})]})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Views"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.views.toLocaleString()})]}),(0,Oe.jsx)(js,{className:"w-8 h-8 text-blue-600"})]})}),(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Orders"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.total_orders.toLocaleString()})]}),(0,Oe.jsx)(ut,{className:"w-8 h-8 text-green-600"})]})}),(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Sales"}),(0,Oe.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",n.total_sales.toLocaleString()]})]}),(0,Oe.jsx)(Sa,{className:"w-8 h-8 text-purple-600"})]})}),(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Response Rate"}),(0,Oe.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[n.response_rate,"%"]})]}),(0,Oe.jsx)(Ot,{className:"w-8 h-8 text-orange-600"})]})})]})]}),"business"===c&&(()=>{var e,t,r;return(0,Oe.jsxs)("div",{className:"space-y-6",children:[(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Business Registration"}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Business Type"}),l?(0,Oe.jsxs)("select",{value:x.business_type||"",onChange:e=>y("business_type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[(0,Oe.jsx)("option",{value:"",children:"Select business type"}),(0,Oe.jsx)("option",{value:"sole_proprietorship",children:"Sole Proprietorship"}),(0,Oe.jsx)("option",{value:"partnership",children:"Partnership"}),(0,Oe.jsx)("option",{value:"corporation",children:"Corporation"}),(0,Oe.jsx)("option",{value:"llc",children:"LLC"}),(0,Oe.jsx)("option",{value:"other",children:"Other"})]}):(0,Oe.jsx)("p",{className:"text-gray-900 dark:text-white capitalize",children:(null===(e=n.business_type)||void 0===e?void 0:e.replace("_"," "))||"Not specified"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Business Category"}),l?(0,Oe.jsx)("input",{type:"text",value:x.business_category||"",onChange:e=>y("business_category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"e.g., Electronics, Fashion, Food"}):(0,Oe.jsx)("p",{className:"text-gray-900 dark:text-white",children:n.business_category||"Not specified"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Registration Number"}),l?(0,Oe.jsx)("input",{type:"text",value:x.business_registration_number||"",onChange:e=>y("business_registration_number",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Business registration number"}):(0,Oe.jsx)("p",{className:"text-gray-900 dark:text-white",children:n.business_registration_number||"Not provided"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tax ID Number"}),l?(0,Oe.jsx)("input",{type:"text",value:x.tax_identification_number||"",onChange:e=>y("tax_identification_number",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Tax identification number"}):(0,Oe.jsx)("p",{className:"text-gray-900 dark:text-white",children:n.tax_identification_number||"Not provided"})]})]})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Operating Hours"}),(0,Oe.jsx)("div",{className:"space-y-3",children:["monday","tuesday","wednesday","thursday","friday","saturday","sunday"].map(e=>{var t,r,s,a,i,o,c,d,u,h,m,g,p,f;return(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsx)("span",{className:"w-24 text-sm font-medium text-gray-700 dark:text-gray-300 capitalize",children:e}),l?(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("input",{type:"time",value:(null===(t=x.operating_hours)||void 0===t||null===(r=t[e])||void 0===r?void 0:r.open)||"",onChange:t=>y(`operating_hours.${e}.open`,t.target.value),className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"}),(0,Oe.jsx)("span",{children:"to"}),(0,Oe.jsx)("input",{type:"time",value:(null===(s=x.operating_hours)||void 0===s||null===(a=s[e])||void 0===a?void 0:a.close)||"",onChange:t=>y(`operating_hours.${e}.close`,t.target.value),className:"px-2 py-1 border border-gray-300 dark:border-gray-600 rounded focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"}),(0,Oe.jsxs)("label",{className:"flex items-center",children:[(0,Oe.jsx)("input",{type:"checkbox",checked:(null===(i=x.operating_hours)||void 0===i||null===(o=i[e])||void 0===o?void 0:o.closed)||!1,onChange:t=>y(`operating_hours.${e}.closed`,t.target.checked),className:"mr-1"}),(0,Oe.jsx)("span",{className:"text-sm",children:"Closed"})]})]}):(0,Oe.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:null!==(c=n.operating_hours)&&void 0!==c&&null!==(d=c[e])&&void 0!==d&&d.closed?"Closed":null!==(u=n.operating_hours)&&void 0!==u&&null!==(h=u[e])&&void 0!==h&&h.open&&null!==(m=n.operating_hours)&&void 0!==m&&null!==(g=m[e])&&void 0!==g&&g.close?`${null===(p=n.operating_hours[e])||void 0===p?void 0:p.open} - ${null===(f=n.operating_hours[e])||void 0===f?void 0:f.close}`:"Not set"})]},e)})})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Payment Methods"}),l?(0,Oe.jsx)("div",{className:"space-y-2",children:["Cash","Credit Card","Debit Card","PayPal","Bank Transfer","Mobile Money"].map(e=>{var t;return(0,Oe.jsxs)("label",{className:"flex items-center",children:[(0,Oe.jsx)("input",{type:"checkbox",checked:(null===(t=x.payment_methods)||void 0===t?void 0:t.includes(e))||!1,onChange:t=>{const r=x.payment_methods||[];t.target.checked?y("payment_methods",[...r,e]):y("payment_methods",r.filter(t=>t!==e))},className:"mr-2"}),(0,Oe.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:e})]},e)})}):(0,Oe.jsx)("div",{className:"flex flex-wrap gap-2",children:(null===(t=n.payment_methods)||void 0===t?void 0:t.map(e=>(0,Oe.jsx)("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 rounded text-sm",children:e},e)))||(0,Oe.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"None specified"})})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Delivery Options"}),l?(0,Oe.jsx)("div",{className:"space-y-2",children:["Pickup","Local Delivery","National Shipping","International Shipping","Same Day Delivery"].map(e=>{var t;return(0,Oe.jsxs)("label",{className:"flex items-center",children:[(0,Oe.jsx)("input",{type:"checkbox",checked:(null===(t=x.delivery_options)||void 0===t?void 0:t.includes(e))||!1,onChange:t=>{const r=x.delivery_options||[];t.target.checked?y("delivery_options",[...r,e]):y("delivery_options",r.filter(t=>t!==e))},className:"mr-2"}),(0,Oe.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:e})]},e)})}):(0,Oe.jsx)("div",{className:"flex flex-wrap gap-2",children:(null===(r=n.delivery_options)||void 0===r?void 0:r.map(e=>(0,Oe.jsx)("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-200 rounded text-sm",children:e},e)))||(0,Oe.jsx)("span",{className:"text-gray-500 dark:text-gray-400",children:"None specified"})})]})]})]})})(),"verification"===c&&(0,Oe.jsxs)("div",{className:"text-center py-12",children:[(0,Oe.jsx)(oa,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Verification Center"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Business verification features coming soon!"})]}),"settings"===c&&(0,Oe.jsxs)("div",{className:"text-center py-12",children:[(0,Oe.jsx)(Mt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Shop Settings"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Advanced settings panel coming soon!"})]}),"performance"===c&&(0,Oe.jsxs)("div",{className:"text-center py-12",children:[(0,Oe.jsx)(Ot,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Performance Analytics"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Detailed analytics dashboard coming soon!"})]})]})]})};function Ca(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Ea=a.forwardRef(Ca);function Pa(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const Aa=a.forwardRef(Pa);function Ra(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 16.5V9.75m0 0 3 3m-3-3-3 3M6.75 19.5a4.5 4.5 0 0 1-1.41-8.775 5.25 5.25 0 0 1 10.233-2.33 3 3 0 0 1 3.758 3.848A3.752 3.752 0 0 1 18 19.5H6.75Z"}))}const Ia=a.forwardRef(Ra),Oa=e=>{var t;let{shop:r,onVerificationUpdate:s}=e;const{user:n}=Fe(),[i,l]=(0,a.useState)((null===(t=r.verification_documents)||void 0===t?void 0:t.map(e=>"string"===typeof e?{id:Math.random().toString(36).substr(2,9),name:e,type:"other",file:null,url:void 0,uploadedAt:void 0,status:"pending",rejectionReason:void 0}:{id:e.id||Math.random().toString(36).substr(2,9),name:e.name||"",type:e.type||"other",file:null,url:e.url,uploadedAt:e.uploadedAt,status:e.status||"pending",rejectionReason:e.rejectionReason}))||[]),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(null),[h,m]=(0,a.useState)(null),g=[{value:"business_license",label:"Business License",required:!0},{value:"tax_certificate",label:"Tax Certificate",required:!0},{value:"identity_document",label:"Identity Document",required:!0},{value:"bank_statement",label:"Bank Statement",required:!1},{value:"utility_bill",label:"Utility Bill",required:!1},{value:"other",label:"Other Document",required:!1}],x=(e,t)=>{l(i.map(r=>r.id===e?{...r,...t}:r))},p=(0,a.useCallback)(async(e,t)=>{u(e);try{await new Promise(e=>setTimeout(e,2e3));const r=t.name,s=URL.createObjectURL(t);x(e,{file:t,name:r,url:s,uploadedAt:(new Date).toISOString(),status:"pending"}),m({type:"success",text:`Document "${r}" uploaded successfully!`})}catch(r){console.error("Error uploading file:",r),m({type:"error",text:"Failed to upload document. Please try again."})}finally{u(null),setTimeout(()=>m(null),5e3)}},[]),f=(()=>{switch(r.verification_status){case"not_started":return{icon:(0,Oe.jsx)(ka,{className:"w-8 h-8 text-gray-400"}),title:"Verification Not Started",description:"Upload required documents to begin the verification process.",color:"gray"};case"pending":return{icon:(0,Oe.jsx)(pa,{className:"w-8 h-8 text-yellow-500"}),title:"Verification Pending",description:"Your documents are being reviewed. This usually takes 2-5 business days.",color:"yellow"};case"under_review":return{icon:(0,Oe.jsx)(pa,{className:"w-8 h-8 text-blue-500"}),title:"Under Review",description:"Our team is currently reviewing your submitted documents.",color:"blue"};case"approved":return{icon:(0,Oe.jsx)(oa,{className:"w-8 h-8 text-green-500"}),title:"Verification Approved",description:"Your business has been successfully verified!",color:"green"};case"rejected":return{icon:(0,Oe.jsx)(Ms,{className:"w-8 h-8 text-red-500"}),title:"Verification Rejected",description:"Some documents need to be resubmitted. Please check the feedback below.",color:"red"};default:return{icon:(0,Oe.jsx)(ka,{className:"w-8 h-8 text-gray-400"}),title:"Unknown Status",description:"Please contact support for assistance.",color:"gray"}}})();return(0,Oe.jsxs)("div",{className:"max-w-4xl mx-auto p-6",children:[(0,Oe.jsxs)("div",{className:"mb-8",children:[(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Business Verification"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Verify your business to build trust with customers and unlock additional features"})]}),h&&(0,Oe.jsxs)("div",{className:"mb-6 p-4 rounded-lg flex items-start space-x-3 "+("success"===h.type?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400 border border-green-200 dark:border-green-800":"error"===h.type?"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 border border-red-200 dark:border-red-800":"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 border border-blue-200 dark:border-blue-800"),children:[(0,Oe.jsx)(Ea,{className:"w-5 h-5 mt-0.5 flex-shrink-0"}),(0,Oe.jsx)("span",{children:h.text})]}),(0,Oe.jsx)("div",{className:"mb-8 p-6 rounded-xl border-2 "+("green"===f.color?"border-green-200 bg-green-50 dark:border-green-800 dark:bg-green-900/20":"yellow"===f.color?"border-yellow-200 bg-yellow-50 dark:border-yellow-800 dark:bg-yellow-900/20":"blue"===f.color?"border-blue-200 bg-blue-50 dark:border-blue-800 dark:bg-blue-900/20":"red"===f.color?"border-red-200 bg-red-50 dark:border-red-800 dark:bg-red-900/20":"border-gray-200 bg-gray-50 dark:border-gray-700 dark:bg-gray-800"),children:(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[f.icon,(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h2",{className:"text-xl font-semibold "+("green"===f.color?"text-green-900 dark:text-green-100":"yellow"===f.color?"text-yellow-900 dark:text-yellow-100":"blue"===f.color?"text-blue-900 dark:text-blue-100":"red"===f.color?"text-red-900 dark:text-red-100":"text-gray-900 dark:text-gray-100"),children:f.title}),(0,Oe.jsx)("p",{className:""+("green"===f.color?"text-green-700 dark:text-green-300":"yellow"===f.color?"text-yellow-700 dark:text-yellow-300":"blue"===f.color?"text-blue-700 dark:text-blue-300":"red"===f.color?"text-red-700 dark:text-red-300":"text-gray-700 dark:text-gray-300"),children:f.description}),r.verification_date&&(0,Oe.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:["Verified on ",new Date(r.verification_date).toLocaleDateString()]})]})]})}),(0,Oe.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Required Documents"}),(0,Oe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:g.filter(e=>e.required).map(e=>(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)(oa,{className:"w-5 h-5 text-blue-600"}),(0,Oe.jsx)("span",{className:"text-blue-800 dark:text-blue-200",children:e.label})]},e.value))}),(0,Oe.jsx)("p",{className:"text-blue-700 dark:text-blue-300 text-sm mt-2",children:"These documents are required for business verification. Additional documents may be requested during review."})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm mb-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Verification Documents"}),"approved"!==r.verification_status&&(0,Oe.jsxs)("button",{onClick:()=>{const e={id:Math.random().toString(36).substr(2,9),name:"",type:"other",file:null,status:"pending"};l([...i,e])},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Oe.jsx)(wt,{className:"w-4 h-4 mr-2"}),"Add Document"]})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[i.map(e=>(0,Oe.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,Oe.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Oe.jsxs)("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Document Type"}),(0,Oe.jsx)("select",{value:e.type,onChange:t=>x(e.id,{type:t.target.value}),disabled:"approved"===r.verification_status,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white disabled:opacity-50",children:g.map(e=>(0,Oe.jsxs)("option",{value:e.value,children:[e.label," ",e.required&&"*"]},e.value))})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Document Name"}),(0,Oe.jsx)("input",{type:"text",value:e.name,onChange:t=>x(e.id,{name:t.target.value}),disabled:"approved"===r.verification_status,placeholder:"Enter document name",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white disabled:opacity-50"})]})]}),"approved"!==r.verification_status&&(0,Oe.jsx)("button",{onClick:()=>{return t=e.id,void l(i.filter(e=>e.id!==t));var t},className:"ml-4 p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:(0,Oe.jsx)(ha,{className:"w-4 h-4"})})]}),"approved"!==r.verification_status&&(0,Oe.jsxs)("div",{className:"mb-4",children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Upload File"}),(0,Oe.jsx)("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6 text-center",children:d===e.id?(0,Oe.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),(0,Oe.jsx)("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:"Uploading..."})]}):e.url?(0,Oe.jsxs)("div",{className:"flex items-center justify-center space-x-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)(ka,{className:"w-6 h-6 text-green-600"}),(0,Oe.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("button",{onClick:()=>window.open(e.url,"_blank"),className:"p-1 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded",children:(0,Oe.jsx)(js,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{onClick:()=>{const t=document.createElement("a");t.href=e.url,t.download=e.name,t.click()},className:"p-1 text-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700 rounded",children:(0,Oe.jsx)(Aa,{className:"w-4 h-4"})})]})]}):(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)(Ia,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),(0,Oe.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:["Drop your file here, or"," ",(0,Oe.jsxs)("label",{className:"text-blue-600 hover:text-blue-700 cursor-pointer",children:["browse",(0,Oe.jsx)("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:t=>{var r;const s=null===(r=t.target.files)||void 0===r?void 0:r[0];s&&p(e.id,s)},className:"hidden"})]})]}),(0,Oe.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"PDF, JPG, PNG, DOC up to 10MB"})]})})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("div",{className:"w-3 h-3 rounded-full "+("approved"===e.status?"bg-green-500":"rejected"===e.status?"bg-red-500":"bg-yellow-500")}),(0,Oe.jsx)("span",{className:"text-sm font-medium "+("approved"===e.status?"text-green-700 dark:text-green-400":"rejected"===e.status?"text-red-700 dark:text-red-400":"text-yellow-700 dark:text-yellow-400"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),e.uploadedAt&&(0,Oe.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Uploaded ",new Date(e.uploadedAt).toLocaleDateString()]})]}),"rejected"===e.status&&e.rejectionReason&&(0,Oe.jsx)("div",{className:"mt-3 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:(0,Oe.jsxs)("p",{className:"text-sm text-red-700 dark:text-red-400",children:[(0,Oe.jsx)("strong",{children:"Rejection Reason:"})," ",e.rejectionReason]})})]},e.id)),0===i.length&&(0,Oe.jsxs)("div",{className:"text-center py-8",children:[(0,Oe.jsx)(ka,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No documents uploaded yet. Add your first document to begin verification."})]})]})]}),"approved"!==r.verification_status&&i.some(e=>e.url)&&(0,Oe.jsx)("div",{className:"flex justify-center",children:(0,Oe.jsx)("button",{onClick:async()=>{c(!0);try{const e=g.filter(e=>e.required).map(e=>e.value),t=i.filter(e=>e.file||e.url).map(e=>e.type),a=e.filter(e=>!t.some(t=>t===e));if(a.length>0){const e=a.map(e=>{var t;return null===(t=g.find(t=>t.value===e))||void 0===t?void 0:t.label}).join(", ");return void m({type:"error",text:`Please upload required documents: ${e}`})}await new Promise(e=>setTimeout(e,2e3));const n={...r,verification_status:"pending",verification_documents:i.map(e=>({id:e.id,name:e.name,type:e.type,url:e.url,uploadedAt:e.uploadedAt,status:e.status,rejectionReason:e.rejectionReason}))};null===s||void 0===s||s(n),m({type:"success",text:"Verification documents submitted successfully! You will receive an update within 2-5 business days."})}catch(e){console.error("Error submitting verification:",e),m({type:"error",text:"Failed to submit verification. Please try again."})}finally{c(!1),setTimeout(()=>m(null),7e3)}},disabled:o||"pending"===r.verification_status||"under_review"===r.verification_status,className:"px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:o?"Submitting...":"pending"===r.verification_status||"under_review"===r.verification_status?"Already Submitted":"Submit for Verification"})})]})},Ta=()=>{var e,t;const{activeShop:r,userShops:s,user:n}=Fe(),[i,l]=(0,a.useState)([]),[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)([]),[h,m]=(0,a.useState)(!0),[g,x]=(0,a.useState)(!1),[p,f]=(0,a.useState)("overview"),[y,b]=(0,a.useState)(!1),[v,w]=(0,a.useState)(!1),[j,k]=(0,a.useState)(null),[N,S]=(0,a.useState)(!1),[_,C]=(0,a.useState)(null);(0,a.useEffect)(()=>{r?c(r):s.length>0&&c(s[0]),l(s)},[r,s]);(0,a.useEffect)(()=>{(async()=>{x(!0);try{const e=await Le.shopsAPI.getMyShops();l(e),e.length>0&&c(e[0])}catch(e){console.error("Error loading user shops:",e);const t=[qs({shopId:"1",name:"My Awesome Shop",description:"A fantastic shop with amazing products",shopowner:{id:1,username:"shopowner",email:"shop@example.com",first_name:"Shop",last_name:"Owner",date_joined:"2024-01-01T00:00:00Z"}})];l(t),c(t[0])}finally{x(!1),m(!1)}})()},[]);const E=(0,a.useCallback)(async()=>{if(o){w(!0);try{const e=await Le.shopsAPI.getProducts(o.shopId);u(e)}catch(e){console.error("Error loading products:",e),u([{productId:"1",name:"Sample Product 1",description:"This is a sample product description for demonstration purposes.",price:29.99,quantity:50,image:null,category:null,tags:[],discount:10,promotional_price:26.99,is_active:!0,shops:[]},{productId:"2",name:"Sample Product 2",description:"Another sample product for testing the dashboard functionality.",price:49.99,quantity:25,image:null,category:null,tags:[],discount:0,promotional_price:null,is_active:!0,shops:[]}])}finally{w(!1)}}},[o]);(0,a.useEffect)(()=>{o&&E()},[o,E]);const P=()=>{b(!0)},A=[{title:"Total Sales",value:`$${(null===o||void 0===o?void 0:o.total_sales.toLocaleString())||"0"}`,change:"+12.5%",changeType:"positive",icon:Mt},{title:"Total Orders",value:(null!==(e=null===o||void 0===o?void 0:o.total_orders)&&void 0!==e?e:0).toString(),change:"+8.2%",changeType:"positive",icon:mt},{title:"Shop Views",value:(null!==(t=null===o||void 0===o?void 0:o.views)&&void 0!==t?t:0).toString(),change:"+15.3%",changeType:"positive",icon:Ot},{title:"Average Rating",value:"4.5",change:"+0.2",changeType:"positive",icon:Mt}];return h?(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-500"})}):0===i.length?(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)(ut,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),(0,Oe.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"No Shops Found"}),(0,Oe.jsx)("p",{className:"text-gray-600 mb-6",children:"You don't have any shops yet. Create your first shop to get started."}),(0,Oe.jsx)("button",{onClick:()=>window.location.href="/create-shop",className:"bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors",children:"Create Your First Shop"})]})}):(0,Oe.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,Oe.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Shop Dashboard"}),(0,Oe.jsx)("p",{className:"text-gray-600 mt-1",children:"Manage your shop, products, and orders"})]}),i.length>1&&(0,Oe.jsxs)("div",{className:"ml-6",children:[(0,Oe.jsx)("label",{htmlFor:"shop-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Shop"}),(0,Oe.jsx)("select",{id:"shop-select",value:(null===o||void 0===o?void 0:o.shopId)||"",onChange:e=>{const t=i.find(t=>t.shopId===e.target.value);c(t||null)},className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:i.map(e=>(0,Oe.jsx)("option",{value:e.shopId,children:e.name},e.shopId))})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsxs)("button",{onClick:P,className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:[(0,Oe.jsx)(wt,{className:"w-4 h-4 mr-2 inline"}),"Add Product"]}),(0,Oe.jsxs)("button",{className:"border border-gray-300 text-gray-700 px-4 py-2 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,Oe.jsx)(Mt,{className:"w-4 h-4 mr-2 inline"}),"Settings"]})]})]}),o&&(0,Oe.jsx)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[o.logo?(0,Oe.jsx)("img",{src:o.logo,alt:o.name,className:"w-12 h-12 rounded-lg object-cover"}):(0,Oe.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-lg flex items-center justify-center",children:(0,Oe.jsx)(ut,{className:"w-6 h-6 text-primary-600"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:o.name}),(0,Oe.jsx)("p",{className:"text-sm text-gray-600",children:o.location}),(0,Oe.jsxs)("p",{className:"text-xs text-gray-500",children:["Status: ",o.status]})]})]})})]})}),(0,Oe.jsx)("div",{className:"bg-white border-b border-gray-200",children:(0,Oe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,Oe.jsx)("nav",{className:"flex space-x-8",children:[{id:"overview",label:"Overview",icon:Ot},{id:"products",label:"Products",icon:mt},{id:"orders",label:"Orders",icon:Mt},{id:"profile",label:"Shop Profile",icon:rt},{id:"verification",label:"Verification",icon:oa},{id:"analytics",label:"Analytics",icon:Ot},{id:"settings",label:"Settings",icon:Mt}].map(e=>(0,Oe.jsxs)("button",{onClick:()=>f(e.id),className:"py-4 px-1 border-b-2 font-medium text-sm flex items-center "+(p===e.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,Oe.jsx)(e.icon,{className:"w-4 h-4 mr-2"}),e.label]},e.id))})})}),(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["overview"===p&&(0,Oe.jsxs)("div",{className:"space-y-6",children:[(0,Oe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:A.map((e,t)=>(0,Oe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)("div",{className:"flex-shrink-0",children:(0,Oe.jsx)(e.icon,{className:"w-8 h-8 text-primary-600"})}),(0,Oe.jsxs)("div",{className:"ml-4 flex-1",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-500",children:e.title}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.value})]})]}),(0,Oe.jsxs)("div",{className:"mt-4",children:[(0,Oe.jsx)("span",{className:"text-sm font-medium "+("positive"===e.changeType?"text-green-600":"text-red-600"),children:e.change}),(0,Oe.jsx)("span",{className:"text-sm text-gray-500 ml-1",children:"from last month"})]})]},t))}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Oe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Orders"}),(0,Oe.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,Oe.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsxs)("p",{className:"font-medium text-gray-900",children:["Order #",1e3+e]}),(0,Oe.jsx)("p",{className:"text-sm text-gray-600",children:"Customer Name"})]}),(0,Oe.jsxs)("div",{className:"text-right",children:[(0,Oe.jsx)("p",{className:"font-medium text-gray-900",children:"$150"}),(0,Oe.jsx)("p",{className:"text-sm text-green-600",children:"Completed"})]})]},e))})]}),(0,Oe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Top Products"}),(0,Oe.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-lg flex items-center justify-center",children:(0,Oe.jsxs)("span",{className:"text-sm font-medium text-gray-600",children:["P",e]})}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsxs)("p",{className:"font-medium text-gray-900",children:["Product ",e]}),(0,Oe.jsxs)("p",{className:"text-sm text-gray-600",children:[20+5*e," sales"]})]}),(0,Oe.jsx)("div",{className:"text-right",children:(0,Oe.jsxs)("p",{className:"font-medium text-gray-900",children:["$",50+10*e]})})]},e))})]})]})]}),"products"===p&&(0,Oe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,Oe.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Products"}),(0,Oe.jsxs)("button",{onClick:P,className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700 transition-colors",children:[(0,Oe.jsx)(wt,{className:"w-4 h-4 mr-2 inline"}),"Add Product"]})]})}),(0,Oe.jsx)("div",{className:"p-6",children:v?(0,Oe.jsxs)("div",{className:"text-center py-8",children:[(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-500 mx-auto"}),(0,Oe.jsx)("h3",{className:"mt-4 text-sm font-medium text-gray-900",children:"Loading products..."}),(0,Oe.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Please wait while we fetch your products"})]}):0===d.length?(0,Oe.jsxs)("div",{className:"text-center py-8",children:[(0,Oe.jsx)(mt,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Oe.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No products"}),(0,Oe.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by adding your first product."}),(0,Oe.jsx)("div",{className:"mt-6",children:(0,Oe.jsxs)("button",{onClick:P,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700",children:[(0,Oe.jsx)(wt,{className:"w-4 h-4 mr-2"}),"Add Product"]})})]}):(0,Oe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:d.map(e=>(0,Oe.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[(0,Oe.jsxs)("div",{className:"aspect-square bg-gray-100",children:[e.image?(0,Oe.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover",onError:e=>{var t;const r=e.target;r.style.display="none",null===(t=r.nextElementSibling)||void 0===t||t.classList.remove("hidden")}}):null,(0,Oe.jsx)("div",{className:"w-full h-full flex items-center justify-center "+(e.image?"hidden":""),children:(0,Oe.jsx)(_s,{className:"w-12 h-12 text-gray-400"})})]}),(0,Oe.jsxs)("div",{className:"p-4",children:[(0,Oe.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-1 line-clamp-2",children:e.name}),(0,Oe.jsx)("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:e.description}),(0,Oe.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,Oe.jsx)("div",{className:"flex items-center space-x-2",children:e.promotional_price&&e.promotional_price<e.price?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsxs)("span",{className:"text-lg font-bold text-primary-600",children:["$",e.promotional_price.toFixed(2)]}),(0,Oe.jsxs)("span",{className:"text-sm text-gray-500 line-through",children:["$",e.price.toFixed(2)]}),e.discount>0&&(0,Oe.jsxs)("span",{className:"text-xs bg-red-100 text-red-600 px-2 py-1 rounded-full",children:["-",e.discount,"%"]})]}):(0,Oe.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:["$",e.price.toFixed(2)]})})}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,Oe.jsxs)("span",{children:["Qty: ",e.quantity]}),(0,Oe.jsx)("span",{className:"px-2 py-1 rounded-full text-xs "+(e.is_active?"bg-green-100 text-green-600":"bg-red-100 text-red-600"),children:e.is_active?"Active":"Inactive"})]}),(0,Oe.jsxs)("div",{className:"flex space-x-1",children:[(0,Oe.jsx)("button",{onClick:()=>(e=>{k(e),S(!0)})(e),className:"p-2 text-gray-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:"Edit Product",children:(0,Oe.jsx)(da,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{onClick:()=>(async e=>{if(o&&window.confirm("Are you sure you want to delete this product?")){C(e);try{await Le.shopsAPI.deleteProduct(o.shopId,e),u(t=>t.filter(t=>t.productId!==e))}catch(t){console.error("Error deleting product:",t),alert("Failed to delete product. Please try again.")}finally{C(null)}}})(e.productId),disabled:_===e.productId,className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",title:"Delete Product",children:_===e.productId?(0,Oe.jsx)("div",{className:"w-4 h-4 border-2 border-red-600 border-t-transparent rounded-full animate-spin"}):(0,Oe.jsx)(ha,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{onClick:()=>(async e=>{if(o)try{const t=new FormData;t.append("name",e.name),t.append("description",e.description),t.append("price",e.price.toString()),t.append("quantity",e.quantity.toString()),e.category&&t.append("category",e.category.id.toString()),t.append("discount",e.discount.toString()),e.promotional_price&&t.append("promotional_price",e.promotional_price.toString()),t.append("is_active",(!e.is_active).toString());const r=await Le.shopsAPI.updateProduct(o.shopId,e.productId,t);u(t=>t.map(t=>t.productId===e.productId?r:t))}catch(t){console.error("Error updating product status:",t),alert("Failed to update product status. Please try again.")}})(e),className:"p-2 text-gray-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:e.is_active?"Deactivate Product":"Activate Product",children:e.is_active?(0,Oe.jsx)(qe,{className:"w-4 h-4"}):(0,Oe.jsx)(bt,{className:"w-4 h-4"})})]})]})]})]},e.productId))})})]}),"orders"===p&&(0,Oe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,Oe.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Orders"})}),(0,Oe.jsx)("div",{className:"p-6",children:(0,Oe.jsx)(wa,{shopId:(null===o||void 0===o?void 0:o.shopId)||""})})]}),"profile"===p&&o&&(0,Oe.jsx)(_a,{shop:o,onShopUpdate:e=>{c(e),l(i.map(t=>t.shopId===e.shopId?e:t))}}),"verification"===p&&o&&(0,Oe.jsx)(Oa,{shop:o,onVerificationUpdate:e=>{c(e),l(i.map(t=>t.shopId===e.shopId?e:t))}}),"analytics"===p&&(0,Oe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,Oe.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Analytics"})}),(0,Oe.jsx)("div",{className:"p-6",children:(0,Oe.jsx)("p",{className:"text-gray-600",children:"Analytics dashboard coming soon..."})})]}),"settings"===p&&(0,Oe.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,Oe.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Shop Settings"})}),(0,Oe.jsx)("div",{className:"p-6",children:(0,Oe.jsx)("p",{className:"text-gray-600",children:"Settings management coming soon..."})})]})]}),(0,Oe.jsx)(ma,{isOpen:y,onClose:()=>b(!1),onProductAdded:e=>{u(t=>[...t,e]),E()},shop:o}),(0,Oe.jsx)(ga,{isOpen:N,onClose:()=>S(!1),product:j,onProductUpdated:e=>{u(t=>t.map(t=>t.productId===e.productId?e:t)),k(null),S(!1)},shop:o})]})};function Ma(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const La=a.forwardRef(Ma),Da=()=>{const[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)([]),[n,i]=(0,a.useState)(null),[l,o]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)(!1),[m,g]=(0,a.useState)(""),[x,p]=(0,a.useState)([]),[f,y]=(0,a.useState)("name"),[b,v]=(0,a.useState)("asc"),[w,j]=(0,a.useState)("grid"),k=(0,a.useCallback)(async()=>{try{h(!0);const e=await Le.categoriesAPI.getAll();t(e),p(e)}catch(e){console.error("Failed to fetch categories:",e)}finally{h(!1)}},[]),N=(0,a.useCallback)(async()=>{try{const e=await Le.categoriesAPI.getStats();s(e.categories)}catch(e){console.error("Failed to fetch category statistics:",e)}},[]),S=(0,a.useCallback)(async e=>{try{h(!0);const t=await Le.categoriesAPI.getProducts(e);o(t.products),i(t.category)}catch(t){console.error("Failed to fetch category products:",t)}finally{h(!1)}},[]),_=(0,a.useCallback)(async e=>{try{h(!0);const t=await Le.categoriesAPI.getPopularProducts(e);d(t.popular_products),i(t.category)}catch(t){console.error("Failed to fetch popular products:",t)}finally{h(!1)}},[]);(0,a.useEffect)(()=>{let t=e;m.trim()&&(t=t.filter(e=>e.name.toLowerCase().includes(m.toLowerCase())||e.slug.toLowerCase().includes(m.toLowerCase()))),t.sort((e,t)=>{let r,s;return"name"===f?(r=e.name.toLowerCase(),s=t.name.toLowerCase()):(r=C(e.id),s=C(t.id)),"asc"===b?r>s?1:-1:r<s?1:-1}),p(t)},[e,m,f,b]),(0,a.useEffect)(()=>{k(),N()},[k,N]);const C=e=>{const t=r.find(t=>t.id===e);return t?t.product_count:0},E=e=>{let{category:t}=e;return(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border-2 border-gray-200 dark:border-gray-700 p-8 hover:shadow-md transition-all duration-200 hover:scale-105 min-h-[200px] flex flex-col relative overflow-hidden",children:[(0,Oe.jsxs)("div",{className:"flex items-start justify-between mb-6 flex-1",children:[(0,Oe.jsxs)("div",{className:"flex-1 pr-12",children:[(0,Oe.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:t.name}),(0,Oe.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2",children:[C(t.id)," products available"]}),(0,Oe.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-500 font-mono",children:["/",t.slug]})]}),(0,Oe.jsx)("div",{className:"flex-shrink-0 p-1.5 rounded-md bg-gradient-to-r from-blue-100 to-purple-100 dark:from-blue-900/20 dark:to-purple-900/20 border border-blue-200 dark:border-blue-700 absolute top-6 right-6",children:(0,Oe.jsx)(Qe,{className:"w-3.5 h-3.5 text-blue-600 dark:text-blue-400"})})]}),(0,Oe.jsxs)("div",{className:"flex space-x-4 mt-auto",children:[(0,Oe.jsxs)("button",{onClick:()=>S(t.id),disabled:u,className:"flex-1 flex items-center justify-center px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors font-medium text-sm border border-blue-500",children:[(0,Oe.jsx)(js,{className:"w-4 h-4 mr-2"}),"Browse"]}),(0,Oe.jsx)("button",{onClick:()=>_(t.id),disabled:u,className:"flex items-center justify-center px-4 py-3 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 disabled:opacity-50 transition-colors font-medium text-sm min-w-[50px] border border-yellow-500",children:(0,Oe.jsx)(Ut,{className:"w-4 h-4"})})]})]})},P=e=>{let{product:t,isPopular:r=!1}=e;return(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-4 hover:shadow-md transition-all duration-200 "+(r?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-200 dark:border-yellow-700":""),children:[(0,Oe.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,Oe.jsx)("h4",{className:"font-semibold text-gray-900 dark:text-white line-clamp-2 flex-1",children:t.name}),r&&(0,Oe.jsx)(Ut,{className:"w-5 h-5 text-yellow-500 flex-shrink-0 ml-2"})]}),(0,Oe.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2",children:t.description}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Oe.jsxs)("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["$",t.price]}),(0,Oe.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Stock: ",t.quantity]})]}),t.discount>0&&(0,Oe.jsx)("div",{className:"mb-3",children:(0,Oe.jsxs)("span",{className:"inline-block px-2 py-1 text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 rounded",children:[t.discount,"% OFF"]})}),(0,Oe.jsx)("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg transition-colors",children:"View Details"})]})};return(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto px-2",children:[(0,Oe.jsxs)("div",{className:"mb-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)("div",{className:"p-2 rounded-lg bg-gradient-to-r from-green-500 to-blue-600",children:(0,Oe.jsx)(Qe,{className:"w-6 h-6 text-white"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Categories"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Explore products by category"})]})]}),(0,Oe.jsx)("div",{className:"flex items-center space-x-2",children:(0,Oe.jsxs)("button",{onClick:()=>{k(),N()},disabled:u,className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[(0,Oe.jsx)(va,{className:"w-4 h-4 mr-2"}),"Refresh"]})})]}),(0,Oe.jsxs)("div",{className:"flex flex-col lg:flex-row gap-3 mb-6",children:[(0,Oe.jsxs)("div",{className:"flex-1 relative",children:[(0,Oe.jsx)(Ct,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,Oe.jsx)("input",{type:"text",value:m,onChange:e=>g(e.target.value),placeholder:"Search categories...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Oe.jsxs)("div",{className:"flex space-x-2",children:[(0,Oe.jsxs)("select",{value:f,onChange:e=>y(e.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",children:[(0,Oe.jsx)("option",{value:"name",children:"Sort by Name"}),(0,Oe.jsx)("option",{value:"products",children:"Sort by Products"})]}),(0,Oe.jsx)("button",{onClick:()=>v("asc"===b?"desc":"asc"),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white hover:bg-gray-50 dark:hover:bg-gray-600",children:(0,Oe.jsx)(zs,{className:"w-4 h-4"})})]})]})]}),!n&&(0,Oe.jsxs)("div",{className:"mb-8",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["All Categories (",x.length,")"]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("button",{onClick:()=>j("grid"),className:"p-2 rounded-lg "+("grid"===w?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"),children:(0,Oe.jsx)(La,{className:"w-5 h-5"})}),(0,Oe.jsx)("button",{onClick:()=>j("list"),className:"p-2 rounded-lg "+("list"===w?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600"),children:(0,Oe.jsx)(zs,{className:"w-5 h-5"})})]})]}),u?(0,Oe.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):0===x.length?(0,Oe.jsxs)("div",{className:"text-center py-12",children:[(0,Oe.jsx)(Qe,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No categories found"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:m?"Try adjusting your search criteria.":"No categories available at the moment."})]}):(0,Oe.jsx)("div",{className:"grid"===w?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4":"space-y-3",children:x.map(e=>(0,Oe.jsx)(E,{category:e},e.id))})]}),n&&(0,Oe.jsxs)("div",{className:"space-y-6",children:[(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:n.name}),(0,Oe.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:[C(n.id)," products \u2022 Slug: ",n.slug]})]}),(0,Oe.jsxs)("div",{className:"flex space-x-2",children:[(0,Oe.jsx)("button",{onClick:()=>i(null),className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:"\u2190 Back to Categories"}),(0,Oe.jsxs)("button",{onClick:()=>S(n.id),disabled:u,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 transition-colors",children:[(0,Oe.jsx)(js,{className:"w-4 h-4 mr-2"}),"All Products"]}),(0,Oe.jsxs)("button",{onClick:()=>_(n.id),disabled:u,className:"flex items-center px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 disabled:opacity-50 transition-colors",children:[(0,Oe.jsx)(Ut,{className:"w-4 h-4 mr-2"}),"Popular"]})]})]})}),(l.length>0||c.length>0)&&(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:[c.length>0?"Popular Products":"All Products","(",c.length>0?c.length:l.length,")"]}),u?(0,Oe.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):(0,Oe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:(c.length>0?c:l).map(e=>(0,Oe.jsx)(P,{product:e,isPopular:c.length>0},e.productId))})]}),0===l.length&&0===c.length&&!u&&(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,Oe.jsxs)("div",{className:"text-center py-8",children:[(0,Oe.jsx)(mt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Products Found"}),(0,Oe.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"This category doesn't have any products yet."})]})})]})]})};function Fa(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const Ua=a.forwardRef(Fa);function Ba(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const Va=a.forwardRef(Ba);function za(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const $a=a.forwardRef(za);function Wa(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6a7.5 7.5 0 1 0 7.5 7.5h-7.5V6Z"}),a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 10.5H21A7.5 7.5 0 0 0 13.5 3v7.5Z"}))}const Ha=a.forwardRef(Wa);function qa(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v6m3-3H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Ya=a.forwardRef(qa);function Ka(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Ga=a.forwardRef(Ka);function Qa(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))}const Za=a.forwardRef(Qa);function Ja(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Xa=a.forwardRef(Ja);function en(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}const tn=a.forwardRef(en);function rn(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const sn=a.forwardRef(rn);function an(e){return e+.5|0}const nn=(e,t,r)=>Math.max(Math.min(e,r),t);function ln(e){return nn(an(2.55*e),0,255)}function on(e){return nn(an(255*e),0,255)}function cn(e){return nn(an(e/2.55)/100,0,1)}function dn(e){return nn(an(100*e),0,100)}const un={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hn=[..."0123456789ABCDEF"],mn=e=>hn[15&e],gn=e=>hn[(240&e)>>4]+hn[15&e],xn=e=>(240&e)>>4===(15&e);function pn(e){var t=(e=>xn(e.r)&&xn(e.g)&&xn(e.b)&&xn(e.a))(e)?mn:gn;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const fn=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function yn(e,t,r){const s=t*Math.min(r,1-r),a=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return r-s*Math.max(Math.min(a-3,9-a,1),-1)};return[a(0),a(8),a(4)]}function bn(e,t,r){const s=function(s){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(s+e/60)%6;return r-r*t*Math.max(Math.min(a,4-a,1),0)};return[s(5),s(3),s(1)]}function vn(e,t,r){const s=yn(e,1,.5);let a;for(t+r>1&&(a=1/(t+r),t*=a,r*=a),a=0;a<3;a++)s[a]*=1-t-r,s[a]+=t;return s}function wn(e){const t=e.r/255,r=e.g/255,s=e.b/255,a=Math.max(t,r,s),n=Math.min(t,r,s),i=(a+n)/2;let l,o,c;return a!==n&&(c=a-n,o=i>.5?c/(2-a-n):c/(a+n),l=function(e,t,r,s,a){return e===a?(t-r)/s+(t<r?6:0):t===a?(r-e)/s+2:(e-t)/s+4}(t,r,s,c,a),l=60*l+.5),[0|l,o||0,i]}function jn(e,t,r,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,r,s)).map(on)}function kn(e,t,r){return jn(yn,e,t,r)}function Nn(e){return(e%360+360)%360}function Sn(e){const t=fn.exec(e);let r,s=255;if(!t)return;t[5]!==r&&(s=t[6]?ln(+t[5]):on(+t[5]));const a=Nn(+t[2]),n=+t[3]/100,i=+t[4]/100;return r="hwb"===t[1]?function(e,t,r){return jn(vn,e,t,r)}(a,n,i):"hsv"===t[1]?function(e,t,r){return jn(bn,e,t,r)}(a,n,i):kn(a,n,i),{r:r[0],g:r[1],b:r[2],a:s}}const _n={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Cn={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let En;function Pn(e){En||(En=function(){const e={},t=Object.keys(Cn),r=Object.keys(_n);let s,a,n,i,l;for(s=0;s<t.length;s++){for(i=l=t[s],a=0;a<r.length;a++)n=r[a],l=l.replace(n,_n[n]);n=parseInt(Cn[i],16),e[l]=[n>>16&255,n>>8&255,255&n]}return e}(),En.transparent=[0,0,0,0]);const t=En[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const An=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Rn=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,In=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function On(e,t,r){if(e){let s=wn(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*r,0===t?360:1)),s=kn(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function Tn(e,t){return e?Object.assign(t||{},e):e}function Mn(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=on(e[3]))):(t=Tn(e,{r:0,g:0,b:0,a:1})).a=on(t.a),t}function Ln(e){return"r"===e.charAt(0)?function(e){const t=An.exec(e);let r,s,a,n=255;if(t){if(t[7]!==r){const e=+t[7];n=t[8]?ln(e):nn(255*e,0,255)}return r=+t[1],s=+t[3],a=+t[5],r=255&(t[2]?ln(r):nn(r,0,255)),s=255&(t[4]?ln(s):nn(s,0,255)),a=255&(t[6]?ln(a):nn(a,0,255)),{r:r,g:s,b:a,a:n}}}(e):Sn(e)}class Dn{constructor(e){if(e instanceof Dn)return e;const t=typeof e;let r;"object"===t?r=Mn(e):"string"===t&&(r=function(e){var t,r=e.length;return"#"===e[0]&&(4===r||5===r?t={r:255&17*un[e[1]],g:255&17*un[e[2]],b:255&17*un[e[3]],a:5===r?17*un[e[4]]:255}:7!==r&&9!==r||(t={r:un[e[1]]<<4|un[e[2]],g:un[e[3]]<<4|un[e[4]],b:un[e[5]]<<4|un[e[6]],a:9===r?un[e[7]]<<4|un[e[8]]:255})),t}(e)||Pn(e)||Ln(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=Tn(this._rgb);return e&&(e.a=cn(e.a)),e}set rgb(e){this._rgb=Mn(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${cn(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`):void 0;var e}hexString(){return this._valid?pn(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=wn(e),r=t[0],s=dn(t[1]),a=dn(t[2]);return e.a<255?`hsla(${r}, ${s}%, ${a}%, ${cn(e.a)})`:`hsl(${r}, ${s}%, ${a}%)`}(this._rgb):void 0}mix(e,t){if(e){const r=this.rgb,s=e.rgb;let a;const n=t===a?.5:t,i=2*n-1,l=r.a-s.a,o=((i*l===-1?i:(i+l)/(1+i*l))+1)/2;a=1-o,r.r=255&o*r.r+a*s.r+.5,r.g=255&o*r.g+a*s.g+.5,r.b=255&o*r.b+a*s.b+.5,r.a=n*r.a+(1-n)*s.a,this.rgb=r}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,r){const s=In(cn(e.r)),a=In(cn(e.g)),n=In(cn(e.b));return{r:on(Rn(s+r*(In(cn(t.r))-s))),g:on(Rn(a+r*(In(cn(t.g))-a))),b:on(Rn(n+r*(In(cn(t.b))-n))),a:e.a+r*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new Dn(this.rgb)}alpha(e){return this._rgb.a=on(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=an(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return On(this._rgb,2,e),this}darken(e){return On(this._rgb,2,-e),this}saturate(e){return On(this._rgb,1,e),this}desaturate(e){return On(this._rgb,1,-e),this}rotate(e){return function(e,t){var r=wn(e);r[0]=Nn(r[0]+t),r=kn(r),e.r=r[0],e.g=r[1],e.b=r[2]}(this._rgb,e),this}}function Fn(){}const Un=(()=>{let e=0;return()=>e++})();function Bn(e){return null===e||void 0===e}function Vn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function zn(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function $n(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Wn(e,t){return $n(e)?e:t}function Hn(e,t){return"undefined"===typeof e?t:e}const qn=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Yn(e,t,r){if(e&&"function"===typeof e.call)return e.apply(r,t)}function Kn(e,t,r,s){let a,n,i;if(Vn(e))if(n=e.length,s)for(a=n-1;a>=0;a--)t.call(r,e[a],a);else for(a=0;a<n;a++)t.call(r,e[a],a);else if(zn(e))for(i=Object.keys(e),n=i.length,a=0;a<n;a++)t.call(r,e[i[a]],i[a])}function Gn(e,t){let r,s,a,n;if(!e||!t||e.length!==t.length)return!1;for(r=0,s=e.length;r<s;++r)if(a=e[r],n=t[r],a.datasetIndex!==n.datasetIndex||a.index!==n.index)return!1;return!0}function Qn(e){if(Vn(e))return e.map(Qn);if(zn(e)){const t=Object.create(null),r=Object.keys(e),s=r.length;let a=0;for(;a<s;++a)t[r[a]]=Qn(e[r[a]]);return t}return e}function Zn(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function Jn(e,t,r,s){if(!Zn(e))return;const a=t[e],n=r[e];zn(a)&&zn(n)?Xn(a,n,s):t[e]=Qn(n)}function Xn(e,t,r){const s=Vn(t)?t:[t],a=s.length;if(!zn(e))return e;const n=(r=r||{}).merger||Jn;let i;for(let l=0;l<a;++l){if(i=s[l],!zn(i))continue;const t=Object.keys(i);for(let s=0,a=t.length;s<a;++s)n(t[s],e,i,r)}return e}function ei(e,t){return Xn(e,t,{merger:ti})}function ti(e,t,r){if(!Zn(e))return;const s=t[e],a=r[e];zn(s)&&zn(a)?ei(s,a):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Qn(a))}const ri={"":e=>e,x:e=>e.x,y:e=>e.y};function si(e,t){const r=ri[t]||(ri[t]=function(e){const t=function(e){const t=e.split("."),r=[];let s="";for(const a of t)s+=a,s.endsWith("\\")?s=s.slice(0,-1)+".":(r.push(s),s="");return r}(e);return e=>{for(const r of t){if(""===r)break;e=e&&e[r]}return e}}(t));return r(e)}function ai(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ni=e=>"undefined"!==typeof e,ii=e=>"function"===typeof e,li=(e,t)=>{if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0};const oi=Math.PI,ci=2*oi,di=ci+oi,ui=Number.POSITIVE_INFINITY,hi=oi/180,mi=oi/2,gi=oi/4,xi=2*oi/3,pi=Math.log10,fi=Math.sign;function yi(e,t,r){return Math.abs(e-t)<r}function bi(e){const t=Math.round(e);e=yi(e,t,e/1e3)?t:e;const r=Math.pow(10,Math.floor(pi(e))),s=e/r;return(s<=1?1:s<=2?2:s<=5?5:10)*r}function vi(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function wi(e,t,r){let s,a,n;for(s=0,a=e.length;s<a;s++)n=e[s][r],isNaN(n)||(t.min=Math.min(t.min,n),t.max=Math.max(t.max,n))}function ji(e){return e*(oi/180)}function ki(e){return e*(180/oi)}function Ni(e){if(!$n(e))return;let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}function Si(e,t){const r=t.x-e.x,s=t.y-e.y,a=Math.sqrt(r*r+s*s);let n=Math.atan2(s,r);return n<-.5*oi&&(n+=ci),{angle:n,distance:a}}function _i(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Ci(e,t){return(e-t+di)%ci-oi}function Ei(e){return(e%ci+ci)%ci}function Pi(e,t,r,s){const a=Ei(e),n=Ei(t),i=Ei(r),l=Ei(n-a),o=Ei(i-a),c=Ei(a-n),d=Ei(a-i);return a===n||a===i||s&&n===i||l>o&&c<d}function Ai(e,t,r){return Math.max(t,Math.min(r,e))}function Ri(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,r)-s&&e<=Math.max(t,r)+s}function Ii(e,t,r){r=r||(r=>e[r]<t);let s,a=e.length-1,n=0;for(;a-n>1;)s=n+a>>1,r(s)?n=s:a=s;return{lo:n,hi:a}}const Oi=(e,t,r,s)=>Ii(e,r,s?s=>{const a=e[s][t];return a<r||a===r&&e[s+1][t]===r}:s=>e[s][t]<r),Ti=(e,t,r)=>Ii(e,r,s=>e[s][t]>=r);const Mi=["push","pop","shift","splice","unshift"];function Li(e,t){const r=e._chartjs;if(!r)return;const s=r.listeners,a=s.indexOf(t);-1!==a&&s.splice(a,1),s.length>0||(Mi.forEach(t=>{delete e[t]}),delete e._chartjs)}function Di(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Fi="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Ui(e,t){let r=[],s=!1;return function(){for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];r=n,s||(s=!0,Fi.call(window,()=>{s=!1,e.apply(t,r)}))}}const Bi=e=>"start"===e?"left":"end"===e?"right":"center",Vi=(e,t,r)=>"start"===e?t:"end"===e?r:(t+r)/2;function zi(e,t,r){const s=t.length;let a=0,n=s;if(e._sorted){const{iScale:i,vScale:l,_parsed:o}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=i.axis,{min:u,max:h,minDefined:m,maxDefined:g}=i.getUserBounds();if(m){if(a=Math.min(Oi(o,d,u).lo,r?s:Oi(t,d,i.getPixelForValue(u)).lo),c){const e=o.slice(0,a+1).reverse().findIndex(e=>!Bn(e[l.axis]));a-=Math.max(0,e)}a=Ai(a,0,s-1)}if(g){let e=Math.max(Oi(o,i.axis,h,!0).hi+1,r?0:Oi(t,d,i.getPixelForValue(h),!0).hi+1);if(c){const t=o.slice(e-1).findIndex(e=>!Bn(e[l.axis]));e+=Math.max(0,t)}n=Ai(e,a,s)-a}else n=s-a}return{start:a,count:n}}function $i(e){const{xScale:t,yScale:r,_scaleRanges:s}=e,a={xmin:t.min,xmax:t.max,ymin:r.min,ymax:r.max};if(!s)return e._scaleRanges=a,!0;const n=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==r.min||s.ymax!==r.max;return Object.assign(s,a),n}const Wi=e=>0===e||1===e,Hi=(e,t,r)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*ci/r),qi=(e,t,r)=>Math.pow(2,-10*e)*Math.sin((e-t)*ci/r)+1,Yi={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*mi),easeOutSine:e=>Math.sin(e*mi),easeInOutSine:e=>-.5*(Math.cos(oi*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>Wi(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Wi(e)?e:Hi(e,.075,.3),easeOutElastic:e=>Wi(e)?e:qi(e,.075,.3),easeInOutElastic(e){const t=.1125;return Wi(e)?e:e<.5?.5*Hi(2*e,t,.45):.5+.5*qi(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-Yi.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,r=2.75;return e<1/r?t*e*e:e<2/r?t*(e-=1.5/r)*e+.75:e<2.5/r?t*(e-=2.25/r)*e+.9375:t*(e-=2.625/r)*e+.984375},easeInOutBounce:e=>e<.5?.5*Yi.easeInBounce(2*e):.5*Yi.easeOutBounce(2*e-1)+.5};function Ki(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Gi(e){return Ki(e)?e:new Dn(e)}function Qi(e){return Ki(e)?e:new Dn(e).saturate(.5).darken(.1).hexString()}const Zi=["x","y","borderWidth","radius","tension"],Ji=["color","borderColor","backgroundColor"];const Xi=new Map;function el(e,t,r){return function(e,t){t=t||{};const r=e+JSON.stringify(t);let s=Xi.get(r);return s||(s=new Intl.NumberFormat(e,t),Xi.set(r,s)),s}(t,r).format(e)}const tl={values:e=>Vn(e)?e:""+e,numeric(e,t,r){if(0===e)return"0";const s=this.chart.options.locale;let a,n=e;if(r.length>1){const t=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(t<1e-4||t>1e15)&&(a="scientific"),n=function(e,t){let r=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(r)>=1&&e!==Math.floor(e)&&(r=e-Math.floor(e));return r}(e,r)}const i=pi(Math.abs(n)),l=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),o={notation:a,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(o,this.options.ticks.format),el(e,s,o)},logarithmic(e,t,r){if(0===e)return"0";const s=r[t].significand||e/Math.pow(10,Math.floor(pi(e)));return[1,2,3,5,10,15].includes(s)||t>.8*r.length?tl.numeric.call(this,e,t,r):""}};var rl={formatters:tl};const sl=Object.create(null),al=Object.create(null);function nl(e,t){if(!t)return e;const r=t.split(".");for(let s=0,a=r.length;s<a;++s){const t=r[s];e=e[t]||(e[t]=Object.create(null))}return e}function il(e,t,r){return"string"===typeof t?Xn(nl(e,t),r):Xn(nl(e,""),t)}class ll{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>Qi(t.backgroundColor),this.hoverBorderColor=(e,t)=>Qi(t.borderColor),this.hoverColor=(e,t)=>Qi(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return il(this,e,t)}get(e){return nl(this,e)}describe(e,t){return il(al,e,t)}override(e,t){return il(sl,e,t)}route(e,t,r,s){const a=nl(this,e),n=nl(this,r),i="_"+t;Object.defineProperties(a,{[i]:{value:a[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[i],t=n[s];return zn(e)?Object.assign({},t,e):Hn(e,t)},set(e){this[i]=e}}})}apply(e){e.forEach(e=>e(this))}}var ol=new ll({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:Ji},numbers:{type:"number",properties:Zi}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:rl.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function cl(e,t,r,s,a){let n=t[a];return n||(n=t[a]=e.measureText(a).width,r.push(a)),n>s&&(s=n),s}function dl(e,t,r){const s=e.currentDevicePixelRatio,a=0!==r?Math.max(r/2,.5):0;return Math.round((t-a)*s)/s+a}function ul(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function hl(e,t,r,s){ml(e,t,r,s,null)}function ml(e,t,r,s,a){let n,i,l,o,c,d,u,h;const m=t.pointStyle,g=t.rotation,x=t.radius;let p=(g||0)*hi;if(m&&"object"===typeof m&&(n=m.toString(),"[object HTMLImageElement]"===n||"[object HTMLCanvasElement]"===n))return e.save(),e.translate(r,s),e.rotate(p),e.drawImage(m,-m.width/2,-m.height/2,m.width,m.height),void e.restore();if(!(isNaN(x)||x<=0)){switch(e.beginPath(),m){default:a?e.ellipse(r,s,a/2,x,0,0,ci):e.arc(r,s,x,0,ci),e.closePath();break;case"triangle":d=a?a/2:x,e.moveTo(r+Math.sin(p)*d,s-Math.cos(p)*x),p+=xi,e.lineTo(r+Math.sin(p)*d,s-Math.cos(p)*x),p+=xi,e.lineTo(r+Math.sin(p)*d,s-Math.cos(p)*x),e.closePath();break;case"rectRounded":c=.516*x,o=x-c,i=Math.cos(p+gi)*o,u=Math.cos(p+gi)*(a?a/2-c:o),l=Math.sin(p+gi)*o,h=Math.sin(p+gi)*(a?a/2-c:o),e.arc(r-u,s-l,c,p-oi,p-mi),e.arc(r+h,s-i,c,p-mi,p),e.arc(r+u,s+l,c,p,p+mi),e.arc(r-h,s+i,c,p+mi,p+oi),e.closePath();break;case"rect":if(!g){o=Math.SQRT1_2*x,d=a?a/2:o,e.rect(r-d,s-o,2*d,2*o);break}p+=gi;case"rectRot":u=Math.cos(p)*(a?a/2:x),i=Math.cos(p)*x,l=Math.sin(p)*x,h=Math.sin(p)*(a?a/2:x),e.moveTo(r-u,s-l),e.lineTo(r+h,s-i),e.lineTo(r+u,s+l),e.lineTo(r-h,s+i),e.closePath();break;case"crossRot":p+=gi;case"cross":u=Math.cos(p)*(a?a/2:x),i=Math.cos(p)*x,l=Math.sin(p)*x,h=Math.sin(p)*(a?a/2:x),e.moveTo(r-u,s-l),e.lineTo(r+u,s+l),e.moveTo(r+h,s-i),e.lineTo(r-h,s+i);break;case"star":u=Math.cos(p)*(a?a/2:x),i=Math.cos(p)*x,l=Math.sin(p)*x,h=Math.sin(p)*(a?a/2:x),e.moveTo(r-u,s-l),e.lineTo(r+u,s+l),e.moveTo(r+h,s-i),e.lineTo(r-h,s+i),p+=gi,u=Math.cos(p)*(a?a/2:x),i=Math.cos(p)*x,l=Math.sin(p)*x,h=Math.sin(p)*(a?a/2:x),e.moveTo(r-u,s-l),e.lineTo(r+u,s+l),e.moveTo(r+h,s-i),e.lineTo(r-h,s+i);break;case"line":i=a?a/2:Math.cos(p)*x,l=Math.sin(p)*x,e.moveTo(r-i,s-l),e.lineTo(r+i,s+l);break;case"dash":e.moveTo(r,s),e.lineTo(r+Math.cos(p)*(a?a/2:x),s+Math.sin(p)*x);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function gl(e,t,r){return r=r||.5,!t||e&&e.x>t.left-r&&e.x<t.right+r&&e.y>t.top-r&&e.y<t.bottom+r}function xl(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function pl(e){e.restore()}function fl(e,t,r,s,a){if(!t)return e.lineTo(r.x,r.y);if("middle"===a){const s=(t.x+r.x)/2;e.lineTo(s,t.y),e.lineTo(s,r.y)}else"after"===a!==!!s?e.lineTo(t.x,r.y):e.lineTo(r.x,t.y);e.lineTo(r.x,r.y)}function yl(e,t,r,s){if(!t)return e.lineTo(r.x,r.y);e.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?r.cp2x:r.cp1x,s?r.cp2y:r.cp1y,r.x,r.y)}function bl(e,t,r,s,a){if(a.strikethrough||a.underline){const n=e.measureText(s),i=t-n.actualBoundingBoxLeft,l=t+n.actualBoundingBoxRight,o=r-n.actualBoundingBoxAscent,c=r+n.actualBoundingBoxDescent,d=a.strikethrough?(o+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=a.decorationWidth||2,e.moveTo(i,d),e.lineTo(l,d),e.stroke()}}function vl(e,t){const r=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=r}function wl(e,t,r,s,a){let n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const i=Vn(t)?t:[t],l=n.strokeWidth>0&&""!==n.strokeColor;let o,c;for(e.save(),e.font=a.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Bn(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,n),o=0;o<i.length;++o)c=i[o],n.backdrop&&vl(e,n.backdrop),l&&(n.strokeColor&&(e.strokeStyle=n.strokeColor),Bn(n.strokeWidth)||(e.lineWidth=n.strokeWidth),e.strokeText(c,r,s,n.maxWidth)),e.fillText(c,r,s,n.maxWidth),bl(e,r,s,c,n),s+=Number(a.lineHeight);e.restore()}function jl(e,t){const{x:r,y:s,w:a,h:n,radius:i}=t;e.arc(r+i.topLeft,s+i.topLeft,i.topLeft,1.5*oi,oi,!0),e.lineTo(r,s+n-i.bottomLeft),e.arc(r+i.bottomLeft,s+n-i.bottomLeft,i.bottomLeft,oi,mi,!0),e.lineTo(r+a-i.bottomRight,s+n),e.arc(r+a-i.bottomRight,s+n-i.bottomRight,i.bottomRight,mi,0,!0),e.lineTo(r+a,s+i.topRight),e.arc(r+a-i.topRight,s+i.topRight,i.topRight,0,-mi,!0),e.lineTo(r+i.topLeft,s)}const kl=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Nl=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Sl(e,t){const r=(""+e).match(kl);if(!r||"normal"===r[1])return 1.2*t;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100}return t*e}const _l=e=>+e||0;function Cl(e,t){const r={},s=zn(t),a=s?Object.keys(t):t,n=zn(e)?s?r=>Hn(e[r],e[t[r]]):t=>e[t]:()=>e;for(const i of a)r[i]=_l(n(i));return r}function El(e){return Cl(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Pl(e){return Cl(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Al(e){const t=El(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Rl(e,t){e=e||{},t=t||ol.font;let r=Hn(e.size,t.size);"string"===typeof r&&(r=parseInt(r,10));let s=Hn(e.style,t.style);s&&!(""+s).match(Nl)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const a={family:Hn(e.family,t.family),lineHeight:Sl(Hn(e.lineHeight,t.lineHeight),r),size:r,style:s,weight:Hn(e.weight,t.weight),string:""};return a.string=function(e){return!e||Bn(e.size)||Bn(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(a),a}function Il(e,t,r,s){let a,n,i,l=!0;for(a=0,n=e.length;a<n;++a)if(i=e[a],void 0!==i&&(void 0!==t&&"function"===typeof i&&(i=i(t),l=!1),void 0!==r&&Vn(i)&&(i=i[r%i.length],l=!1),void 0!==i))return s&&!l&&(s.cacheable=!1),i}function Ol(e,t){return Object.assign(Object.create(e),t)}function Tl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const a=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof r&&(r=Hl("_fallback",e));const n={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:a,_fallback:r,_getTarget:s,override:s=>Tl([s,...e],t,a,r)};return new Proxy(n,{deleteProperty:(t,r)=>(delete t[r],delete t._keys,delete e[0][r],!0),get:(r,s)=>Ul(r,s,()=>function(e,t,r,s){let a;for(const n of t)if(a=Hl(Dl(n,e),r),"undefined"!==typeof a)return Fl(e,a)?$l(r,s,e,a):a}(s,t,e,r)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>ql(e).includes(t),ownKeys:e=>ql(e),set(e,t,r){const a=e._storage||(e._storage=s());return e[t]=a[t]=r,delete e._keys,!0}})}function Ml(e,t,r,s){const a={_cacheable:!1,_proxy:e,_context:t,_subProxy:r,_stack:new Set,_descriptors:Ll(e,s),setContext:t=>Ml(e,t,r,s),override:a=>Ml(e.override(a),t,r,s)};return new Proxy(a,{deleteProperty:(t,r)=>(delete t[r],delete e[r],!0),get:(e,t,r)=>Ul(e,t,()=>function(e,t,r){const{_proxy:s,_context:a,_subProxy:n,_descriptors:i}=e;let l=s[t];ii(l)&&i.isScriptable(t)&&(l=function(e,t,r,s){const{_proxy:a,_context:n,_subProxy:i,_stack:l}=r;if(l.has(e))throw new Error("Recursion detected: "+Array.from(l).join("->")+"->"+e);l.add(e);let o=t(n,i||s);l.delete(e),Fl(e,o)&&(o=$l(a._scopes,a,e,o));return o}(t,l,e,r));Vn(l)&&l.length&&(l=function(e,t,r,s){const{_proxy:a,_context:n,_subProxy:i,_descriptors:l}=r;if("undefined"!==typeof n.index&&s(e))return t[n.index%t.length];if(zn(t[0])){const r=t,s=a._scopes.filter(e=>e!==r);t=[];for(const o of r){const r=$l(s,a,e,o);t.push(Ml(r,n,i&&i[e],l))}}return t}(t,l,e,i.isIndexable));Fl(t,l)&&(l=Ml(l,a,n&&n[t],i));return l}(e,t,r)),getOwnPropertyDescriptor:(t,r)=>t._descriptors.allKeys?Reflect.has(e,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,r),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,r)=>Reflect.has(e,r),ownKeys:()=>Reflect.ownKeys(e),set:(t,r,s)=>(e[r]=s,delete t[r],!0)})}function Ll(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:r=t.scriptable,_indexable:s=t.indexable,_allKeys:a=t.allKeys}=e;return{allKeys:a,scriptable:r,indexable:s,isScriptable:ii(r)?r:()=>r,isIndexable:ii(s)?s:()=>s}}const Dl=(e,t)=>e?e+ai(t):t,Fl=(e,t)=>zn(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function Ul(e,t,r){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const s=r();return e[t]=s,s}function Bl(e,t,r){return ii(e)?e(t,r):e}const Vl=(e,t)=>!0===e?t:"string"===typeof e?si(t,e):void 0;function zl(e,t,r,s,a){for(const n of t){const t=Vl(r,n);if(t){e.add(t);const n=Bl(t._fallback,r,a);if("undefined"!==typeof n&&n!==r&&n!==s)return n}else if(!1===t&&"undefined"!==typeof s&&r!==s)return null}return!1}function $l(e,t,r,s){const a=t._rootScopes,n=Bl(t._fallback,r,s),i=[...e,...a],l=new Set;l.add(s);let o=Wl(l,i,r,n||r,s);return null!==o&&(("undefined"===typeof n||n===r||(o=Wl(l,i,n,o,s),null!==o))&&Tl(Array.from(l),[""],a,n,()=>function(e,t,r){const s=e._getTarget();t in s||(s[t]={});const a=s[t];if(Vn(a)&&zn(r))return r;return a||{}}(t,r,s)))}function Wl(e,t,r,s,a){for(;r;)r=zl(e,t,r,s,a);return r}function Hl(e,t){for(const r of t){if(!r)continue;const t=r[e];if("undefined"!==typeof t)return t}}function ql(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const r of e)for(const e of Object.keys(r).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}const Yl=Number.EPSILON||1e-14,Kl=(e,t)=>t<e.length&&!e[t].skip&&e[t],Gl=e=>"x"===e?"y":"x";function Ql(e,t,r,s){const a=e.skip?t:e,n=t,i=r.skip?t:r,l=_i(n,a),o=_i(i,n);let c=l/(l+o),d=o/(l+o);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=s*c,h=s*d;return{previous:{x:n.x-u*(i.x-a.x),y:n.y-u*(i.y-a.y)},next:{x:n.x+h*(i.x-a.x),y:n.y+h*(i.y-a.y)}}}function Zl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const r=Gl(t),s=e.length,a=Array(s).fill(0),n=Array(s);let i,l,o,c=Kl(e,0);for(i=0;i<s;++i)if(l=o,o=c,c=Kl(e,i+1),o){if(c){const e=c[t]-o[t];a[i]=0!==e?(c[r]-o[r])/e:0}n[i]=l?c?fi(a[i-1])!==fi(a[i])?0:(a[i-1]+a[i])/2:a[i-1]:a[i]}!function(e,t,r){const s=e.length;let a,n,i,l,o,c=Kl(e,0);for(let d=0;d<s-1;++d)o=c,c=Kl(e,d+1),o&&c&&(yi(t[d],0,Yl)?r[d]=r[d+1]=0:(a=r[d]/t[d],n=r[d+1]/t[d],l=Math.pow(a,2)+Math.pow(n,2),l<=9||(i=3/Math.sqrt(l),r[d]=a*i*t[d],r[d+1]=n*i*t[d])))}(e,a,n),function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const s=Gl(r),a=e.length;let n,i,l,o=Kl(e,0);for(let c=0;c<a;++c){if(i=l,l=o,o=Kl(e,c+1),!l)continue;const a=l[r],d=l[s];i&&(n=(a-i[r])/3,l[`cp1${r}`]=a-n,l[`cp1${s}`]=d-n*t[c]),o&&(n=(o[r]-a)/3,l[`cp2${r}`]=a+n,l[`cp2${s}`]=d+n*t[c])}}(e,n,t)}function Jl(e,t,r){return Math.max(Math.min(e,r),t)}function Xl(e,t,r,s,a){let n,i,l,o;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)Zl(e,a);else{let r=s?e[e.length-1]:e[0];for(n=0,i=e.length;n<i;++n)l=e[n],o=Ql(r,l,e[Math.min(n+1,i-(s?0:1))%i],t.tension),l.cp1x=o.previous.x,l.cp1y=o.previous.y,l.cp2x=o.next.x,l.cp2y=o.next.y,r=l}t.capBezierPoints&&function(e,t){let r,s,a,n,i,l=gl(e[0],t);for(r=0,s=e.length;r<s;++r)i=n,n=l,l=r<s-1&&gl(e[r+1],t),n&&(a=e[r],i&&(a.cp1x=Jl(a.cp1x,t.left,t.right),a.cp1y=Jl(a.cp1y,t.top,t.bottom)),l&&(a.cp2x=Jl(a.cp2x,t.left,t.right),a.cp2y=Jl(a.cp2y,t.top,t.bottom)))}(e,r)}function eo(){return"undefined"!==typeof window&&"undefined"!==typeof document}function to(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function ro(e,t,r){let s;return"string"===typeof e?(s=parseInt(e,10),-1!==e.indexOf("%")&&(s=s/100*t.parentNode[r])):s=e,s}const so=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const ao=["top","right","bottom","left"];function no(e,t,r){const s={};r=r?"-"+r:"";for(let a=0;a<4;a++){const n=ao[a];s[n]=parseFloat(e[t+"-"+n+r])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function io(e,t){if("native"in e)return e;const{canvas:r,currentDevicePixelRatio:s}=t,a=so(r),n="border-box"===a.boxSizing,i=no(a,"padding"),l=no(a,"border","width"),{x:o,y:c,box:d}=function(e,t){const r=e.touches,s=r&&r.length?r[0]:e,{offsetX:a,offsetY:n}=s;let i,l,o=!1;if(((e,t,r)=>(e>0||t>0)&&(!r||!r.shadowRoot))(a,n,e.target))i=a,l=n;else{const e=t.getBoundingClientRect();i=s.clientX-e.left,l=s.clientY-e.top,o=!0}return{x:i,y:l,box:o}}(e,r),u=i.left+(d&&l.left),h=i.top+(d&&l.top);let{width:m,height:g}=t;return n&&(m-=i.width+l.width,g-=i.height+l.height),{x:Math.round((o-u)/m*r.width/s),y:Math.round((c-h)/g*r.height/s)}}const lo=e=>Math.round(10*e)/10;function oo(e,t,r,s){const a=so(e),n=no(a,"margin"),i=ro(a.maxWidth,e,"clientWidth")||ui,l=ro(a.maxHeight,e,"clientHeight")||ui,o=function(e,t,r){let s,a;if(void 0===t||void 0===r){const n=e&&to(e);if(n){const e=n.getBoundingClientRect(),i=so(n),l=no(i,"border","width"),o=no(i,"padding");t=e.width-o.width-l.width,r=e.height-o.height-l.height,s=ro(i.maxWidth,n,"clientWidth"),a=ro(i.maxHeight,n,"clientHeight")}else t=e.clientWidth,r=e.clientHeight}return{width:t,height:r,maxWidth:s||ui,maxHeight:a||ui}}(e,t,r);let{width:c,height:d}=o;if("content-box"===a.boxSizing){const e=no(a,"border","width"),t=no(a,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-n.width),d=Math.max(0,s?c/s:d-n.height),c=lo(Math.min(c,i,o.maxWidth)),d=lo(Math.min(d,l,o.maxHeight)),c&&!d&&(d=lo(c/2));return(void 0!==t||void 0!==r)&&s&&o.height&&d>o.height&&(d=o.height,c=lo(Math.floor(d*s))),{width:c,height:d}}function co(e,t,r){const s=t||1,a=Math.floor(e.height*s),n=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const i=e.canvas;return i.style&&(r||!i.style.height&&!i.style.width)&&(i.style.height=`${e.height}px`,i.style.width=`${e.width}px`),(e.currentDevicePixelRatio!==s||i.height!==a||i.width!==n)&&(e.currentDevicePixelRatio=s,i.height=a,i.width=n,e.ctx.setTransform(s,0,0,s,0,0),!0)}const uo=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};eo()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(Bh){}return e}();function ho(e,t){const r=function(e,t){return so(e).getPropertyValue(t)}(e,t),s=r&&r.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function mo(e,t,r,s){return{x:e.x+r*(t.x-e.x),y:e.y+r*(t.y-e.y)}}function go(e,t,r,s){return{x:e.x+r*(t.x-e.x),y:"middle"===s?r<.5?e.y:t.y:"after"===s?r<1?e.y:t.y:r>0?t.y:e.y}}function xo(e,t,r,s){const a={x:e.cp2x,y:e.cp2y},n={x:t.cp1x,y:t.cp1y},i=mo(e,a,r),l=mo(a,n,r),o=mo(n,t,r),c=mo(i,l,r),d=mo(l,o,r);return mo(c,d,r)}function po(e,t,r){return e?function(e,t){return{x:r=>e+e+t-r,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,r):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function fo(e,t){let r,s;"ltr"!==t&&"rtl"!==t||(r=e.canvas.style,s=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",t,"important"),e.prevTextDirection=s)}function yo(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function bo(e){return"angle"===e?{between:Pi,compare:Ci,normalize:Ei}:{between:Ri,compare:(e,t)=>e-t,normalize:e=>e}}function vo(e){let{start:t,end:r,count:s,loop:a,style:n}=e;return{start:t%s,end:r%s,loop:a&&(r-t+1)%s===0,style:n}}function wo(e,t,r){if(!r)return[e];const{property:s,start:a,end:n}=r,i=t.length,{compare:l,between:o,normalize:c}=bo(s),{start:d,end:u,loop:h,style:m}=function(e,t,r){const{property:s,start:a,end:n}=r,{between:i,normalize:l}=bo(s),o=t.length;let c,d,{start:u,end:h,loop:m}=e;if(m){for(u+=o,h+=o,c=0,d=o;c<d&&i(l(t[u%o][s]),a,n);++c)u--,h--;u%=o,h%=o}return h<u&&(h+=o),{start:u,end:h,loop:m,style:e.style}}(e,t,r),g=[];let x,p,f,y=!1,b=null;const v=()=>y||o(a,f,x)&&0!==l(a,f),w=()=>!y||0===l(n,x)||o(n,f,x);for(let j=d,k=d;j<=u;++j)p=t[j%i],p.skip||(x=c(p[s]),x!==f&&(y=o(x,a,n),null===b&&v()&&(b=0===l(x,a)?j:k),null!==b&&w()&&(g.push(vo({start:b,end:j,loop:h,count:i,style:m})),b=null),k=j,f=x));return null!==b&&g.push(vo({start:b,end:u,loop:h,count:i,style:m})),g}function jo(e,t){const r=[],s=e.segments;for(let a=0;a<s.length;a++){const n=wo(s[a],e.points,t);n.length&&r.push(...n)}return r}function ko(e,t,r,s){return s&&s.setContext&&r?function(e,t,r,s){const a=e._chart.getContext(),n=No(e.options),{_datasetIndex:i,options:{spanGaps:l}}=e,o=r.length,c=[];let d=n,u=t[0].start,h=u;function m(e,t,s,a){const n=l?-1:1;if(e!==t){for(e+=o;r[e%o].skip;)e-=n;for(;r[t%o].skip;)t+=n;e%o!==t%o&&(c.push({start:e%o,end:t%o,loop:s,style:a}),d=a,u=t%o)}}for(const g of t){u=l?u:g.start;let e,t=r[u%o];for(h=u+1;h<=g.end;h++){const n=r[h%o];e=No(s.setContext(Ol(a,{type:"segment",p0:t,p1:n,p0DataIndex:(h-1)%o,p1DataIndex:h%o,datasetIndex:i}))),So(e,d)&&m(u,h-1,g.loop,d),t=n,d=e}u<h-1&&m(u,h-1,g.loop,d)}return c}(e,t,r,s):t}function No(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function So(e,t){if(!t)return!1;const r=[],s=function(e,t){return Ki(t)?(r.includes(t)||r.push(t),r.indexOf(t)):t};return JSON.stringify(e,s)!==JSON.stringify(t,s)}function _o(e,t,r){return e.options.clip?e[r]:t[r]}function Co(e,t){const r=t._clip;if(r.disabled)return!1;const s=function(e,t){const{xScale:r,yScale:s}=e;return r&&s?{left:_o(r,t,"left"),right:_o(r,t,"right"),top:_o(s,t,"top"),bottom:_o(s,t,"bottom")}:t}(t,e.chartArea);return{left:!1===r.left?0:s.left-(!0===r.left?0:r.left),right:!1===r.right?e.width:s.right+(!0===r.right?0:r.right),top:!1===r.top?0:s.top-(!0===r.top?0:r.top),bottom:!1===r.bottom?e.height:s.bottom+(!0===r.bottom?0:r.bottom)}}class Eo{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,r,s){const a=t.listeners[s],n=t.duration;a.forEach(s=>s({chart:e,initial:t.initial,numSteps:n,currentStep:Math.min(r-t.start,n)}))}_refresh(){this._request||(this._running=!0,this._request=Fi.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const a=r.items;let n,i=a.length-1,l=!1;for(;i>=0;--i)n=a[i],n._active?(n._total>r.duration&&(r.duration=n._total),n.tick(e),l=!0):(a[i]=a[a.length-1],a.pop());l&&(s.draw(),this._notify(s,r,e,"progress")),a.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),t+=a.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let r=t.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,r)),r}listen(e,t,r){this._getAnims(e).listeners[t].push(r)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const r=t.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Po=new Eo;const Ao="transparent",Ro={boolean:(e,t,r)=>r>.5?t:e,color(e,t,r){const s=Gi(e||Ao),a=s.valid&&Gi(t||Ao);return a&&a.valid?a.mix(s,r).hexString():t},number:(e,t,r)=>e+(t-e)*r};class Io{constructor(e,t,r,s){const a=t[r];s=Il([e.to,s,a,e.from]);const n=Il([e.from,a,s]);this._active=!0,this._fn=e.fn||Ro[e.type||typeof n],this._easing=Yi[e.easing]||Yi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=r,this._from=n,this._to=s,this._promises=void 0}active(){return this._active}update(e,t,r){if(this._active){this._notify(!1);const s=this._target[this._prop],a=r-this._start,n=this._duration-a;this._start=r,this._duration=Math.floor(Math.max(n,e.duration)),this._total+=a,this._loop=!!e.loop,this._to=Il([e.to,t,s,e.from]),this._from=Il([e.from,s,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,r=this._duration,s=this._prop,a=this._from,n=this._loop,i=this._to;let l;if(this._active=a!==i&&(n||t<r),!this._active)return this._target[s]=i,void this._notify(!0);t<0?this._target[s]=a:(l=t/r%2,l=n&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(a,i,l))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,r)=>{e.push({res:t,rej:r})})}_notify(e){const t=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][t]()}}class Oo{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!zn(e))return;const t=Object.keys(ol.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const a=e[s];if(!zn(a))return;const n={};for(const e of t)n[e]=a[e];(Vn(a.properties)&&a.properties||[s]).forEach(e=>{e!==s&&r.has(e)||r.set(e,n)})})}_animateOptions(e,t){const r=t.options,s=function(e,t){if(!t)return;let r=e.options;if(!r)return void(e.options=t);r.$shared&&(e.options=r=Object.assign({},r,{$shared:!1,$animations:{}}));return r}(e,r);if(!s)return[];const a=this._createAnimations(s,r);return r.$shared&&function(e,t){const r=[],s=Object.keys(t);for(let a=0;a<s.length;a++){const t=e[s[a]];t&&t.active()&&r.push(t.wait())}return Promise.all(r)}(e.options.$animations,r).then(()=>{e.options=r},()=>{}),a}_createAnimations(e,t){const r=this._properties,s=[],a=e.$animations||(e.$animations={}),n=Object.keys(t),i=Date.now();let l;for(l=n.length-1;l>=0;--l){const o=n[l];if("$"===o.charAt(0))continue;if("options"===o){s.push(...this._animateOptions(e,t));continue}const c=t[o];let d=a[o];const u=r.get(o);if(d){if(u&&d.active()){d.update(u,c,i);continue}d.cancel()}u&&u.duration?(a[o]=d=new Io(u,e,o,c),s.push(d)):e[o]=c}return s}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const r=this._createAnimations(e,t);return r.length?(Po.add(this._chart,r),!0):void 0}}function To(e,t){const r=e&&e.options||{},s=r.reverse,a=void 0===r.min?t:0,n=void 0===r.max?t:0;return{start:s?n:a,end:s?a:n}}function Mo(e,t){const r=[],s=e._getSortedDatasetMetas(t);let a,n;for(a=0,n=s.length;a<n;++a)r.push(s[a].index);return r}function Lo(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=e.keys,n="single"===s.mode;let i,l,o,c;if(null===t)return;let d=!1;for(i=0,l=a.length;i<l;++i){if(o=+a[i],o===r){if(d=!0,s.all)continue;break}c=e.values[o],$n(c)&&(n||0===t||fi(t)===fi(c))&&(t+=c)}return d||s.all?t:0}function Do(e,t){const r=e&&e.options.stacked;return r||void 0===r&&void 0!==t.stack}function Fo(e,t,r){const s=e[t]||(e[t]={});return s[r]||(s[r]={})}function Uo(e,t,r,s){for(const a of t.getMatchingVisibleMetas(s).reverse()){const t=e[a.index];if(r&&t>0||!r&&t<0)return a.index}return null}function Bo(e,t){const{chart:r,_cachedMeta:s}=e,a=r._stacks||(r._stacks={}),{iScale:n,vScale:i,index:l}=s,o=n.axis,c=i.axis,d=function(e,t,r){return`${e.id}.${t.id}.${r.stack||r.type}`}(n,i,s),u=t.length;let h;for(let m=0;m<u;++m){const e=t[m],{[o]:r,[c]:n}=e;h=(e._stacks||(e._stacks={}))[c]=Fo(a,d,r),h[l]=n,h._top=Uo(h,i,!0,s.type),h._bottom=Uo(h,i,!1,s.type);(h._visualValues||(h._visualValues={}))[l]=n}}function Vo(e,t){const r=e.scales;return Object.keys(r).filter(e=>r[e].axis===t).shift()}function zo(e,t){const r=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[s]||void 0===t[s][r])return;delete t[s][r],void 0!==t[s]._visualValues&&void 0!==t[s]._visualValues[r]&&delete t[s]._visualValues[r]}}}const $o=e=>"reset"===e||"none"===e,Wo=(e,t)=>t?e:Object.assign({},e);class Ho{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Do(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&zo(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,r=this.getDataset(),s=(e,t,r,s)=>"x"===e?t:"r"===e?s:r,a=t.xAxisID=Hn(r.xAxisID,Vo(e,"x")),n=t.yAxisID=Hn(r.yAxisID,Vo(e,"y")),i=t.rAxisID=Hn(r.rAxisID,Vo(e,"r")),l=t.indexAxis,o=t.iAxisID=s(l,a,n,i),c=t.vAxisID=s(l,n,a,i);t.xScale=this.getScaleForId(a),t.yScale=this.getScaleForId(n),t.rScale=this.getScaleForId(i),t.iScale=this.getScaleForId(o),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Li(this._data,this),e._stacked&&zo(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),r=this._data;if(zn(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:r,vScale:s}=t,a="x"===r.axis?"x":"y",n="x"===s.axis?"x":"y",i=Object.keys(e),l=new Array(i.length);let o,c,d;for(o=0,c=i.length;o<c;++o)d=i[o],l[o]={[a]:d,[n]:e[d]};return l}(t,e)}else if(r!==t){if(r){Li(r,this);const e=this._cachedMeta;zo(e),e._parsed=[]}t&&Object.isExtensible(t)&&(a=this,(s=t)._chartjs?s._chartjs.listeners.push(a):(Object.defineProperty(s,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[a]}}),Mi.forEach(e=>{const t="_onData"+ai(e),r=s[e];Object.defineProperty(s,e,{configurable:!0,enumerable:!1,value(){for(var e=arguments.length,a=new Array(e),n=0;n<e;n++)a[n]=arguments[n];const i=r.apply(this,a);return s._chartjs.listeners.forEach(e=>{"function"===typeof e[t]&&e[t](...a)}),i}})}))),this._syncList=[],this._data=t}var s,a}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const a=t._stacked;t._stacked=Do(t.vScale,t),t.stack!==r.stack&&(s=!0,zo(t),t.stack=r.stack),this._resyncElements(e),(s||a!==t._stacked)&&(Bo(this,t._parsed),t._stacked=Do(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:r,_data:s}=this,{iScale:a,_stacked:n}=r,i=a.axis;let l,o,c,d=0===e&&t===s.length||r._sorted,u=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=s,r._sorted=!0,c=s;else{c=Vn(s[e])?this.parseArrayData(r,s,e,t):zn(s[e])?this.parseObjectData(r,s,e,t):this.parsePrimitiveData(r,s,e,t);const a=()=>null===o[i]||u&&o[i]<u[i];for(l=0;l<t;++l)r._parsed[l+e]=o=c[l],d&&(a()&&(d=!1),u=o);r._sorted=d}n&&Bo(this,c)}parsePrimitiveData(e,t,r,s){const{iScale:a,vScale:n}=e,i=a.axis,l=n.axis,o=a.getLabels(),c=a===n,d=new Array(s);let u,h,m;for(u=0,h=s;u<h;++u)m=u+r,d[u]={[i]:c||a.parse(o[m],m),[l]:n.parse(t[m],m)};return d}parseArrayData(e,t,r,s){const{xScale:a,yScale:n}=e,i=new Array(s);let l,o,c,d;for(l=0,o=s;l<o;++l)c=l+r,d=t[c],i[l]={x:a.parse(d[0],c),y:n.parse(d[1],c)};return i}parseObjectData(e,t,r,s){const{xScale:a,yScale:n}=e,{xAxisKey:i="x",yAxisKey:l="y"}=this._parsing,o=new Array(s);let c,d,u,h;for(c=0,d=s;c<d;++c)u=c+r,h=t[u],o[c]={x:a.parse(si(h,i),u),y:n.parse(si(h,l),u)};return o}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,r){const s=this.chart,a=this._cachedMeta,n=t[e.axis];return Lo({keys:Mo(s,!0),values:t._stacks[e.axis]._visualValues},n,a.index,{mode:r})}updateRangeFromParsed(e,t,r,s){const a=r[t.axis];let n=null===a?NaN:a;const i=s&&r._stacks[t.axis];s&&i&&(s.values=i,n=Lo(s,a,this._cachedMeta.index)),e.min=Math.min(e.min,n),e.max=Math.max(e.max,n)}getMinMax(e,t){const r=this._cachedMeta,s=r._parsed,a=r._sorted&&e===r.iScale,n=s.length,i=this._getOtherScale(e),l=((e,t,r)=>e&&!t.hidden&&t._stacked&&{keys:Mo(r,!0),values:null})(t,r,this.chart),o={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:r,minDefined:s,maxDefined:a}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}(i);let u,h;function m(){h=s[u];const t=h[i.axis];return!$n(h[e.axis])||c>t||d<t}for(u=0;u<n&&(m()||(this.updateRangeFromParsed(o,e,h,l),!a));++u);if(a)for(u=n-1;u>=0;--u)if(!m()){this.updateRangeFromParsed(o,e,h,l);break}return o}getAllParsedValues(e){const t=this._cachedMeta._parsed,r=[];let s,a,n;for(s=0,a=t.length;s<a;++s)n=t[s][e.axis],$n(n)&&r.push(n);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,r=t.iScale,s=t.vScale,a=this.getParsed(e);return{label:r?""+r.getLabelForValue(a[r.axis]):"",value:s?""+s.getLabelForValue(a[s.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,r,s,a;return zn(e)?(t=e.top,r=e.right,s=e.bottom,a=e.left):t=r=s=a=e,{top:t,right:r,bottom:s,left:a,disabled:!1===e}}(Hn(this.options.clip,function(e,t,r){if(!1===r)return!1;const s=To(e,r),a=To(t,r);return{top:a.end,right:s.end,bottom:a.start,left:s.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,r=this._cachedMeta,s=r.data||[],a=t.chartArea,n=[],i=this._drawStart||0,l=this._drawCount||s.length-i,o=this.options.drawActiveElementsOnTop;let c;for(r.dataset&&r.dataset.draw(e,a,i,l),c=i;c<i+l;++c){const t=s[c];t.hidden||(t.active&&o?n.push(t):t.draw(e,a))}for(c=0;c<n.length;++c)n[c].draw(e,a)}getStyle(e,t){const r=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,t,r){const s=this.getDataset();let a;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];a=t.$context||(t.$context=function(e,t,r){return Ol(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:r,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),a.parsed=this.getParsed(e),a.raw=s.data[e],a.index=a.dataIndex=e}else a=this.$context||(this.$context=function(e,t){return Ol(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),a.dataset=s,a.index=a.datasetIndex=this.index;return a.active=!!t,a.mode=r,a}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",r=arguments.length>2?arguments[2]:void 0;const s="active"===t,a=this._cachedDataOpts,n=e+"-"+t,i=a[n],l=this.enableOptionSharing&&ni(r);if(i)return Wo(i,l);const o=this.chart.config,c=o.datasetElementScopeKeys(this._type,e),d=s?[`${e}Hover`,"hover",e,""]:[e,""],u=o.getOptionScopes(this.getDataset(),c),h=Object.keys(ol.elements[e]),m=o.resolveNamedOptions(u,h,()=>this.getContext(r,s,t),d);return m.$shared&&(m.$shared=l,a[n]=Object.freeze(Wo(m,l))),m}_resolveAnimations(e,t,r){const s=this.chart,a=this._cachedDataOpts,n=`animation-${t}`,i=a[n];if(i)return i;let l;if(!1!==s.options.animation){const s=this.chart.config,a=s.datasetAnimationScopeKeys(this._type,t),n=s.getOptionScopes(this.getDataset(),a);l=s.createResolver(n,this.getContext(e,r,t))}const o=new Oo(s,l&&l.animations);return l&&l._cacheable&&(a[n]=Object.freeze(o)),o}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||$o(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const r=this.resolveDataElementOptions(e,t),s=this._sharedOptions,a=this.getSharedOptions(r),n=this.includeOptions(t,a)||a!==s;return this.updateSharedOptions(a,t,r),{sharedOptions:a,includeOptions:n}}updateElement(e,t,r,s){$o(s)?Object.assign(e,r):this._resolveAnimations(t,s).update(e,r)}updateSharedOptions(e,t,r){e&&!$o(t)&&this._resolveAnimations(void 0,t).update(e,r)}_setStyle(e,t,r,s){e.active=s;const a=this.getStyle(t,s);this._resolveAnimations(t,r,s).update(e,{options:!s&&this.getSharedOptions(a)||a})}removeHoverStyle(e,t,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,t,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,r=this._cachedMeta.data;for(const[i,l,o]of this._syncList)this[i](l,o);this._syncList=[];const s=r.length,a=t.length,n=Math.min(a,s);n&&this.parse(0,n),a>s?this._insertElements(s,a-s,e):a<s&&this._removeElements(a,s-a)}_insertElements(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const s=this._cachedMeta,a=s.data,n=e+t;let i;const l=e=>{for(e.length+=t,i=e.length-1;i>=n;i--)e[i]=e[i-t]};for(l(a),i=e;i<n;++i)a[i]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(e,t),r&&this.updateElements(a,e,t,"reset")}updateElements(e,t,r,s){}_removeElements(e,t){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,t);r._stacked&&zo(r,s)}r.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,r,s]=e;this[t](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function qo(e){const t=e.iScale,r=function(e,t){if(!e._cache.$bar){const r=e.getMatchingVisibleMetas(t);let s=[];for(let t=0,a=r.length;t<a;t++)s=s.concat(r[t].controller.getAllParsedValues(e));e._cache.$bar=Di(s.sort((e,t)=>e-t))}return e._cache.$bar}(t,e.type);let s,a,n,i,l=t._length;const o=()=>{32767!==n&&-32768!==n&&(ni(i)&&(l=Math.min(l,Math.abs(n-i)||l)),i=n)};for(s=0,a=r.length;s<a;++s)n=t.getPixelForValue(r[s]),o();for(i=void 0,s=0,a=t.ticks.length;s<a;++s)n=t.getPixelForTick(s),o();return l}function Yo(e,t,r,s){return Vn(e)?function(e,t,r,s){const a=r.parse(e[0],s),n=r.parse(e[1],s),i=Math.min(a,n),l=Math.max(a,n);let o=i,c=l;Math.abs(i)>Math.abs(l)&&(o=l,c=i),t[r.axis]=c,t._custom={barStart:o,barEnd:c,start:a,end:n,min:i,max:l}}(e,t,r,s):t[r.axis]=r.parse(e,s),t}function Ko(e,t,r,s){const a=e.iScale,n=e.vScale,i=a.getLabels(),l=a===n,o=[];let c,d,u,h;for(c=r,d=r+s;c<d;++c)h=t[c],u={},u[a.axis]=l||a.parse(i[c],c),o.push(Yo(h,u,n,c));return o}function Go(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function Qo(e,t,r,s){let a=t.borderSkipped;const n={};if(!a)return void(e.borderSkipped=n);if(!0===a)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:i,end:l,reverse:o,top:c,bottom:d}=function(e){let t,r,s,a,n;return e.horizontal?(t=e.base>e.x,r="left",s="right"):(t=e.base<e.y,r="bottom",s="top"),t?(a="end",n="start"):(a="start",n="end"),{start:r,end:s,reverse:t,top:a,bottom:n}}(e);"middle"===a&&r&&(e.enableBorderRadius=!0,(r._top||0)===s?a=c:(r._bottom||0)===s?a=d:(n[Zo(d,i,l,o)]=!0,a=c)),n[Zo(a,i,l,o)]=!0,e.borderSkipped=n}function Zo(e,t,r,s){var a,n,i;return s?(i=r,e=Jo(e=(a=e)===(n=t)?i:a===i?n:a,r,t)):e=Jo(e,t,r),e}function Jo(e,t,r){return"start"===e?t:"end"===e?r:e}function Xo(e,t,r){let{inflateAmount:s}=t;e.inflateAmount="auto"===s?1===r?.33:0:s}class ec extends Ho{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,t,r,s){return Ko(e,t,r,s)}parseArrayData(e,t,r,s){return Ko(e,t,r,s)}parseObjectData(e,t,r,s){const{iScale:a,vScale:n}=e,{xAxisKey:i="x",yAxisKey:l="y"}=this._parsing,o="x"===a.axis?i:l,c="x"===n.axis?i:l,d=[];let u,h,m,g;for(u=r,h=r+s;u<h;++u)g=t[u],m={},m[a.axis]=a.parse(si(g,o),u),d.push(Yo(si(g,c),m,n,u));return d}updateRangeFromParsed(e,t,r,s){super.updateRangeFromParsed(e,t,r,s);const a=r._custom;a&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,a.min),e.max=Math.max(e.max,a.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:r,vScale:s}=t,a=this.getParsed(e),n=a._custom,i=Go(n)?"["+n.start+", "+n.end+"]":""+s.getLabelForValue(a[s.axis]);return{label:""+r.getLabelForValue(a[r.axis]),value:i}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,r,s){const a="reset"===s,{index:n,_cachedMeta:{vScale:i}}=this,l=i.getBasePixel(),o=i.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,s);for(let h=t;h<t+r;h++){const t=this.getParsed(h),r=a||Bn(t[i.axis])?{base:l,head:l}:this._calculateBarValuePixels(h),m=this._calculateBarIndexPixels(h,c),g=(t._stacks||{})[i.axis],x={horizontal:o,base:r.base,enableBorderRadius:!g||Go(t._custom)||n===g._top||n===g._bottom,x:o?r.head:m.center,y:o?m.center:r.head,height:o?m.size:Math.abs(r.size),width:o?Math.abs(r.size):m.size};u&&(x.options=d||this.resolveDataElementOptions(h,e[h].active?"active":s));const p=x.options||e[h].options;Qo(x,p,g,n),Xo(x,p,c.ratio),this.updateElement(e[h],h,x,s)}}_getStacks(e,t){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),a=r.options.stacked,n=[],i=this._cachedMeta.controller.getParsed(t),l=i&&i[r.axis],o=e=>{const t=e._parsed.find(e=>e[r.axis]===l),s=t&&t[e.vScale.axis];if(Bn(s)||isNaN(s))return!0};for(const c of s)if((void 0===t||!o(c))&&((!1===a||-1===n.indexOf(c.stack)||void 0===a&&void 0===c.stack)&&n.push(c.stack),c.index===e))break;return n.length||n.push(void 0),n}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(r=>e[r].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)e[Hn("x"===this.chart.options.indexAxis?r.xAxisID:r.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,r){const s=this._getStacks(e,r),a=void 0!==t?s.indexOf(t):-1;return-1===a?s.length-1:a}_getRuler(){const e=this.options,t=this._cachedMeta,r=t.iScale,s=[];let a,n;for(a=0,n=t.data.length;a<n;++a)s.push(r.getPixelForValue(this.getParsed(a)[r.axis],a));const i=e.barThickness;return{min:i||qo(t),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:i?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:r,index:s},options:{base:a,minBarLength:n}}=this,i=a||0,l=this.getParsed(e),o=l._custom,c=Go(o);let d,u,h=l[t.axis],m=0,g=r?this.applyStack(t,l,r):h;g!==h&&(m=g-h,g=h),c&&(h=o.barStart,g=o.barEnd-o.barStart,0!==h&&fi(h)!==fi(o.barEnd)&&(m=0),m+=h);const x=Bn(a)||c?m:a;let p=t.getPixelForValue(x);if(d=this.chart.getDataVisibility(e)?t.getPixelForValue(m+g):p,u=d-p,Math.abs(u)<n){u=function(e,t,r){return 0!==e?fi(e):(t.isHorizontal()?1:-1)*(t.min>=r?1:-1)}(u,t,i)*n,h===i&&(p-=u/2);const e=t.getPixelForDecimal(0),a=t.getPixelForDecimal(1),o=Math.min(e,a),m=Math.max(e,a);p=Math.max(Math.min(p,m),o),d=p+u,r&&!c&&(l._stacks[t.axis]._visualValues[s]=t.getValueForPixel(d)-t.getValueForPixel(p))}if(p===t.getPixelForValue(i)){const e=fi(u)*t.getLineWidthForValue(i)/2;p+=e,u-=e}return{size:u,base:p,head:d,center:d+u/2}}_calculateBarIndexPixels(e,t){const r=t.scale,s=this.options,a=s.skipNull,n=Hn(s.maxBarThickness,1/0);let i,l;const o=this._getAxisCount();if(t.grouped){const r=a?this._getStackCount(e):t.stackCount,c="flex"===s.barThickness?function(e,t,r,s){const a=t.pixels,n=a[e];let i=e>0?a[e-1]:null,l=e<a.length-1?a[e+1]:null;const o=r.categoryPercentage;null===i&&(i=n-(null===l?t.end-t.start:l-n)),null===l&&(l=n+n-i);const c=n-(n-Math.min(i,l))/2*o;return{chunk:Math.abs(l-i)/2*o/s,ratio:r.barPercentage,start:c}}(e,t,s,r*o):function(e,t,r,s){const a=r.barThickness;let n,i;return Bn(a)?(n=t.min*r.categoryPercentage,i=r.barPercentage):(n=a*s,i=1),{chunk:n/s,ratio:i,start:t.pixels[e]-n/2}}(e,t,s,r*o),d="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,u=this._getAxis().indexOf(Hn(d,this.getFirstScaleIdForIndexAxis())),h=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0)+u;i=c.start+c.chunk*h+c.chunk/2,l=Math.min(n,c.chunk*c.ratio)}else i=r.getPixelForValue(this.getParsed(e)[r.axis],e),l=Math.min(n,t.min*t.ratio);return{base:i-l/2,head:i+l/2,center:i,size:l}}draw(){const e=this._cachedMeta,t=e.vScale,r=e.data,s=r.length;let a=0;for(;a<s;++a)null===this.getParsed(a)[t.axis]||r[a].hidden||r[a].draw(this._ctx)}}class tc extends Ho{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:r,color:s}}=e.legend.options;return t.labels.map((t,a)=>{const n=e.getDatasetMeta(0).controller.getStyle(a);return{text:t,fillStyle:n.backgroundColor,strokeStyle:n.borderColor,fontColor:s,lineWidth:n.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(a),index:a}})}return[]}},onClick(e,t,r){r.chart.toggleDataVisibility(t.index),r.chart.update()}}}};constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const r=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=r;else{let a,n,i=e=>+r[e];if(zn(r[e])){const{key:e="value"}=this._parsing;i=t=>+si(r[t],e)}for(a=e,n=e+t;a<n;++a)s._parsed[a]=i(a)}}_getRotation(){return ji(this.options.rotation-90)}_getCircumference(){return ji(this.options.circumference)}_getRotationExtents(){let e=ci,t=-ci;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const s=this.chart.getDatasetMeta(r).controller,a=s._getRotation(),n=s._getCircumference();e=Math.min(e,a),t=Math.max(t,a+n)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:r}=t,s=this._cachedMeta,a=s.data,n=this.getMaxBorderWidth()+this.getMaxOffset(a)+this.options.spacing,i=Math.max((Math.min(r.width,r.height)-n)/2,0),l=Math.min((o=this.options.cutout,c=i,"string"===typeof o&&o.endsWith("%")?parseFloat(o)/100:+o/c),1);var o,c;const d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:m,ratioY:g,offsetX:x,offsetY:p}=function(e,t,r){let s=1,a=1,n=0,i=0;if(t<ci){const l=e,o=l+t,c=Math.cos(l),d=Math.sin(l),u=Math.cos(o),h=Math.sin(o),m=(e,t,s)=>Pi(e,l,o,!0)?1:Math.max(t,t*r,s,s*r),g=(e,t,s)=>Pi(e,l,o,!0)?-1:Math.min(t,t*r,s,s*r),x=m(0,c,u),p=m(mi,d,h),f=g(oi,c,u),y=g(oi+mi,d,h);s=(x-f)/2,a=(p-y)/2,n=-(x+f)/2,i=-(p+y)/2}return{ratioX:s,ratioY:a,offsetX:n,offsetY:i}}(h,u,l),f=(r.width-n)/m,y=(r.height-n)/g,b=Math.max(Math.min(f,y)/2,0),v=qn(this.options.radius,b),w=(v-Math.max(v*l,0))/this._getVisibleDatasetWeightTotal();this.offsetX=x*v,this.offsetY=p*v,s.total=this.calculateTotal(),this.outerRadius=v-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*d,0),this.updateElements(a,0,a.length,e)}_circumference(e,t){const r=this.options,s=this._cachedMeta,a=this._getCircumference();return t&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===s._parsed[e]||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*a/ci)}updateElements(e,t,r,s){const a="reset"===s,n=this.chart,i=n.chartArea,l=n.options.animation,o=(i.left+i.right)/2,c=(i.top+i.bottom)/2,d=a&&l.animateScale,u=d?0:this.innerRadius,h=d?0:this.outerRadius,{sharedOptions:m,includeOptions:g}=this._getSharedOptions(t,s);let x,p=this._getRotation();for(x=0;x<t;++x)p+=this._circumference(x,a);for(x=t;x<t+r;++x){const t=this._circumference(x,a),r=e[x],n={x:o+this.offsetX,y:c+this.offsetY,startAngle:p,endAngle:p+t,circumference:t,outerRadius:h,innerRadius:u};g&&(n.options=m||this.resolveDataElementOptions(x,r.active?"active":s)),p+=t,this.updateElement(r,x,n,s)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let r,s=0;for(r=0;r<t.length;r++){const a=e._parsed[r];null===a||isNaN(a)||!this.chart.getDataVisibility(r)||t[r].hidden||(s+=Math.abs(a))}return s}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?ci*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,r=this.chart,s=r.data.labels||[],a=el(t._parsed[e],r.options.locale);return{label:s[e]||"",value:a}}getMaxBorderWidth(e){let t=0;const r=this.chart;let s,a,n,i,l;if(!e)for(s=0,a=r.data.datasets.length;s<a;++s)if(r.isDatasetVisible(s)){n=r.getDatasetMeta(s),e=n.data,i=n.controller;break}if(!e)return 0;for(s=0,a=e.length;s<a;++s)l=i.resolveDataElementOptions(s),"inner"!==l.borderAlign&&(t=Math.max(t,l.borderWidth||0,l.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let r=0,s=e.length;r<s;++r){const e=this.resolveDataElementOptions(r);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(t+=this._getRingWeight(r));return t}_getRingWeight(e){return Math.max(Hn(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class rc extends Ho{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:r,data:s=[],_dataset:a}=t,n=this.chart._animationsDisabled;let{start:i,count:l}=zi(t,s,n);this._drawStart=i,this._drawCount=l,$i(t)&&(i=0,l=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!a._decimated,r.points=s;const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0),o.segment=this.options.segment,this.updateElement(r,void 0,{animated:!n,options:o},e),this.updateElements(s,i,l,e)}updateElements(e,t,r,s){const a="reset"===s,{iScale:n,vScale:i,_stacked:l,_dataset:o}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,s),u=n.axis,h=i.axis,{spanGaps:m,segment:g}=this.options,x=vi(m)?m:Number.POSITIVE_INFINITY,p=this.chart._animationsDisabled||a||"none"===s,f=t+r,y=e.length;let b=t>0&&this.getParsed(t-1);for(let v=0;v<y;++v){const r=e[v],m=p?r:{};if(v<t||v>=f){m.skip=!0;continue}const y=this.getParsed(v),w=Bn(y[h]),j=m[u]=n.getPixelForValue(y[u],v),k=m[h]=a||w?i.getBasePixel():i.getPixelForValue(l?this.applyStack(i,y,l):y[h],v);m.skip=isNaN(j)||isNaN(k)||w,m.stop=v>0&&Math.abs(y[u]-b[u])>x,g&&(m.parsed=y,m.raw=o.data[v]),d&&(m.options=c||this.resolveDataElementOptions(v,r.active?"active":s)),p||this.updateElement(r,v,m,s),b=y}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,r=t.options&&t.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const a=s[0].size(this.resolveDataElementOptions(0)),n=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,a,n)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}function sc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ac{static override(e){Object.assign(ac.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return sc()}parse(){return sc()}format(){return sc()}add(){return sc()}diff(){return sc()}startOf(){return sc()}endOf(){return sc()}}var nc=ac;function ic(e,t,r,s){const{controller:a,data:n,_sorted:i}=e,l=a._cachedMeta.iScale,o=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(l&&t===l.axis&&"r"!==t&&i&&n.length){const i=l._reversePixels?Ti:Oi;if(!s){const s=i(n,t,r);if(o){const{vScale:t}=a._cachedMeta,{_parsed:r}=e,n=r.slice(0,s.lo+1).reverse().findIndex(e=>!Bn(e[t.axis]));s.lo-=Math.max(0,n);const i=r.slice(s.hi).findIndex(e=>!Bn(e[t.axis]));s.hi+=Math.max(0,i)}return s}if(a._sharedOptions){const e=n[0],s="function"===typeof e.getRange&&e.getRange(t);if(s){const e=i(n,t,r-s),a=i(n,t,r+s);return{lo:e.lo,hi:a.hi}}}}return{lo:0,hi:n.length-1}}function lc(e,t,r,s,a){const n=e.getSortedVisibleDatasetMetas(),i=r[t];for(let l=0,o=n.length;l<o;++l){const{index:e,data:r}=n[l],{lo:o,hi:c}=ic(n[l],t,i,a);for(let t=o;t<=c;++t){const a=r[t];a.skip||s(a,e,t)}}}function oc(e,t,r,s,a){const n=[];if(!a&&!e.isPointInArea(t))return n;return lc(e,r,t,function(r,i,l){(a||gl(r,e.chartArea,0))&&r.inRange(t.x,t.y,s)&&n.push({element:r,datasetIndex:i,index:l})},!0),n}function cc(e,t,r,s,a,n){let i=[];const l=function(e){const t=-1!==e.indexOf("x"),r=-1!==e.indexOf("y");return function(e,s){const a=t?Math.abs(e.x-s.x):0,n=r?Math.abs(e.y-s.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(n,2))}}(r);let o=Number.POSITIVE_INFINITY;return lc(e,r,t,function(r,c,d){const u=r.inRange(t.x,t.y,a);if(s&&!u)return;const h=r.getCenterPoint(a);if(!(!!n||e.isPointInArea(h))&&!u)return;const m=l(t,h);m<o?(i=[{element:r,datasetIndex:c,index:d}],o=m):m===o&&i.push({element:r,datasetIndex:c,index:d})}),i}function dc(e,t,r,s,a,n){return n||e.isPointInArea(t)?"r"!==r||s?cc(e,t,r,s,a,n):function(e,t,r,s){let a=[];return lc(e,r,t,function(e,r,n){const{startAngle:i,endAngle:l}=e.getProps(["startAngle","endAngle"],s),{angle:o}=Si(e,{x:t.x,y:t.y});Pi(o,i,l)&&a.push({element:e,datasetIndex:r,index:n})}),a}(e,t,r,a):[]}function uc(e,t,r,s,a){const n=[],i="x"===r?"inXRange":"inYRange";let l=!1;return lc(e,r,t,(e,s,o)=>{e[i]&&e[i](t[r],a)&&(n.push({element:e,datasetIndex:s,index:o}),l=l||e.inRange(t.x,t.y,a))}),s&&!l?[]:n}var hc={evaluateInteractionItems:lc,modes:{index(e,t,r,s){const a=io(t,e),n=r.axis||"x",i=r.includeInvisible||!1,l=r.intersect?oc(e,a,n,s,i):dc(e,a,n,!1,s,i),o=[];return l.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=l[0].index,r=e.data[t];r&&!r.skip&&o.push({element:r,datasetIndex:e.index,index:t})}),o):[]},dataset(e,t,r,s){const a=io(t,e),n=r.axis||"xy",i=r.includeInvisible||!1;let l=r.intersect?oc(e,a,n,s,i):dc(e,a,n,!1,s,i);if(l.length>0){const t=l[0].datasetIndex,r=e.getDatasetMeta(t).data;l=[];for(let e=0;e<r.length;++e)l.push({element:r[e],datasetIndex:t,index:e})}return l},point:(e,t,r,s)=>oc(e,io(t,e),r.axis||"xy",s,r.includeInvisible||!1),nearest(e,t,r,s){const a=io(t,e),n=r.axis||"xy",i=r.includeInvisible||!1;return dc(e,a,n,r.intersect,s,i)},x:(e,t,r,s)=>uc(e,io(t,e),"x",r.intersect,s),y:(e,t,r,s)=>uc(e,io(t,e),"y",r.intersect,s)}};const mc=["left","top","right","bottom"];function gc(e,t){return e.filter(e=>e.pos===t)}function xc(e,t){return e.filter(e=>-1===mc.indexOf(e.pos)&&e.box.axis===t)}function pc(e,t){return e.sort((e,r)=>{const s=t?r:e,a=t?e:r;return s.weight===a.weight?s.index-a.index:s.weight-a.weight})}function fc(e,t){const r=function(e){const t={};for(const r of e){const{stack:e,pos:s,stackWeight:a}=r;if(!e||!mc.includes(s))continue;const n=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});n.count++,n.weight+=a}return t}(e),{vBoxMaxWidth:s,hBoxMaxHeight:a}=t;let n,i,l;for(n=0,i=e.length;n<i;++n){l=e[n];const{fullSize:i}=l.box,o=r[l.stack],c=o&&l.stackWeight/o.weight;l.horizontal?(l.width=c?c*s:i&&t.availableWidth,l.height=a):(l.width=s,l.height=c?c*a:i&&t.availableHeight)}return r}function yc(e,t,r,s){return Math.max(e[r],t[r])+Math.max(e[s],t[s])}function bc(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function vc(e,t,r,s){const{pos:a,box:n}=r,i=e.maxPadding;if(!zn(a)){r.size&&(e[a]-=r.size);const t=s[r.stack]||{size:0,count:1};t.size=Math.max(t.size,r.horizontal?n.height:n.width),r.size=t.size/t.count,e[a]+=r.size}n.getPadding&&bc(i,n.getPadding());const l=Math.max(0,t.outerWidth-yc(i,e,"left","right")),o=Math.max(0,t.outerHeight-yc(i,e,"top","bottom")),c=l!==e.w,d=o!==e.h;return e.w=l,e.h=o,r.horizontal?{same:c,other:d}:{same:d,other:c}}function wc(e,t){const r=t.maxPadding;function s(e){const s={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{s[e]=Math.max(t[e],r[e])}),s}return s(e?["left","right"]:["top","bottom"])}function jc(e,t,r,s){const a=[];let n,i,l,o,c,d;for(n=0,i=e.length,c=0;n<i;++n){l=e[n],o=l.box,o.update(l.width||t.w,l.height||t.h,wc(l.horizontal,t));const{same:i,other:u}=vc(t,r,l,s);c|=i&&a.length,d=d||u,o.fullSize||a.push(l)}return c&&jc(a,t,r,s)||d}function kc(e,t,r,s,a){e.top=r,e.left=t,e.right=t+s,e.bottom=r+a,e.width=s,e.height=a}function Nc(e,t,r,s){const a=r.padding;let{x:n,y:i}=t;for(const l of e){const e=l.box,o=s[l.stack]||{count:1,placed:0,weight:1},c=l.stackWeight/o.weight||1;if(l.horizontal){const s=t.w*c,n=o.size||e.height;ni(o.start)&&(i=o.start),e.fullSize?kc(e,a.left,i,r.outerWidth-a.right-a.left,n):kc(e,t.left+o.placed,i,s,n),o.start=i,o.placed+=s,i=e.bottom}else{const s=t.h*c,i=o.size||e.width;ni(o.start)&&(n=o.start),e.fullSize?kc(e,n,a.top,i,r.outerHeight-a.bottom-a.top):kc(e,n,t.top+o.placed,i,s),o.start=n,o.placed+=s,n=e.right}}t.x=n,t.y=i}var Sc={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const r=e.boxes?e.boxes.indexOf(t):-1;-1!==r&&e.boxes.splice(r,1)},configure(e,t,r){t.fullSize=r.fullSize,t.position=r.position,t.weight=r.weight},update(e,t,r,s){if(!e)return;const a=Al(e.options.layout.padding),n=Math.max(t-a.width,0),i=Math.max(r-a.height,0),l=function(e){const t=function(e){const t=[];let r,s,a,n,i,l;for(r=0,s=(e||[]).length;r<s;++r)a=e[r],({position:n,options:{stack:i,stackWeight:l=1}}=a),t.push({index:r,box:a,pos:n,horizontal:a.isHorizontal(),weight:a.weight,stack:i&&n+i,stackWeight:l});return t}(e),r=pc(t.filter(e=>e.box.fullSize),!0),s=pc(gc(t,"left"),!0),a=pc(gc(t,"right")),n=pc(gc(t,"top"),!0),i=pc(gc(t,"bottom")),l=xc(t,"x"),o=xc(t,"y");return{fullSize:r,leftAndTop:s.concat(n),rightAndBottom:a.concat(o).concat(i).concat(l),chartArea:gc(t,"chartArea"),vertical:s.concat(a).concat(o),horizontal:n.concat(i).concat(l)}}(e.boxes),o=l.vertical,c=l.horizontal;Kn(e.boxes,e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()});const d=o.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:r,padding:a,availableWidth:n,availableHeight:i,vBoxMaxWidth:n/2/d,hBoxMaxHeight:i/2}),h=Object.assign({},a);bc(h,Al(s));const m=Object.assign({maxPadding:h,w:n,h:i,x:a.left,y:a.top},a),g=fc(o.concat(c),u);jc(l.fullSize,m,u,g),jc(o,m,u,g),jc(c,m,u,g)&&jc(o,m,u,g),function(e){const t=e.maxPadding;function r(r){const s=Math.max(t[r]-e[r],0);return e[r]+=s,s}e.y+=r("top"),e.x+=r("left"),r("right"),r("bottom")}(m),Nc(l.leftAndTop,m,u,g),m.x+=m.w,m.y+=m.h,Nc(l.rightAndBottom,m,u,g),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},Kn(l.chartArea,t=>{const r=t.box;Object.assign(r,e.chartArea),r.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class _c{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,r,s){return t=Math.max(0,t||e.width),r=r||e.height,{width:t,height:Math.max(0,s?Math.floor(t/s):r)}}isAttached(e){return!0}updateConfig(e){}}class Cc extends _c{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Ec="$chartjs",Pc={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ac=e=>null===e||""===e;const Rc=!!uo&&{passive:!0};function Ic(e,t,r){e&&e.canvas&&e.canvas.removeEventListener(t,r,Rc)}function Oc(e,t){for(const r of e)if(r===t||r.contains(t))return!0}function Tc(e,t,r){const s=e.canvas,a=new MutationObserver(e=>{let t=!1;for(const r of e)t=t||Oc(r.addedNodes,s),t=t&&!Oc(r.removedNodes,s);t&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function Mc(e,t,r){const s=e.canvas,a=new MutationObserver(e=>{let t=!1;for(const r of e)t=t||Oc(r.removedNodes,s),t=t&&!Oc(r.addedNodes,s);t&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const Lc=new Map;let Dc=0;function Fc(){const e=window.devicePixelRatio;e!==Dc&&(Dc=e,Lc.forEach((t,r)=>{r.currentDevicePixelRatio!==e&&t()}))}function Uc(e,t,r){const s=e.canvas,a=s&&to(s);if(!a)return;const n=Ui((e,t)=>{const s=a.clientWidth;r(e,t),s<a.clientWidth&&r()},window),i=new ResizeObserver(e=>{const t=e[0],r=t.contentRect.width,s=t.contentRect.height;0===r&&0===s||n(r,s)});return i.observe(a),function(e,t){Lc.size||window.addEventListener("resize",Fc),Lc.set(e,t)}(e,n),i}function Bc(e,t,r){r&&r.disconnect(),"resize"===t&&function(e){Lc.delete(e),Lc.size||window.removeEventListener("resize",Fc)}(e)}function Vc(e,t,r){const s=e.canvas,a=Ui(t=>{null!==e.ctx&&r(function(e,t){const r=Pc[e.type]||e.type,{x:s,y:a}=io(e,t);return{type:r,chart:t,native:e,x:void 0!==s?s:null,y:void 0!==a?a:null}}(t,e))},e);return function(e,t,r){e&&e.addEventListener(t,r,Rc)}(s,t,a),a}class zc extends _c{acquireContext(e,t){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(function(e,t){const r=e.style,s=e.getAttribute("height"),a=e.getAttribute("width");if(e[Ec]={initial:{height:s,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",Ac(a)){const t=ho(e,"width");void 0!==t&&(e.width=t)}if(Ac(s))if(""===e.style.height)e.height=e.width/(t||2);else{const t=ho(e,"height");void 0!==t&&(e.height=t)}}(e,t),r):null}releaseContext(e){const t=e.canvas;if(!t[Ec])return!1;const r=t[Ec].initial;["height","width"].forEach(e=>{const s=r[e];Bn(s)?t.removeAttribute(e):t.setAttribute(e,s)});const s=r.style||{};return Object.keys(s).forEach(e=>{t.style[e]=s[e]}),t.width=t.width,delete t[Ec],!0}addEventListener(e,t,r){this.removeEventListener(e,t);const s=e.$proxies||(e.$proxies={}),a={attach:Tc,detach:Mc,resize:Uc}[t]||Vc;s[t]=a(e,t,r)}removeEventListener(e,t){const r=e.$proxies||(e.$proxies={}),s=r[t];if(!s)return;({attach:Bc,detach:Bc,resize:Bc}[t]||Ic)(e,t,s),r[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,r,s){return oo(e,t,r,s)}isAttached(e){const t=e&&to(e);return!(!t||!t.isConnected)}}class $c{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}hasValue(){return vi(this.x)&&vi(this.y)}getProps(e,t){const r=this.$animations;if(!t||!r)return this;const s={};return e.forEach(e=>{s[e]=r[e]&&r[e].active()?r[e]._to:this[e]}),s}}function Wc(e,t){const r=e.options.ticks,s=function(e){const t=e.options.offset,r=e._tickSize(),s=e._length/r+(t?0:1),a=e._maxLength/r;return Math.floor(Math.min(s,a))}(e),a=Math.min(r.maxTicksLimit||s,s),n=r.major.enabled?function(e){const t=[];let r,s;for(r=0,s=e.length;r<s;r++)e[r].major&&t.push(r);return t}(t):[],i=n.length,l=n[0],o=n[i-1],c=[];if(i>a)return function(e,t,r,s){let a,n=0,i=r[0];for(s=Math.ceil(s),a=0;a<e.length;a++)a===i&&(t.push(e[a]),n++,i=r[n*s])}(t,c,n,i/a),c;const d=function(e,t,r){const s=function(e){const t=e.length;let r,s;if(t<2)return!1;for(s=e[0],r=1;r<t;++r)if(e[r]-e[r-1]!==s)return!1;return s}(e),a=t.length/r;if(!s)return Math.max(a,1);const n=function(e){const t=[],r=Math.sqrt(e);let s;for(s=1;s<r;s++)e%s===0&&(t.push(s),t.push(e/s));return r===(0|r)&&t.push(r),t.sort((e,t)=>e-t).pop(),t}(s);for(let i=0,l=n.length-1;i<l;i++){const e=n[i];if(e>a)return e}return Math.max(a,1)}(n,t,a);if(i>0){let e,r;const s=i>1?Math.round((o-l)/(i-1)):null;for(Hc(t,c,d,Bn(s)?0:l-s,l),e=0,r=i-1;e<r;e++)Hc(t,c,d,n[e],n[e+1]);return Hc(t,c,d,o,Bn(s)?t.length:o+s),c}return Hc(t,c,d),c}function Hc(e,t,r,s,a){const n=Hn(s,0),i=Math.min(Hn(a,e.length),e.length);let l,o,c,d=0;for(r=Math.ceil(r),a&&(l=a-s,r=l/Math.floor(l/r)),c=n;c<0;)d++,c=Math.round(n+d*r);for(o=Math.max(n,0);o<i;o++)o===c&&(t.push(e[o]),d++,c=Math.round(n+d*r))}const qc=(e,t,r)=>"top"===t||"left"===t?e[t]+r:e[t]-r,Yc=(e,t)=>Math.min(t||e,e);function Kc(e,t){const r=[],s=e.length/t,a=e.length;let n=0;for(;n<a;n+=s)r.push(e[Math.floor(n)]);return r}function Gc(e,t,r){const s=e.ticks.length,a=Math.min(t,s-1),n=e._startPixel,i=e._endPixel,l=1e-6;let o,c=e.getPixelForTick(a);if(!(r&&(o=1===s?Math.max(c-n,i-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(a-1))/2,c+=a<t?o:-o,c<n-l||c>i+l)))return c}function Qc(e){return e.drawTicks?e.tickLength:0}function Zc(e,t){if(!e.display)return 0;const r=Rl(e.font,t),s=Al(e.padding);return(Vn(e.text)?e.text.length:1)*r.lineHeight+s.height}function Jc(e,t,r){let s=Bi(e);return(r&&"right"!==t||!r&&"right"===t)&&(s=(e=>"left"===e?"right":"right"===e?"left":e)(s)),s}class Xc extends $c{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:r,_suggestedMax:s}=this;return e=Wn(e,Number.POSITIVE_INFINITY),t=Wn(t,Number.NEGATIVE_INFINITY),r=Wn(r,Number.POSITIVE_INFINITY),s=Wn(s,Number.NEGATIVE_INFINITY),{min:Wn(e,r),max:Wn(t,s),minDefined:$n(e),maxDefined:$n(t)}}getMinMax(e){let t,{min:r,max:s,minDefined:a,maxDefined:n}=this.getUserBounds();if(a&&n)return{min:r,max:s};const i=this.getMatchingVisibleMetas();for(let l=0,o=i.length;l<o;++l)t=i[l].controller.getMinMax(this,e),a||(r=Math.min(r,t.min)),n||(s=Math.max(s,t.max));return r=n&&r>s?s:r,s=a&&r>s?r:s,{min:Wn(r,Wn(s,r)),max:Wn(s,Wn(r,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Yn(this.options.beforeUpdate,[this])}update(e,t,r){const{beginAtZero:s,grace:a,ticks:n}=this.options,i=n.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,r){const{min:s,max:a}=e,n=qn(t,(a-s)/2),i=(e,t)=>r&&0===e?0:e+t;return{min:i(s,-Math.abs(n)),max:i(a,n)}}(this,a,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=i<this.ticks.length;this._convertTicksToLabels(l?Kc(this.ticks,i):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),n.display&&(n.autoSkip||"auto"===n.source)&&(this.ticks=Wc(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,r=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,r=!r),this._startPixel=e,this._endPixel=t,this._reversePixels=r,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Yn(this.options.afterUpdate,[this])}beforeSetDimensions(){Yn(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Yn(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Yn(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Yn(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let r,s,a;for(r=0,s=e.length;r<s;r++)a=e[r],a.label=Yn(t.callback,[a.value,r,e],this)}afterTickToLabelConversion(){Yn(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Yn(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,r=Yc(this.ticks.length,e.ticks.maxTicksLimit),s=t.minRotation||0,a=t.maxRotation;let n,i,l,o=s;if(!this._isVisible()||!t.display||s>=a||r<=1||!this.isHorizontal())return void(this.labelRotation=s);const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,h=Ai(this.chart.width-d,0,this.maxWidth);n=e.offset?this.maxWidth/r:h/(r-1),d+6>n&&(n=h/(r-(e.offset?.5:1)),i=this.maxHeight-Qc(e.grid)-t.padding-Zc(e.title,this.chart.options.font),l=Math.sqrt(d*d+u*u),o=ki(Math.min(Math.asin(Ai((c.highest.height+6)/n,-1,1)),Math.asin(Ai(i/l,-1,1))-Math.asin(Ai(u/l,-1,1)))),o=Math.max(s,Math.min(a,o))),this.labelRotation=o}afterCalculateLabelRotation(){Yn(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Yn(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:r,title:s,grid:a}}=this,n=this._isVisible(),i=this.isHorizontal();if(n){const n=Zc(s,t.options.font);if(i?(e.width=this.maxWidth,e.height=Qc(a)+n):(e.height=this.maxHeight,e.width=Qc(a)+n),r.display&&this.ticks.length){const{first:t,last:s,widest:a,highest:n}=this._getLabelSizes(),l=2*r.padding,o=ji(this.labelRotation),c=Math.cos(o),d=Math.sin(o);if(i){const t=r.mirror?0:d*a.width+c*n.height;e.height=Math.min(this.maxHeight,e.height+t+l)}else{const t=r.mirror?0:c*a.width+d*n.height;e.width=Math.min(this.maxWidth,e.width+t+l)}this._calculatePadding(t,s,d,c)}}this._handleMargins(),i?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,r,s){const{ticks:{align:a,padding:n},position:i}=this.options,l=0!==this.labelRotation,o="top"!==i&&"x"===this.axis;if(this.isHorizontal()){const i=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;l?o?(d=s*e.width,u=r*t.height):(d=r*e.height,u=s*t.width):"start"===a?u=t.width:"end"===a?d=e.width:"inner"!==a&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-i+n)*this.width/(this.width-i),0),this.paddingRight=Math.max((u-c+n)*this.width/(this.width-c),0)}else{let r=t.height/2,s=e.height/2;"start"===a?(r=0,s=e.height):"end"===a&&(r=t.height,s=0),this.paddingTop=r+n,this.paddingBottom=s+n}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Yn(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,r;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,r=e.length;t<r;t++)Bn(e[t].label)&&(e.splice(t,1),r--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let r=this.ticks;t<r.length&&(r=Kc(r,t)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,r){const{ctx:s,_longestTextCache:a}=this,n=[],i=[],l=Math.floor(t/Yc(t,r));let o,c,d,u,h,m,g,x,p,f,y,b=0,v=0;for(o=0;o<t;o+=l){if(u=e[o].label,h=this._resolveTickFontOptions(o),s.font=m=h.string,g=a[m]=a[m]||{data:{},gc:[]},x=h.lineHeight,p=f=0,Bn(u)||Vn(u)){if(Vn(u))for(c=0,d=u.length;c<d;++c)y=u[c],Bn(y)||Vn(y)||(p=cl(s,g.data,g.gc,p,y),f+=x)}else p=cl(s,g.data,g.gc,p,u),f=x;n.push(p),i.push(f),b=Math.max(p,b),v=Math.max(f,v)}!function(e,t){Kn(e,e=>{const r=e.gc,s=r.length/2;let a;if(s>t){for(a=0;a<s;++a)delete e.data[r[a]];r.splice(0,s)}})}(a,t);const w=n.indexOf(b),j=i.indexOf(v),k=e=>({width:n[e]||0,height:i[e]||0});return{first:k(0),last:k(t-1),widest:k(w),highest:k(j),widths:n,heights:i}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Ai(this._alignToPixels?dl(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const r=t[e];return r.$context||(r.$context=function(e,t,r){return Ol(e,{tick:r,index:t,type:"tick"})}(this.getContext(),e,r))}return this.$context||(this.$context=Ol(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=ji(this.labelRotation),r=Math.abs(Math.cos(t)),s=Math.abs(Math.sin(t)),a=this._getLabelSizes(),n=e.autoSkipPadding||0,i=a?a.widest.width+n:0,l=a?a.highest.height+n:0;return this.isHorizontal()?l*r>i*s?i/r:l/s:l*s<i*r?l/r:i/s}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,r=this.chart,s=this.options,{grid:a,position:n,border:i}=s,l=a.offset,o=this.isHorizontal(),c=this.ticks.length+(l?1:0),d=Qc(a),u=[],h=i.setContext(this.getContext()),m=h.display?h.width:0,g=m/2,x=function(e){return dl(r,e,m)};let p,f,y,b,v,w,j,k,N,S,_,C;if("top"===n)p=x(this.bottom),w=this.bottom-d,k=p-g,S=x(e.top)+g,C=e.bottom;else if("bottom"===n)p=x(this.top),S=e.top,C=x(e.bottom)-g,w=p+g,k=this.top+d;else if("left"===n)p=x(this.right),v=this.right-d,j=p-g,N=x(e.left)+g,_=e.right;else if("right"===n)p=x(this.left),N=e.left,_=x(e.right)-g,v=p+g,j=this.left+d;else if("x"===t){if("center"===n)p=x((e.top+e.bottom)/2+.5);else if(zn(n)){const e=Object.keys(n)[0],t=n[e];p=x(this.chart.scales[e].getPixelForValue(t))}S=e.top,C=e.bottom,w=p+g,k=w+d}else if("y"===t){if("center"===n)p=x((e.left+e.right)/2);else if(zn(n)){const e=Object.keys(n)[0],t=n[e];p=x(this.chart.scales[e].getPixelForValue(t))}v=p-g,j=v-d,N=e.left,_=e.right}const E=Hn(s.ticks.maxTicksLimit,c),P=Math.max(1,Math.ceil(c/E));for(f=0;f<c;f+=P){const e=this.getContext(f),t=a.setContext(e),s=i.setContext(e),n=t.lineWidth,c=t.color,d=s.dash||[],h=s.dashOffset,m=t.tickWidth,g=t.tickColor,x=t.tickBorderDash||[],p=t.tickBorderDashOffset;y=Gc(this,f,l),void 0!==y&&(b=dl(r,y,n),o?v=j=N=_=b:w=k=S=C=b,u.push({tx1:v,ty1:w,tx2:j,ty2:k,x1:N,y1:S,x2:_,y2:C,width:n,color:c,borderDash:d,borderDashOffset:h,tickWidth:m,tickColor:g,tickBorderDash:x,tickBorderDashOffset:p}))}return this._ticksLength=c,this._borderValue=p,u}_computeLabelItems(e){const t=this.axis,r=this.options,{position:s,ticks:a}=r,n=this.isHorizontal(),i=this.ticks,{align:l,crossAlign:o,padding:c,mirror:d}=a,u=Qc(r.grid),h=u+c,m=d?-c:h,g=-ji(this.labelRotation),x=[];let p,f,y,b,v,w,j,k,N,S,_,C,E="middle";if("top"===s)w=this.bottom-m,j=this._getXAxisLabelAlignment();else if("bottom"===s)w=this.top+m,j=this._getXAxisLabelAlignment();else if("left"===s){const e=this._getYAxisLabelAlignment(u);j=e.textAlign,v=e.x}else if("right"===s){const e=this._getYAxisLabelAlignment(u);j=e.textAlign,v=e.x}else if("x"===t){if("center"===s)w=(e.top+e.bottom)/2+h;else if(zn(s)){const e=Object.keys(s)[0],t=s[e];w=this.chart.scales[e].getPixelForValue(t)+h}j=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===s)v=(e.left+e.right)/2-h;else if(zn(s)){const e=Object.keys(s)[0],t=s[e];v=this.chart.scales[e].getPixelForValue(t)}j=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===l?E="top":"end"===l&&(E="bottom"));const P=this._getLabelSizes();for(p=0,f=i.length;p<f;++p){y=i[p],b=y.label;const e=a.setContext(this.getContext(p));k=this.getPixelForTick(p)+a.labelOffset,N=this._resolveTickFontOptions(p),S=N.lineHeight,_=Vn(b)?b.length:1;const t=_/2,r=e.color,l=e.textStrokeColor,c=e.textStrokeWidth;let u,h=j;if(n?(v=k,"inner"===j&&(h=p===f-1?this.options.reverse?"left":"right":0===p?this.options.reverse?"right":"left":"center"),C="top"===s?"near"===o||0!==g?-_*S+S/2:"center"===o?-P.highest.height/2-t*S+S:-P.highest.height+S/2:"near"===o||0!==g?S/2:"center"===o?P.highest.height/2-t*S:P.highest.height-_*S,d&&(C*=-1),0===g||e.showLabelBackdrop||(v+=S/2*Math.sin(g))):(w=k,C=(1-_)*S/2),e.showLabelBackdrop){const t=Al(e.backdropPadding),r=P.heights[p],s=P.widths[p];let a=C-t.top,n=0-t.left;switch(E){case"middle":a-=r/2;break;case"bottom":a-=r}switch(j){case"center":n-=s/2;break;case"right":n-=s;break;case"inner":p===f-1?n-=s:p>0&&(n-=s/2)}u={left:n,top:a,width:s+t.width,height:r+t.height,color:e.backdropColor}}x.push({label:b,font:N,textOffset:C,options:{rotation:g,color:r,strokeColor:l,strokeWidth:c,textAlign:h,textBaseline:E,translation:[v,w],backdrop:u}})}return x}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-ji(this.labelRotation))return"top"===e?"left":"right";let r="center";return"start"===t.align?r="left":"end"===t.align?r="right":"inner"===t.align&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:r,mirror:s,padding:a}}=this.options,n=e+a,i=this._getLabelSizes().widest.width;let l,o;return"left"===t?s?(o=this.right+a,"near"===r?l="left":"center"===r?(l="center",o+=i/2):(l="right",o+=i)):(o=this.right-n,"near"===r?l="right":"center"===r?(l="center",o-=i/2):(l="left",o=this.left)):"right"===t?s?(o=this.left+a,"near"===r?l="right":"center"===r?(l="center",o-=i/2):(l="left",o-=i)):(o=this.left+n,"near"===r?l="left":"center"===r?(l="center",o+=i/2):(l="right",o=this.right)):l="right",{textAlign:l,x:o}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:r,top:s,width:a,height:n}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(r,s,a,n),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(t=>t.value===e);if(r>=0){return t.setContext(this.getContext(r)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let a,n;const i=(e,t,s)=>{s.width&&s.color&&(r.save(),r.lineWidth=s.width,r.strokeStyle=s.color,r.setLineDash(s.borderDash||[]),r.lineDashOffset=s.borderDashOffset,r.beginPath(),r.moveTo(e.x,e.y),r.lineTo(t.x,t.y),r.stroke(),r.restore())};if(t.display)for(a=0,n=s.length;a<n;++a){const e=s[a];t.drawOnChartArea&&i({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&i({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:r,grid:s}}=this,a=r.setContext(this.getContext()),n=r.display?a.width:0;if(!n)return;const i=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let o,c,d,u;this.isHorizontal()?(o=dl(e,this.left,n)-n/2,c=dl(e,this.right,i)+i/2,d=u=l):(d=dl(e,this.top,n)-n/2,u=dl(e,this.bottom,i)+i/2,o=c=l),t.save(),t.lineWidth=a.width,t.strokeStyle=a.color,t.beginPath(),t.moveTo(o,d),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,r=this._computeLabelArea();r&&xl(t,r);const s=this.getLabelItems(e);for(const a of s){const e=a.options,r=a.font;wl(t,a.label,0,a.textOffset,r,e)}r&&pl(t)}drawTitle(){const{ctx:e,options:{position:t,title:r,reverse:s}}=this;if(!r.display)return;const a=Rl(r.font),n=Al(r.padding),i=r.align;let l=a.lineHeight/2;"bottom"===t||"center"===t||zn(t)?(l+=n.bottom,Vn(r.text)&&(l+=a.lineHeight*(r.text.length-1))):l+=n.top;const{titleX:o,titleY:c,maxWidth:d,rotation:u}=function(e,t,r,s){const{top:a,left:n,bottom:i,right:l,chart:o}=e,{chartArea:c,scales:d}=o;let u,h,m,g=0;const x=i-a,p=l-n;if(e.isHorizontal()){if(h=Vi(s,n,l),zn(r)){const e=Object.keys(r)[0],s=r[e];m=d[e].getPixelForValue(s)+x-t}else m="center"===r?(c.bottom+c.top)/2+x-t:qc(e,r,t);u=l-n}else{if(zn(r)){const e=Object.keys(r)[0],s=r[e];h=d[e].getPixelForValue(s)-p+t}else h="center"===r?(c.left+c.right)/2-p+t:qc(e,r,t);m=Vi(s,i,a),g="left"===r?-mi:mi}return{titleX:h,titleY:m,maxWidth:u,rotation:g}}(this,l,t,i);wl(e,r.text,0,0,a,{color:r.color,maxWidth:d,rotation:u,textAlign:Jc(i,t,s),textBaseline:"middle",translation:[o,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,r=Hn(e.grid&&e.grid.z,-1),s=Hn(e.border&&e.border.z,0);return this._isVisible()&&this.draw===Xc.prototype.draw?[{z:r,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let a,n;for(a=0,n=t.length;a<n;++a){const n=t[a];n[r]!==this.id||e&&n.type!==e||s.push(n)}return s}_resolveTickFontOptions(e){return Rl(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ed{constructor(e,t,r){this.type=e,this.scope=t,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let r;(function(e){return"id"in e&&"defaults"in e})(t)&&(r=this.register(t));const s=this.items,a=e.id,n=this.scope+"."+a;if(!a)throw new Error("class does not have id: "+e);return a in s||(s[a]=e,function(e,t,r){const s=Xn(Object.create(null),[r?ol.get(r):{},ol.get(t),e.defaults]);ol.set(t,s),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(r=>{const s=r.split("."),a=s.pop(),n=[e].concat(s).join("."),i=t[r].split("."),l=i.pop(),o=i.join(".");ol.route(n,a,o,l)})}(t,e.defaultRoutes);e.descriptors&&ol.describe(t,e.descriptors)}(e,n,r),this.override&&ol.override(e.id,e.overrides)),n}get(e){return this.items[e]}unregister(e){const t=this.items,r=e.id,s=this.scope;r in t&&delete t[r],s&&r in ol[s]&&(delete ol[s][r],this.override&&delete sl[r])}}class td{constructor(){this.controllers=new ed(Ho,"datasets",!0),this.elements=new ed($c,"elements"),this.plugins=new ed(Object,"plugins"),this.scales=new ed(Xc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._each("unregister",t,this.scales)}_each(e,t,r){[...t].forEach(t=>{const s=r||this._getRegistryForType(t);r||s.isForType(t)||s===this.plugins&&t.id?this._exec(e,s,t):Kn(t,t=>{const s=r||this._getRegistryForType(t);this._exec(e,s,t)})})}_exec(e,t,r){const s=ai(e);Yn(r["before"+s],[],r),t[e](r),Yn(r["after"+s],[],r)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const r=this._typedRegistries[t];if(r.isForType(e))return r}return this.plugins}_get(e,t,r){const s=t.get(e);if(void 0===s)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var rd=new td;class sd{constructor(){this._init=[]}notify(e,t,r,s){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const a=s?this._descriptors(e).filter(s):this._descriptors(e),n=this._notify(a,e,t,r);return"afterDestroy"===t&&(this._notify(a,e,"stop"),this._notify(this._init,e,"uninstall")),n}_notify(e,t,r,s){s=s||{};for(const a of e){const e=a.plugin;if(!1===Yn(e[r],[t,s,a.options],e)&&s.cancelable)return!1}return!0}invalidate(){Bn(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const r=e&&e.config,s=Hn(r.options&&r.options.plugins,{}),a=function(e){const t={},r=[],s=Object.keys(rd.plugins.items);for(let n=0;n<s.length;n++)r.push(rd.getPlugin(s[n]));const a=e.plugins||[];for(let n=0;n<a.length;n++){const e=a[n];-1===r.indexOf(e)&&(r.push(e),t[e.id]=!0)}return{plugins:r,localIds:t}}(r);return!1!==s||t?function(e,t,r,s){let{plugins:a,localIds:n}=t;const i=[],l=e.getContext();for(const o of a){const t=o.id,a=ad(r[t],s);null!==a&&i.push({plugin:o,options:nd(e.config,{plugin:o,local:n[t]},a,l)})}return i}(e,a,s,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],r=this._cache,s=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(s(t,r),e,"stop"),this._notify(s(r,t),e,"start")}}function ad(e,t){return t||!1!==e?!0===e?{}:e:null}function nd(e,t,r,s){let{plugin:a,local:n}=t;const i=e.pluginScopeKeys(a),l=e.getOptionScopes(r,i);return n&&a.defaults&&l.push(a.defaults),e.createResolver(l,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function id(e,t){const r=ol.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||r.indexAxis||"x"}function ld(e){if("x"===e||"y"===e||"r"===e)return e}function od(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function cd(e){if(ld(e))return e;for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];for(const a of r){const t=a.axis||od(a.position)||e.length>1&&ld(e[0].toLowerCase());if(t)return t}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function dd(e,t,r){if(r[t+"AxisID"]===e)return{axis:t}}function ud(e,t){const r=sl[e.type]||{scales:{}},s=t.scales||{},a=id(e.type,t),n=Object.create(null);return Object.keys(s).forEach(t=>{const i=s[t];if(!zn(i))return console.error(`Invalid scale configuration for scale: ${t}`);if(i._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${t}`);const l=cd(t,i,function(e,t){if(t.data&&t.data.datasets){const r=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(r.length)return dd(e,"x",r[0])||dd(e,"y",r[0])}return{}}(t,e),ol.scales[i.type]),o=function(e,t){return e===t?"_index_":"_value_"}(l,a),c=r.scales||{};n[t]=ei(Object.create(null),[{axis:l},i,c[l],c[o]])}),e.data.datasets.forEach(r=>{const a=r.type||e.type,i=r.indexAxis||id(a,t),l=(sl[a]||{}).scales||{};Object.keys(l).forEach(e=>{const t=function(e,t){let r=e;return"_index_"===e?r=t:"_value_"===e&&(r="x"===t?"y":"x"),r}(e,i),a=r[t+"AxisID"]||t;n[a]=n[a]||Object.create(null),ei(n[a],[{axis:t},s[a],l[e]])})}),Object.keys(n).forEach(e=>{const t=n[e];ei(t,[ol.scales[t.type],ol.scale])}),n}function hd(e){const t=e.options||(e.options={});t.plugins=Hn(t.plugins,{}),t.scales=ud(e,t)}function md(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const gd=new Map,xd=new Set;function pd(e,t){let r=gd.get(e);return r||(r=t(),gd.set(e,r),xd.add(r)),r}const fd=(e,t,r)=>{const s=si(t,r);void 0!==s&&e.add(s)};class yd{constructor(e){this._config=function(e){return(e=e||{}).data=md(e.data),hd(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=md(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),hd(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return pd(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return pd(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return pd(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id;return pd(`${this.type}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const r=this._scopeCache;let s=r.get(e);return s&&!t||(s=new Map,r.set(e,s)),s}getOptionScopes(e,t,r){const{options:s,type:a}=this,n=this._cachedScopes(e,r),i=n.get(t);if(i)return i;const l=new Set;t.forEach(t=>{e&&(l.add(e),t.forEach(t=>fd(l,e,t))),t.forEach(e=>fd(l,s,e)),t.forEach(e=>fd(l,sl[a]||{},e)),t.forEach(e=>fd(l,ol,e)),t.forEach(e=>fd(l,al,e))});const o=Array.from(l);return 0===o.length&&o.push(Object.create(null)),xd.has(t)&&n.set(t,o),o}chartOptionScopes(){const{options:e,type:t}=this;return[e,sl[t]||{},ol.datasets[t]||{},{type:t},ol,al]}resolveNamedOptions(e,t,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const a={$shared:!0},{resolver:n,subPrefixes:i}=bd(this._resolverCache,e,s);let l=n;if(function(e,t){const{isScriptable:r,isIndexable:s}=Ll(e);for(const a of t){const t=r(a),n=s(a),i=(n||t)&&e[a];if(t&&(ii(i)||vd(i))||n&&Vn(i))return!0}return!1}(n,t)){a.$shared=!1;l=Ml(n,r=ii(r)?r():r,this.createResolver(e,r,i))}for(const o of t)a[o]=l[o];return a}createResolver(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],s=arguments.length>3?arguments[3]:void 0;const{resolver:a}=bd(this._resolverCache,e,r);return zn(t)?Ml(a,t,void 0,s):a}}function bd(e,t,r){let s=e.get(t);s||(s=new Map,e.set(t,s));const a=r.join();let n=s.get(a);if(!n){n={resolver:Tl(t,r),subPrefixes:r.filter(e=>!e.toLowerCase().includes("hover"))},s.set(a,n)}return n}const vd=e=>zn(e)&&Object.getOwnPropertyNames(e).some(t=>ii(e[t]));const wd=["top","bottom","left","right","chartArea"];function jd(e,t){return"top"===e||"bottom"===e||-1===wd.indexOf(e)&&"x"===t}function kd(e,t){return function(r,s){return r[e]===s[e]?r[t]-s[t]:r[e]-s[e]}}function Nd(e){const t=e.chart,r=t.options.animation;t.notifyPlugins("afterRender"),Yn(r&&r.onComplete,[e],t)}function Sd(e){const t=e.chart,r=t.options.animation;Yn(r&&r.onProgress,[e],t)}function _d(e){return eo()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Cd={},Ed=e=>{const t=_d(e);return Object.values(Cd).filter(e=>e.canvas===t).pop()};function Pd(e,t,r){const s=Object.keys(e);for(const a of s){const s=+a;if(s>=t){const n=e[a];delete e[a],(r>0||s>t)&&(e[s+r]=n)}}}class Ad{static defaults=(()=>ol)();static instances=(()=>Cd)();static overrides=(()=>sl)();static registry=(()=>rd)();static version="4.5.0";static getChart=(()=>Ed)();static register(){rd.add(...arguments),Rd()}static unregister(){rd.remove(...arguments),Rd()}constructor(e,t){const r=this.config=new yd(t),s=_d(e),a=Ed(s);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");const n=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function(e){return!eo()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Cc:zc}(s)),this.platform.updateConfig(r);const i=this.platform.acquireContext(s,n.aspectRatio),l=i&&i.canvas,o=l&&l.height,c=l&&l.width;this.id=Un(),this.ctx=i,this.canvas=l,this.width=c,this.height=o,this._options=n,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sd,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let r;return function(){for(var s=arguments.length,a=new Array(s),n=0;n<s;n++)a[n]=arguments[n];return t?(clearTimeout(r),r=setTimeout(e,t,a)):e.apply(this,a),t}}(e=>this.update(e),n.resizeDelay||0),this._dataChanges=[],Cd[this.id]=this,i&&l?(Po.listen(this,"complete",Nd),Po.listen(this,"progress",Sd),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:r,height:s,_aspectRatio:a}=this;return Bn(e)?t&&a?a:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return rd}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():co(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ul(this.canvas,this.ctx),this}stop(){return Po.stop(this),this}resize(e,t){Po.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const r=this.options,s=this.canvas,a=r.maintainAspectRatio&&this.aspectRatio,n=this.platform.getMaximumSize(s,e,t,a),i=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=n.width,this.height=n.height,this._aspectRatio=this.aspectRatio,co(this,i,!0)&&(this.notifyPlugins("resize",{size:n}),Yn(r.onResize,[this,n],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){Kn(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,r=this.scales,s=Object.keys(r).reduce((e,t)=>(e[t]=!1,e),{});let a=[];t&&(a=a.concat(Object.keys(t).map(e=>{const r=t[e],s=cd(e,r),a="r"===s,n="x"===s;return{options:r,dposition:a?"chartArea":n?"bottom":"left",dtype:a?"radialLinear":n?"category":"linear"}}))),Kn(a,t=>{const a=t.options,n=a.id,i=cd(n,a),l=Hn(a.type,t.dtype);void 0!==a.position&&jd(a.position,i)===jd(t.dposition)||(a.position=t.dposition),s[n]=!0;let o=null;if(n in r&&r[n].type===l)o=r[n];else{o=new(rd.getScale(l))({id:n,type:l,ctx:this.ctx,chart:this}),r[o.id]=o}o.init(a,e)}),Kn(s,(e,t)=>{e||delete r[t]}),Kn(r,e=>{Sc.configure(this,e,e.options),Sc.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,r=e.length;if(e.sort((e,t)=>e.index-t.index),r>t){for(let e=t;e<r;++e)this._destroyDatasetMeta(e);e.splice(t,r-t)}this._sortedMetasets=e.slice(0).sort(kd("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,r)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=t.length;r<s;r++){const s=t[r];let a=this.getDatasetMeta(r);const n=s.type||this.config.type;if(a.type&&a.type!==n&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=n,a.indexAxis=s.indexAxis||id(n,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{const t=rd.getController(n),{datasetElementType:s,dataElementType:i}=ol.datasets[n];Object.assign(t,{dataElementType:rd.getElement(i),datasetElementType:s&&rd.getElement(s)}),a.controller=new t(this,r),e.push(a.controller)}}return this._updateMetasets(),e}_resetElements(){Kn(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const r=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const a=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let n=0;for(let o=0,c=this.data.datasets.length;o<c;o++){const{controller:e}=this.getDatasetMeta(o),t=!s&&-1===a.indexOf(e);e.buildOrUpdateElements(t),n=Math.max(+e.getMaxOverflow(),n)}n=this._minPadding=r.layout.autoPadding?n:0,this._updateLayout(n),s||Kn(a,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(kd("z","_idx"));const{_active:i,_lastEvent:l}=this;l?this._eventHandler(l,!0):i.length&&this._updateHoverStyles(i,i,!0),this.render()}_updateScales(){Kn(this.scales,e=>{Sc.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),r=new Set(e.events);li(t,r)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:a}of t){Pd(e,s,"_removeElements"===r?-a:a)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,r=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),s=r(0);for(let a=1;a<t;a++)if(!li(s,r(a)))return;return Array.from(s).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Sc.update(this,this.width,this.height,e);const t=this.chartArea,r=t.width<=0||t.height<=0;this._layers=[],Kn(this.boxes,e=>{r&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,r=this.data.datasets.length;t<r;++t)this._updateDataset(t,ii(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",s)&&(r.controller._update(t),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Po.has(this)?this.attached&&!Po.running(this)&&Po.start(this):(this.draw(),Nd({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,r=[];let s,a;for(s=0,a=t.length;s<a;++s){const a=t[s];e&&!a.visible||r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,r={meta:e,index:e.index,cancelable:!0},s=Co(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",r)&&(s&&xl(t,s),e.controller.draw(),s&&pl(t),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(e){return gl(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,r,s){const a=hc.modes[t];return"function"===typeof a?a(this,e,r,s):[]}getDatasetMeta(e){const t=this.data.datasets[e],r=this._metasets;let s=r.filter(e=>e&&e._dataset===t).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Ol(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const r=this.getDatasetMeta(e);return"boolean"===typeof r.hidden?!r.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,r){const s=r?"show":"hide",a=this.getDatasetMeta(e),n=a.controller._resolveAnimations(void 0,s);ni(t)?(a.data[t].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),n.update(a,{visible:r}),this.update(t=>t.datasetIndex===e?s:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Po.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),ul(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Cd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,r=(r,s)=>{t.addEventListener(this,r,s),e[r]=s},s=(e,t,r)=>{e.offsetX=t,e.offsetY=r,this._eventHandler(e)};Kn(this.options.events,e=>r(e,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,r=(r,s)=>{t.addEventListener(this,r,s),e[r]=s},s=(r,s)=>{e[r]&&(t.removeEventListener(this,r,s),delete e[r])},a=(e,t)=>{this.canvas&&this.resize(e,t)};let n;const i=()=>{s("attach",i),this.attached=!0,this.resize(),r("resize",a),r("detach",n)};n=()=>{this.attached=!1,s("resize",a),this._stop(),this._resize(0,0),r("attach",i)},t.isAttached(this.canvas)?i():n()}unbindEvents(){Kn(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},Kn(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,r){const s=r?"set":"remove";let a,n,i,l;for("dataset"===t&&(a=this.getDatasetMeta(e[0].datasetIndex),a.controller["_"+s+"DatasetHoverStyle"]()),i=0,l=e.length;i<l;++i){n=e[i];const t=n&&this.getDatasetMeta(n.datasetIndex).controller;t&&t[s+"HoverStyle"](n.element,n.datasetIndex,n.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],r=e.map(e=>{let{datasetIndex:t,index:r}=e;const s=this.getDatasetMeta(t);if(!s)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:s.data[r],index:r}});!Gn(r,t)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,t))}notifyPlugins(e,t,r){return this._plugins.notify(this,e,t,r)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,r){const s=this.options.hover,a=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),n=a(t,e),i=r?e:a(e,t);n.length&&this.updateHoverStyle(n,s.mode,!1),i.length&&s.mode&&this.updateHoverStyle(i,s.mode,!0)}_eventHandler(e,t){const r={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},s=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",r,s))return;const a=this._handleEvent(e,t,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(a||r.changed)&&this.render(),this}_handleEvent(e,t,r){const{_active:s=[],options:a}=this,n=t,i=this._getActiveElements(e,s,r,n),l=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),o=function(e,t,r,s){return r&&"mouseout"!==e.type?s?t:e:null}(e,this._lastEvent,r,l);r&&(this._lastEvent=null,Yn(a.onHover,[e,i,this],this),l&&Yn(a.onClick,[e,i,this],this));const c=!Gn(i,s);return(c||t)&&(this._active=i,this._updateHoverStyles(i,s,t)),this._lastEvent=o,c}_getActiveElements(e,t,r,s){if("mouseout"===e.type)return[];if(!r)return t;const a=this.options.hover;return this.getElementsAtEventForMode(e,a.mode,a,s)}}function Rd(){return Kn(Ad.instances,e=>e._plugins.invalidate())}function Id(e,t,r,s){const a=Cl(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const n=(r-t)/2,i=Math.min(n,s*t/2),l=e=>{const t=(r-Math.min(n,e))*s/2;return Ai(e,0,Math.min(n,t))};return{outerStart:l(a.outerStart),outerEnd:l(a.outerEnd),innerStart:Ai(a.innerStart,0,i),innerEnd:Ai(a.innerEnd,0,i)}}function Od(e,t,r,s){return{x:r+e*Math.cos(t),y:s+e*Math.sin(t)}}function Td(e,t,r,s,a,n){const{x:i,y:l,startAngle:o,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+s+r-c,0),h=d>0?d+s+r+c:0;let m=0;const g=a-o;if(s){const e=((d>0?d-s:0)+(u>0?u-s:0))/2;m=(g-(0!==e?g*e/(e+s):g))/2}const x=(g-Math.max(.001,g*u-r/oi)/u)/2,p=o+x+m,f=a-x-m,{outerStart:y,outerEnd:b,innerStart:v,innerEnd:w}=Id(t,h,u,f-p),j=u-y,k=u-b,N=p+y/j,S=f-b/k,_=h+v,C=h+w,E=p+v/_,P=f-w/C;if(e.beginPath(),n){const t=(N+S)/2;if(e.arc(i,l,u,N,t),e.arc(i,l,u,t,S),b>0){const t=Od(k,S,i,l);e.arc(t.x,t.y,b,S,f+mi)}const r=Od(C,f,i,l);if(e.lineTo(r.x,r.y),w>0){const t=Od(C,P,i,l);e.arc(t.x,t.y,w,f+mi,P+Math.PI)}const s=(f-w/h+(p+v/h))/2;if(e.arc(i,l,h,f-w/h,s,!0),e.arc(i,l,h,s,p+v/h,!0),v>0){const t=Od(_,E,i,l);e.arc(t.x,t.y,v,E+Math.PI,p-mi)}const a=Od(j,p,i,l);if(e.lineTo(a.x,a.y),y>0){const t=Od(j,N,i,l);e.arc(t.x,t.y,y,p-mi,N)}}else{e.moveTo(i,l);const t=Math.cos(N)*u+i,r=Math.sin(N)*u+l;e.lineTo(t,r);const s=Math.cos(S)*u+i,a=Math.sin(S)*u+l;e.lineTo(s,a)}e.closePath()}function Md(e,t,r,s,a){const{fullCircles:n,startAngle:i,circumference:l,options:o}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:h,borderRadius:m}=o,g="inner"===o.borderAlign;if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=h,g?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let x=t.endAngle;if(n){Td(e,t,r,s,x,a);for(let t=0;t<n;++t)e.stroke();isNaN(l)||(x=i+(l%ci||ci))}g&&function(e,t,r){const{startAngle:s,pixelMargin:a,x:n,y:i,outerRadius:l,innerRadius:o}=t;let c=a/l;e.beginPath(),e.arc(n,i,l,s-c,r+c),o>a?(c=a/o,e.arc(n,i,o,r+c,s-c,!0)):e.arc(n,i,a,r+mi,s-mi),e.closePath(),e.clip()}(e,t,x),o.selfJoin&&x-i>=oi&&0===m&&"miter"!==d&&function(e,t,r){const{startAngle:s,x:a,y:n,outerRadius:i,innerRadius:l,options:o}=t,{borderWidth:c,borderJoinStyle:d}=o,u=Math.min(c/i,Ei(s-r));if(e.beginPath(),e.arc(a,n,i-c/2,s+u/2,r-u/2),l>0){const t=Math.min(c/l,Ei(s-r));e.arc(a,n,l+c/2,r-t/2,s+t/2,!0)}else{const t=Math.min(c/2,i*Ei(s-r));if("round"===d)e.arc(a,n,t,r-oi/2,s+oi/2,!0);else if("bevel"===d){const i=2*t*t,l=-i*Math.cos(r+oi/2)+a,o=-i*Math.sin(r+oi/2)+n,c=i*Math.cos(s+oi/2)+a,d=i*Math.sin(s+oi/2)+n;e.lineTo(l,o),e.lineTo(c,d)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,x),n||(Td(e,t,r,s,x,a),e.stroke())}class Ld extends $c{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,r){const s=this.getProps(["x","y"],r),{angle:a,distance:n}=Si(s,{x:e,y:t}),{startAngle:i,endAngle:l,innerRadius:o,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),u=(this.options.spacing+this.options.borderWidth)/2,h=Hn(d,l-i),m=Pi(a,i,l)&&i!==l,g=h>=ci||m,x=Ri(n,o+u,c+u);return g&&x}getCenterPoint(e){const{x:t,y:r,startAngle:s,endAngle:a,innerRadius:n,outerRadius:i}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:o}=this.options,c=(s+a)/2,d=(n+i+o+l)/2;return{x:t+Math.cos(c)*d,y:r+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:r}=this,s=(t.offset||0)/4,a=(t.spacing||0)/2,n=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=r>ci?Math.floor(r/ci):0,0===r||this.innerRadius<0||this.outerRadius<0)return;e.save();const i=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(i)*s,Math.sin(i)*s);const l=s*(1-Math.sin(Math.min(oi,r||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,r,s,a){const{fullCircles:n,startAngle:i,circumference:l}=t;let o=t.endAngle;if(n){Td(e,t,r,s,o,a);for(let t=0;t<n;++t)e.fill();isNaN(l)||(o=i+(l%ci||ci))}Td(e,t,r,s,o,a),e.fill()}(e,this,l,a,n),Md(e,this,l,a,n),e.restore()}}function Dd(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=Hn(r.borderCapStyle,t.borderCapStyle),e.setLineDash(Hn(r.borderDash,t.borderDash)),e.lineDashOffset=Hn(r.borderDashOffset,t.borderDashOffset),e.lineJoin=Hn(r.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Hn(r.borderWidth,t.borderWidth),e.strokeStyle=Hn(r.borderColor,t.borderColor)}function Fd(e,t,r){e.lineTo(r.x,r.y)}function Ud(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.length,{start:a=0,end:n=s-1}=r,{start:i,end:l}=t,o=Math.max(a,i),c=Math.min(n,l),d=a<i&&n<i||a>l&&n>l;return{count:s,start:o,loop:t.loop,ilen:c<o&&!d?s+c-o:c-o}}function Bd(e,t,r,s){const{points:a,options:n}=t,{count:i,start:l,loop:o,ilen:c}=Ud(a,r,s),d=function(e){return e.stepped?fl:e.tension||"monotone"===e.cubicInterpolationMode?yl:Fd}(n);let u,h,m,{move:g=!0,reverse:x}=s||{};for(u=0;u<=c;++u)h=a[(l+(x?c-u:u))%i],h.skip||(g?(e.moveTo(h.x,h.y),g=!1):d(e,m,h,x,n.stepped),m=h);return o&&(h=a[(l+(x?c:0))%i],d(e,m,h,x,n.stepped)),!!o}function Vd(e,t,r,s){const a=t.points,{count:n,start:i,ilen:l}=Ud(a,r,s),{move:o=!0,reverse:c}=s||{};let d,u,h,m,g,x,p=0,f=0;const y=e=>(i+(c?l-e:e))%n,b=()=>{m!==g&&(e.lineTo(p,g),e.lineTo(p,m),e.lineTo(p,x))};for(o&&(u=a[y(0)],e.moveTo(u.x,u.y)),d=0;d<=l;++d){if(u=a[y(d)],u.skip)continue;const t=u.x,r=u.y,s=0|t;s===h?(r<m?m=r:r>g&&(g=r),p=(f*p+t)/++f):(b(),e.lineTo(t,r),h=s,f=0,m=g=r),x=r}b()}function zd(e){const t=e.options,r=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!r?Vd:Bd}const $d="function"===typeof Path2D;function Wd(e,t,r,s){$d&&!t.options.segment?function(e,t,r,s){let a=t._path;a||(a=t._path=new Path2D,t.path(a,r,s)&&a.closePath()),Dd(e,t.options),e.stroke(a)}(e,t,r,s):function(e,t,r,s){const{segments:a,options:n}=t,i=zd(t);for(const l of a)Dd(e,n,l.style),e.beginPath(),i(e,t,l,{start:r,end:r+s-1})&&e.closePath(),e.stroke()}(e,t,r,s)}class Hd extends $c{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const r=this.options;if((r.tension||"monotone"===r.cubicInterpolationMode)&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;Xl(this._points,r,e,s,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const r=e.points,s=e.options.spanGaps,a=r.length;if(!a)return[];const n=!!e._loop,{start:i,end:l}=function(e,t,r,s){let a=0,n=t-1;if(r&&!s)for(;a<t&&!e[a].skip;)a++;for(;a<t&&e[a].skip;)a++;for(a%=t,r&&(n+=a);n>a&&e[n%t].skip;)n--;return n%=t,{start:a,end:n}}(r,a,n,s);return ko(e,!0===s?[{start:i,end:l,loop:n}]:function(e,t,r,s){const a=e.length,n=[];let i,l=t,o=e[t];for(i=t+1;i<=r;++i){const r=e[i%a];r.skip||r.stop?o.skip||(s=!1,n.push({start:t%a,end:(i-1)%a,loop:s}),t=l=r.stop?i:null):(l=i,o.skip&&(t=i)),o=r}return null!==l&&n.push({start:t%a,end:l%a,loop:s}),n}(r,i,l<i?l+a:l,!!e._fullLoop&&0===i&&l===a-1),r,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,r=e.length;return r&&t[e[r-1].end]}interpolate(e,t){const r=this.options,s=e[t],a=this.points,n=jo(this,{property:t,start:s,end:s});if(!n.length)return;const i=[],l=function(e){return e.stepped?go:e.tension||"monotone"===e.cubicInterpolationMode?xo:mo}(r);let o,c;for(o=0,c=n.length;o<c;++o){const{start:c,end:d}=n[o],u=a[c],h=a[d];if(u===h){i.push(u);continue}const m=l(u,h,Math.abs((s-u[t])/(h[t]-u[t])),r.stepped);m[t]=e[t],i.push(m)}return 1===i.length?i[0]:i}pathSegment(e,t,r){return zd(this)(e,this,t,r)}path(e,t,r){const s=this.segments,a=zd(this);let n=this._loop;t=t||0,r=r||this.points.length-t;for(const i of s)n&=a(e,this,i,{start:t,end:t+r-1});return!!n}draw(e,t,r,s){const a=this.options||{};(this.points||[]).length&&a.borderWidth&&(e.save(),Wd(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function qd(e,t,r,s){const a=e.options,{[r]:n}=e.getProps([r],s);return Math.abs(t-n)<a.radius+a.hitRadius}class Yd extends $c{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,r){const s=this.options,{x:a,y:n}=this.getProps(["x","y"],r);return Math.pow(e-a,2)+Math.pow(t-n,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,t){return qd(this,e,"x",t)}inYRange(e,t){return qd(this,e,"y",t)}getCenterPoint(e){const{x:t,y:r}=this.getProps(["x","y"],e);return{x:t,y:r}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const r=this.options;this.skip||r.radius<.1||!gl(this,t,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,hl(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function Kd(e,t){const{x:r,y:s,base:a,width:n,height:i}=e.getProps(["x","y","base","width","height"],t);let l,o,c,d,u;return e.horizontal?(u=i/2,l=Math.min(r,a),o=Math.max(r,a),c=s-u,d=s+u):(u=n/2,l=r-u,o=r+u,c=Math.min(s,a),d=Math.max(s,a)),{left:l,top:c,right:o,bottom:d}}function Gd(e,t,r,s){return e?0:Ai(t,r,s)}function Qd(e){const t=Kd(e),r=t.right-t.left,s=t.bottom-t.top,a=function(e,t,r){const s=e.options.borderWidth,a=e.borderSkipped,n=El(s);return{t:Gd(a.top,n.top,0,r),r:Gd(a.right,n.right,0,t),b:Gd(a.bottom,n.bottom,0,r),l:Gd(a.left,n.left,0,t)}}(e,r/2,s/2),n=function(e,t,r){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),a=e.options.borderRadius,n=Pl(a),i=Math.min(t,r),l=e.borderSkipped,o=s||zn(a);return{topLeft:Gd(!o||l.top||l.left,n.topLeft,0,i),topRight:Gd(!o||l.top||l.right,n.topRight,0,i),bottomLeft:Gd(!o||l.bottom||l.left,n.bottomLeft,0,i),bottomRight:Gd(!o||l.bottom||l.right,n.bottomRight,0,i)}}(e,r/2,s/2);return{outer:{x:t.left,y:t.top,w:r,h:s,radius:n},inner:{x:t.left+a.l,y:t.top+a.t,w:r-a.l-a.r,h:s-a.t-a.b,radius:{topLeft:Math.max(0,n.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,n.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,n.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,n.bottomRight-Math.max(a.b,a.r))}}}}function Zd(e,t,r,s){const a=null===t,n=null===r,i=e&&!(a&&n)&&Kd(e,s);return i&&(a||Ri(t,i.left,i.right))&&(n||Ri(r,i.top,i.bottom))}function Jd(e,t){e.rect(t.x,t.y,t.w,t.h)}function Xd(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=e.x!==r.x?-t:0,a=e.y!==r.y?-t:0,n=(e.x+e.w!==r.x+r.w?t:0)-s,i=(e.y+e.h!==r.y+r.h?t:0)-a;return{x:e.x+s,y:e.y+a,w:e.w+n,h:e.h+i,radius:e.radius}}class eu extends $c{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:r,backgroundColor:s}}=this,{inner:a,outer:n}=Qd(this),i=(l=n.radius).topLeft||l.topRight||l.bottomLeft||l.bottomRight?jl:Jd;var l;e.save(),n.w===a.w&&n.h===a.h||(e.beginPath(),i(e,Xd(n,t,a)),e.clip(),i(e,Xd(a,-t,n)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),i(e,Xd(a,t)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,t,r){return Zd(this,e,t,r)}inXRange(e,t){return Zd(this,e,null,t)}inYRange(e,t){return Zd(this,null,e,t)}getCenterPoint(e){const{x:t,y:r,base:s,horizontal:a}=this.getProps(["x","y","base","horizontal"],e);return{x:a?(t+s)/2:t,y:a?r:(r+s)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}const tu=(e,t)=>{let{boxHeight:r=t,boxWidth:s=t}=e;return e.usePointStyle&&(r=Math.min(r,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:r,itemHeight:Math.max(t,r)}};class ru extends $c{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,r){this.maxWidth=e,this.maxHeight=t,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=Yn(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,r)=>e.sort(t,r,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const r=e.labels,s=Rl(r.font),a=s.size,n=this._computeTitleHeight(),{boxWidth:i,itemHeight:l}=tu(r,a);let o,c;t.font=s.string,this.isHorizontal()?(o=this.maxWidth,c=this._fitRows(n,a,i,l)+10):(c=this.maxHeight,o=this._fitCols(n,s,i,l)+10),this.width=Math.min(o,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,r,s){const{ctx:a,maxWidth:n,options:{labels:{padding:i}}}=this,l=this.legendHitBoxes=[],o=this.lineWidths=[0],c=s+i;let d=e;a.textAlign="left",a.textBaseline="middle";let u=-1,h=-c;return this.legendItems.forEach((e,m)=>{const g=r+t/2+a.measureText(e.text).width;(0===m||o[o.length-1]+g+2*i>n)&&(d+=c,o[o.length-(m>0?0:1)]=0,h+=c,u++),l[m]={left:0,top:h,row:u,width:g,height:s},o[o.length-1]+=g+i}),d}_fitCols(e,t,r,s){const{ctx:a,maxHeight:n,options:{labels:{padding:i}}}=this,l=this.legendHitBoxes=[],o=this.columnSizes=[],c=n-e;let d=i,u=0,h=0,m=0,g=0;return this.legendItems.forEach((e,n)=>{const{itemWidth:x,itemHeight:p}=function(e,t,r,s,a){const n=function(e,t,r,s){let a=e.text;a&&"string"!==typeof a&&(a=a.reduce((e,t)=>e.length>t.length?e:t));return t+r.size/2+s.measureText(a).width}(s,e,t,r),i=function(e,t,r){let s=e;"string"!==typeof t.text&&(s=su(t,r));return s}(a,s,t.lineHeight);return{itemWidth:n,itemHeight:i}}(r,t,a,e,s);n>0&&h+p+2*i>c&&(d+=u+i,o.push({width:u,height:h}),m+=u+i,g++,u=h=0),l[n]={left:m,top:h,col:g,width:x,height:p},u=Math.max(u,x),h+=p+i}),d+=u,o.push({width:u,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:r,labels:{padding:s},rtl:a}}=this,n=po(a,this.left,this.width);if(this.isHorizontal()){let a=0,i=Vi(r,this.left+s,this.right-this.lineWidths[a]);for(const l of t)a!==l.row&&(a=l.row,i=Vi(r,this.left+s,this.right-this.lineWidths[a])),l.top+=this.top+e+s,l.left=n.leftForLtr(n.x(i),l.width),i+=l.width+s}else{let a=0,i=Vi(r,this.top+e+s,this.bottom-this.columnSizes[a].height);for(const l of t)l.col!==a&&(a=l.col,i=Vi(r,this.top+e+s,this.bottom-this.columnSizes[a].height)),l.top=i,l.left+=this.left+s,l.left=n.leftForLtr(n.x(l.left),l.width),i+=l.height+s}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;xl(e,this),this._draw(),pl(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:r,ctx:s}=this,{align:a,labels:n}=e,i=ol.color,l=po(e.rtl,this.left,this.width),o=Rl(n.font),{padding:c}=n,d=o.size,u=d/2;let h;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=o.string;const{boxWidth:m,boxHeight:g,itemHeight:x}=tu(n,d),p=this.isHorizontal(),f=this._computeTitleHeight();h=p?{x:Vi(a,this.left+c,this.right-r[0]),y:this.top+c+f,line:0}:{x:this.left+c,y:Vi(a,this.top+f+c,this.bottom-t[0].height),line:0},fo(this.ctx,e.textDirection);const y=x+c;this.legendItems.forEach((b,v)=>{s.strokeStyle=b.fontColor,s.fillStyle=b.fontColor;const w=s.measureText(b.text).width,j=l.textAlign(b.textAlign||(b.textAlign=n.textAlign)),k=m+u+w;let N=h.x,S=h.y;l.setWidth(this.width),p?v>0&&N+k+c>this.right&&(S=h.y+=y,h.line++,N=h.x=Vi(a,this.left+c,this.right-r[h.line])):v>0&&S+y>this.bottom&&(N=h.x=N+t[h.line].width+c,h.line++,S=h.y=Vi(a,this.top+f+c,this.bottom-t[h.line].height));if(function(e,t,r){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;s.save();const a=Hn(r.lineWidth,1);if(s.fillStyle=Hn(r.fillStyle,i),s.lineCap=Hn(r.lineCap,"butt"),s.lineDashOffset=Hn(r.lineDashOffset,0),s.lineJoin=Hn(r.lineJoin,"miter"),s.lineWidth=a,s.strokeStyle=Hn(r.strokeStyle,i),s.setLineDash(Hn(r.lineDash,[])),n.usePointStyle){const i={radius:g*Math.SQRT2/2,pointStyle:r.pointStyle,rotation:r.rotation,borderWidth:a},o=l.xPlus(e,m/2);ml(s,i,o,t+u,n.pointStyleWidth&&m)}else{const n=t+Math.max((d-g)/2,0),i=l.leftForLtr(e,m),o=Pl(r.borderRadius);s.beginPath(),Object.values(o).some(e=>0!==e)?jl(s,{x:i,y:n,w:m,h:g,radius:o}):s.rect(i,n,m,g),s.fill(),0!==a&&s.stroke()}s.restore()}(l.x(N),S,b),N=((e,t,r,s)=>e===(s?"left":"right")?r:"center"===e?(t+r)/2:t)(j,N+m+u,p?N+k:this.right,e.rtl),function(e,t,r){wl(s,r.text,e,t+x/2,o,{strikethrough:r.hidden,textAlign:l.textAlign(r.textAlign)})}(l.x(N),S,b),p)h.x+=k+c;else if("string"!==typeof b.text){const e=o.lineHeight;h.y+=su(b,e)+c}else h.y+=y}),yo(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,r=Rl(t.font),s=Al(t.padding);if(!t.display)return;const a=po(e.rtl,this.left,this.width),n=this.ctx,i=t.position,l=r.size/2,o=s.top+l;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+o,d=Vi(e.align,d,this.right-u);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);c=o+Vi(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=Vi(i,d,d+u);n.textAlign=a.textAlign(Bi(i)),n.textBaseline="middle",n.strokeStyle=t.color,n.fillStyle=t.color,n.font=r.string,wl(n,t.text,h,c,r)}_computeTitleHeight(){const e=this.options.title,t=Rl(e.font),r=Al(e.padding);return e.display?t.lineHeight+r.height:0}_getLegendItemAt(e,t){let r,s,a;if(Ri(e,this.left,this.right)&&Ri(t,this.top,this.bottom))for(a=this.legendHitBoxes,r=0;r<a.length;++r)if(s=a[r],Ri(e,s.left,s.left+s.width)&&Ri(t,s.top,s.top+s.height))return this.legendItems[r];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const r=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const n=this._hoveredItem,i=(a=r,null!==(s=n)&&null!==a&&s.datasetIndex===a.datasetIndex&&s.index===a.index);n&&!i&&Yn(t.onLeave,[e,n,this],this),this._hoveredItem=r,r&&!i&&Yn(t.onHover,[e,r,this],this)}else r&&Yn(t.onClick,[e,r,this],this);var s,a}}function su(e,t){return t*(e.text?e.text.length:0)}var au={id:"legend",_element:ru,start(e,t,r){const s=e.legend=new ru({ctx:e.ctx,options:r,chart:e});Sc.configure(e,s,r),Sc.addBox(e,s)},stop(e){Sc.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,r){const s=e.legend;Sc.configure(e,s,r),s.options=r},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,r){const s=t.datasetIndex,a=r.chart;a.isDatasetVisible(s)?(a.hide(s),t.hidden=!0):(a.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:r,pointStyle:s,textAlign:a,color:n,useBorderRadius:i,borderRadius:l}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const o=e.controller.getStyle(r?0:void 0),c=Al(o.borderWidth);return{text:t[e.index].label,fillStyle:o.backgroundColor,fontColor:n,hidden:!e.visible,lineCap:o.borderCapStyle,lineDash:o.borderDash,lineDashOffset:o.borderDashOffset,lineJoin:o.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:o.borderColor,pointStyle:s||o.pointStyle,rotation:o.rotation,textAlign:a||o.textAlign,borderRadius:i&&(l||o.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class nu extends $c{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const r=this.options;if(this.left=0,this.top=0,!r.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const s=Vn(r.text)?r.text.length:1;this._padding=Al(r.padding);const a=s*Rl(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=a:this.width=a}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:r,bottom:s,right:a,options:n}=this,i=n.align;let l,o,c,d=0;return this.isHorizontal()?(o=Vi(i,r,a),c=t+e,l=a-r):("left"===n.position?(o=r+e,c=Vi(i,s,t),d=-.5*oi):(o=a-e,c=Vi(i,t,s),d=.5*oi),l=s-t),{titleX:o,titleY:c,maxWidth:l,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const r=Rl(t.font),s=r.lineHeight/2+this._padding.top,{titleX:a,titleY:n,maxWidth:i,rotation:l}=this._drawArgs(s);wl(e,t.text,0,0,r,{color:t.color,maxWidth:i,rotation:l,textAlign:Bi(t.align),textBaseline:"middle",translation:[a,n]})}}var iu={id:"title",_element:nu,start(e,t,r){!function(e,t){const r=new nu({ctx:e.ctx,options:t,chart:e});Sc.configure(e,r,t),Sc.addBox(e,r),e.titleBlock=r}(e,r)},stop(e){const t=e.titleBlock;Sc.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,r){const s=e.titleBlock;Sc.configure(e,s,r),s.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};new WeakMap;const lu={average(e){if(!e.length)return!1;let t,r,s=new Set,a=0,n=0;for(t=0,r=e.length;t<r;++t){const r=e[t].element;if(r&&r.hasValue()){const e=r.tooltipPosition();s.add(e.x),a+=e.y,++n}}if(0===n||0===s.size)return!1;return{x:[...s].reduce((e,t)=>e+t)/s.size,y:a/n}},nearest(e,t){if(!e.length)return!1;let r,s,a,n=t.x,i=t.y,l=Number.POSITIVE_INFINITY;for(r=0,s=e.length;r<s;++r){const s=e[r].element;if(s&&s.hasValue()){const e=_i(t,s.getCenterPoint());e<l&&(l=e,a=s)}}if(a){const e=a.tooltipPosition();n=e.x,i=e.y}return{x:n,y:i}}};function ou(e,t){return t&&(Vn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function cu(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function du(e,t){const{element:r,datasetIndex:s,index:a}=t,n=e.getDatasetMeta(s).controller,{label:i,value:l}=n.getLabelAndValue(a);return{chart:e,label:i,parsed:n.getParsed(a),raw:e.data.datasets[s].data[a],formattedValue:l,dataset:n.getDataset(),dataIndex:a,datasetIndex:s,element:r}}function uu(e,t){const r=e.chart.ctx,{body:s,footer:a,title:n}=e,{boxWidth:i,boxHeight:l}=t,o=Rl(t.bodyFont),c=Rl(t.titleFont),d=Rl(t.footerFont),u=n.length,h=a.length,m=s.length,g=Al(t.padding);let x=g.height,p=0,f=s.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(f+=e.beforeBody.length+e.afterBody.length,u&&(x+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),f){x+=m*(t.displayColors?Math.max(l,o.lineHeight):o.lineHeight)+(f-m)*o.lineHeight+(f-1)*t.bodySpacing}h&&(x+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let y=0;const b=function(e){p=Math.max(p,r.measureText(e).width+y)};return r.save(),r.font=c.string,Kn(e.title,b),r.font=o.string,Kn(e.beforeBody.concat(e.afterBody),b),y=t.displayColors?i+2+t.boxPadding:0,Kn(s,e=>{Kn(e.before,b),Kn(e.lines,b),Kn(e.after,b)}),y=0,r.font=d.string,Kn(e.footer,b),r.restore(),p+=g.width,{width:p,height:x}}function hu(e,t,r,s){const{x:a,width:n}=r,{width:i,chartArea:{left:l,right:o}}=e;let c="center";return"center"===s?c=a<=(l+o)/2?"left":"right":a<=n/2?c="left":a>=i-n/2&&(c="right"),function(e,t,r,s){const{x:a,width:n}=s,i=r.caretSize+r.caretPadding;return"left"===e&&a+n+i>t.width||"right"===e&&a-n-i<0||void 0}(c,e,t,r)&&(c="center"),c}function mu(e,t,r){const s=r.yAlign||t.yAlign||function(e,t){const{y:r,height:s}=t;return r<s/2?"top":r>e.height-s/2?"bottom":"center"}(e,r);return{xAlign:r.xAlign||t.xAlign||hu(e,t,r,s),yAlign:s}}function gu(e,t,r,s){const{caretSize:a,caretPadding:n,cornerRadius:i}=e,{xAlign:l,yAlign:o}=r,c=a+n,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:m}=Pl(i);let g=function(e,t){let{x:r,width:s}=e;return"right"===t?r-=s:"center"===t&&(r-=s/2),r}(t,l);const x=function(e,t,r){let{y:s,height:a}=e;return"top"===t?s+=r:s-="bottom"===t?a+r:a/2,s}(t,o,c);return"center"===o?"left"===l?g+=c:"right"===l&&(g-=c):"left"===l?g-=Math.max(d,h)+a:"right"===l&&(g+=Math.max(u,m)+a),{x:Ai(g,0,s.width-t.width),y:Ai(x,0,s.height-t.height)}}function xu(e,t,r){const s=Al(r.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-s.right:e.x+s.left}function pu(e){return ou([],cu(e))}function fu(e,t){const r=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return r?e.override(r):e}const yu={beforeTitle:Fn,title(e){if(e.length>0){const t=e[0],r=t.chart.data.labels,s=r?r.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return r[t.dataIndex]}return""},afterTitle:Fn,beforeBody:Fn,beforeLabel:Fn,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const r=e.formattedValue;return Bn(r)||(t+=r),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Fn,afterBody:Fn,beforeFooter:Fn,footer:Fn,afterFooter:Fn};function bu(e,t,r,s){const a=e[t].call(r,s);return"undefined"===typeof a?yu[t].call(r,s):a}class vu extends $c{static positioners=(()=>lu)();constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&t.options.animation&&r.animations,a=new Oo(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(a)),a}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,r=this._tooltipItems,Ol(e,{tooltip:t,tooltipItems:r,type:"tooltip"})));var e,t,r}getTitle(e,t){const{callbacks:r}=t,s=bu(r,"beforeTitle",this,e),a=bu(r,"title",this,e),n=bu(r,"afterTitle",this,e);let i=[];return i=ou(i,cu(s)),i=ou(i,cu(a)),i=ou(i,cu(n)),i}getBeforeBody(e,t){return pu(bu(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:r}=t,s=[];return Kn(e,e=>{const t={before:[],lines:[],after:[]},a=fu(r,e);ou(t.before,cu(bu(a,"beforeLabel",this,e))),ou(t.lines,bu(a,"label",this,e)),ou(t.after,cu(bu(a,"afterLabel",this,e))),s.push(t)}),s}getAfterBody(e,t){return pu(bu(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:r}=t,s=bu(r,"beforeFooter",this,e),a=bu(r,"footer",this,e),n=bu(r,"afterFooter",this,e);let i=[];return i=ou(i,cu(s)),i=ou(i,cu(a)),i=ou(i,cu(n)),i}_createItems(e){const t=this._active,r=this.chart.data,s=[],a=[],n=[];let i,l,o=[];for(i=0,l=t.length;i<l;++i)o.push(du(this.chart,t[i]));return e.filter&&(o=o.filter((t,s,a)=>e.filter(t,s,a,r))),e.itemSort&&(o=o.sort((t,s)=>e.itemSort(t,s,r))),Kn(o,t=>{const r=fu(e.callbacks,t);s.push(bu(r,"labelColor",this,t)),a.push(bu(r,"labelPointStyle",this,t)),n.push(bu(r,"labelTextColor",this,t))}),this.labelColors=s,this.labelPointStyles=a,this.labelTextColors=n,this.dataPoints=o,o}update(e,t){const r=this.options.setContext(this.getContext()),s=this._active;let a,n=[];if(s.length){const e=lu[r.position].call(this,s,this._eventPosition);n=this._createItems(r),this.title=this.getTitle(n,r),this.beforeBody=this.getBeforeBody(n,r),this.body=this.getBody(n,r),this.afterBody=this.getAfterBody(n,r),this.footer=this.getFooter(n,r);const t=this._size=uu(this,r),i=Object.assign({},e,t),l=mu(this.chart,r,i),o=gu(r,i,l,this.chart);this.xAlign=l.xAlign,this.yAlign=l.yAlign,a={opacity:1,x:o.x,y:o.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(a={opacity:0});this._tooltipItems=n,this.$context=void 0,a&&this._resolveAnimations().update(this,a),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,r,s){const a=this.getCaretPosition(e,r,s);t.lineTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineTo(a.x3,a.y3)}getCaretPosition(e,t,r){const{xAlign:s,yAlign:a}=this,{caretSize:n,cornerRadius:i}=r,{topLeft:l,topRight:o,bottomLeft:c,bottomRight:d}=Pl(i),{x:u,y:h}=e,{width:m,height:g}=t;let x,p,f,y,b,v;return"center"===a?(b=h+g/2,"left"===s?(x=u,p=x-n,y=b+n,v=b-n):(x=u+m,p=x+n,y=b-n,v=b+n),f=x):(p="left"===s?u+Math.max(l,c)+n:"right"===s?u+m-Math.max(o,d)-n:this.caretX,"top"===a?(y=h,b=y-n,x=p-n,f=p+n):(y=h+g,b=y+n,x=p+n,f=p-n),v=y),{x1:x,x2:p,x3:f,y1:y,y2:b,y3:v}}drawTitle(e,t,r){const s=this.title,a=s.length;let n,i,l;if(a){const o=po(r.rtl,this.x,this.width);for(e.x=xu(this,r.titleAlign,r),t.textAlign=o.textAlign(r.titleAlign),t.textBaseline="middle",n=Rl(r.titleFont),i=r.titleSpacing,t.fillStyle=r.titleColor,t.font=n.string,l=0;l<a;++l)t.fillText(s[l],o.x(e.x),e.y+n.lineHeight/2),e.y+=n.lineHeight+i,l+1===a&&(e.y+=r.titleMarginBottom-i)}}_drawColorBox(e,t,r,s,a){const n=this.labelColors[r],i=this.labelPointStyles[r],{boxHeight:l,boxWidth:o}=a,c=Rl(a.bodyFont),d=xu(this,"left",a),u=s.x(d),h=l<c.lineHeight?(c.lineHeight-l)/2:0,m=t.y+h;if(a.usePointStyle){const t={radius:Math.min(o,l)/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:1},r=s.leftForLtr(u,o)+o/2,c=m+l/2;e.strokeStyle=a.multiKeyBackground,e.fillStyle=a.multiKeyBackground,hl(e,t,r,c),e.strokeStyle=n.borderColor,e.fillStyle=n.backgroundColor,hl(e,t,r,c)}else{e.lineWidth=zn(n.borderWidth)?Math.max(...Object.values(n.borderWidth)):n.borderWidth||1,e.strokeStyle=n.borderColor,e.setLineDash(n.borderDash||[]),e.lineDashOffset=n.borderDashOffset||0;const t=s.leftForLtr(u,o),r=s.leftForLtr(s.xPlus(u,1),o-2),i=Pl(n.borderRadius);Object.values(i).some(e=>0!==e)?(e.beginPath(),e.fillStyle=a.multiKeyBackground,jl(e,{x:t,y:m,w:o,h:l,radius:i}),e.fill(),e.stroke(),e.fillStyle=n.backgroundColor,e.beginPath(),jl(e,{x:r,y:m+1,w:o-2,h:l-2,radius:i}),e.fill()):(e.fillStyle=a.multiKeyBackground,e.fillRect(t,m,o,l),e.strokeRect(t,m,o,l),e.fillStyle=n.backgroundColor,e.fillRect(r,m+1,o-2,l-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,t,r){const{body:s}=this,{bodySpacing:a,bodyAlign:n,displayColors:i,boxHeight:l,boxWidth:o,boxPadding:c}=r,d=Rl(r.bodyFont);let u=d.lineHeight,h=0;const m=po(r.rtl,this.x,this.width),g=function(r){t.fillText(r,m.x(e.x+h),e.y+u/2),e.y+=u+a},x=m.textAlign(n);let p,f,y,b,v,w,j;for(t.textAlign=n,t.textBaseline="middle",t.font=d.string,e.x=xu(this,x,r),t.fillStyle=r.bodyColor,Kn(this.beforeBody,g),h=i&&"right"!==x?"center"===n?o/2+c:o+2+c:0,b=0,w=s.length;b<w;++b){for(p=s[b],f=this.labelTextColors[b],t.fillStyle=f,Kn(p.before,g),y=p.lines,i&&y.length&&(this._drawColorBox(t,e,b,m,r),u=Math.max(d.lineHeight,l)),v=0,j=y.length;v<j;++v)g(y[v]),u=d.lineHeight;Kn(p.after,g)}h=0,u=d.lineHeight,Kn(this.afterBody,g),e.y-=a}drawFooter(e,t,r){const s=this.footer,a=s.length;let n,i;if(a){const l=po(r.rtl,this.x,this.width);for(e.x=xu(this,r.footerAlign,r),e.y+=r.footerMarginTop,t.textAlign=l.textAlign(r.footerAlign),t.textBaseline="middle",n=Rl(r.footerFont),t.fillStyle=r.footerColor,t.font=n.string,i=0;i<a;++i)t.fillText(s[i],l.x(e.x),e.y+n.lineHeight/2),e.y+=n.lineHeight+r.footerSpacing}}drawBackground(e,t,r,s){const{xAlign:a,yAlign:n}=this,{x:i,y:l}=e,{width:o,height:c}=r,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:m}=Pl(s.cornerRadius);t.fillStyle=s.backgroundColor,t.strokeStyle=s.borderColor,t.lineWidth=s.borderWidth,t.beginPath(),t.moveTo(i+d,l),"top"===n&&this.drawCaret(e,t,r,s),t.lineTo(i+o-u,l),t.quadraticCurveTo(i+o,l,i+o,l+u),"center"===n&&"right"===a&&this.drawCaret(e,t,r,s),t.lineTo(i+o,l+c-m),t.quadraticCurveTo(i+o,l+c,i+o-m,l+c),"bottom"===n&&this.drawCaret(e,t,r,s),t.lineTo(i+h,l+c),t.quadraticCurveTo(i,l+c,i,l+c-h),"center"===n&&"left"===a&&this.drawCaret(e,t,r,s),t.lineTo(i,l+d),t.quadraticCurveTo(i,l,i+d,l),t.closePath(),t.fill(),s.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,r=this.$animations,s=r&&r.x,a=r&&r.y;if(s||a){const r=lu[e.position].call(this,this._active,this._eventPosition);if(!r)return;const n=this._size=uu(this,e),i=Object.assign({},r,this._size),l=mu(t,e,i),o=gu(e,i,l,t);s._to===o.x&&a._to===o.y||(this.xAlign=l.xAlign,this.yAlign=l.yAlign,this.width=n.width,this.height=n.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,o))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(t);const s={width:this.width,height:this.height},a={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const n=Al(t.padding),i=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&i&&(e.save(),e.globalAlpha=r,this.drawBackground(a,e,s,t),fo(e,t.textDirection),a.y+=n.top,this.drawTitle(a,e,t),this.drawBody(a,e,t),this.drawFooter(a,e,t),yo(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const r=this._active,s=e.map(e=>{let{datasetIndex:t,index:r}=e;const s=this.chart.getDatasetMeta(t);if(!s)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:s.data[r],index:r}}),a=!Gn(r,s),n=this._positionChanged(s,t);(a||n)&&(this._active=s,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,a=this._active||[],n=this._getActiveElements(e,a,t,r),i=this._positionChanged(n,e),l=t||!Gn(n,a)||i;return l&&(this._active=n,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),l}_getActiveElements(e,t,r,s){const a=this.options;if("mouseout"===e.type)return[];if(!s)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const n=this.chart.getElementsAtEventForMode(e,a.mode,a,r);return a.reverse&&n.reverse(),n}_positionChanged(e,t){const{caretX:r,caretY:s,options:a}=this,n=lu[a.position].call(this,e,t);return!1!==n&&(r!==n.x||s!==n.y)}}var wu={id:"tooltip",_element:vu,positioners:lu,afterInit(e,t,r){r&&(e.tooltip=new vu({chart:e,options:r}))},beforeUpdate(e,t,r){e.tooltip&&e.tooltip.initialize(r)},reset(e,t,r){e.tooltip&&e.tooltip.initialize(r)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const r={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0}))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",r)}},afterEvent(e,t){if(e.tooltip){const r=t.replay;e.tooltip.handleEvent(t.event,r,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:yu},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};function ju(e,t,r,s){const a=e.indexOf(t);if(-1===a)return((e,t,r,s)=>("string"===typeof t?(r=e.push(t)-1,s.unshift({index:r,label:t})):isNaN(t)&&(r=null),r))(e,t,r,s);return a!==e.lastIndexOf(t)?r:a}function ku(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Nu extends Xc{static id="category";static defaults=(()=>({ticks:{callback:ku}}))();constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:r,label:s}of t)e[r]===s&&e.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Bn(e))return null;const r=this.getLabels();return((e,t)=>null===e?null:Ai(Math.round(e),0,t))(t=isFinite(t)&&r[t]===e?t:ju(r,e,Hn(t,e),this._addedLabels),r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(r=0),t||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,t=this.max,r=this.options.offset,s=[];let a=this.getLabels();a=0===e&&t===a.length-1?a:a.slice(e,t+1),this._valueRange=Math.max(a.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let n=e;n<=t;n++)s.push({value:n});return s}getLabelForValue(e){return ku.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Su(e,t){const r=[],{bounds:s,step:a,min:n,max:i,precision:l,count:o,maxTicks:c,maxDigits:d,includeBounds:u}=e,h=a||1,m=c-1,{min:g,max:x}=t,p=!Bn(n),f=!Bn(i),y=!Bn(o),b=(x-g)/(d+1);let v,w,j,k,N=bi((x-g)/m/h)*h;if(N<1e-14&&!p&&!f)return[{value:g},{value:x}];k=Math.ceil(x/N)-Math.floor(g/N),k>m&&(N=bi(k*N/m/h)*h),Bn(l)||(v=Math.pow(10,l),N=Math.ceil(N*v)/v),"ticks"===s?(w=Math.floor(g/N)*N,j=Math.ceil(x/N)*N):(w=g,j=x),p&&f&&a&&function(e,t){const r=Math.round(e);return r-t<=e&&r+t>=e}((i-n)/a,N/1e3)?(k=Math.round(Math.min((i-n)/N,c)),N=(i-n)/k,w=n,j=i):y?(w=p?n:w,j=f?i:j,k=o-1,N=(j-w)/k):(k=(j-w)/N,k=yi(k,Math.round(k),N/1e3)?Math.round(k):Math.ceil(k));const S=Math.max(Ni(N),Ni(w));v=Math.pow(10,Bn(l)?S:l),w=Math.round(w*v)/v,j=Math.round(j*v)/v;let _=0;for(p&&(u&&w!==n?(r.push({value:n}),w<n&&_++,yi(Math.round((w+_*N)*v)/v,n,_u(n,b,e))&&_++):w<n&&_++);_<k;++_){const e=Math.round((w+_*N)*v)/v;if(f&&e>i)break;r.push({value:e})}return f&&u&&j!==i?r.length&&yi(r[r.length-1].value,i,_u(i,b,e))?r[r.length-1].value=i:r.push({value:i}):f&&j!==i||r.push({value:j}),r}function _u(e,t,r){let{horizontal:s,minRotation:a}=r;const n=ji(a),i=(s?Math.sin(n):Math.cos(n))||.001,l=.75*t*(""+e).length;return Math.min(t/i,l)}class Cu extends Xc{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Bn(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:r}=this.getUserBounds();let{min:s,max:a}=this;const n=e=>s=t?s:e,i=e=>a=r?a:e;if(e){const e=fi(s),t=fi(a);e<0&&t<0?i(0):e>0&&t>0&&n(0)}if(s===a){let t=0===a?1:Math.abs(.05*a);i(a+t),e||n(s-t)}this.min=s,this.max=a}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:r,stepSize:s}=e;return s?(t=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,t>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${t} ticks. Limiting to 1000.`),t=1e3)):(t=this.computeTickLimit(),r=r||11),r&&(t=Math.min(r,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s=Su({maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&wi(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){const e=this.ticks;let t=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-t)/Math.max(e.length-1,1)/2;t-=s,r+=s}this._startValue=t,this._endValue=r,this._valueRange=r-t}getLabelForValue(e){return el(e,this.chart.options.locale,this.options.ticks.format)}}class Eu extends Cu{static id="linear";static defaults=(()=>({ticks:{callback:rl.formatters.numeric}}))();determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=$n(e)?e:0,this.max=$n(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,r=ji(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,a=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,a.lineHeight/s))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}rl.formatters.logarithmic;rl.formatters.numeric;const Pu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Au=Object.keys(Pu);function Ru(e,t){return e-t}function Iu(e,t){if(Bn(t))return null;const r=e._adapter,{parser:s,round:a,isoWeekday:n}=e._parseOpts;let i=t;return"function"===typeof s&&(i=s(i)),$n(i)||(i="string"===typeof s?r.parse(i,s):r.parse(i)),null===i?null:(a&&(i="week"!==a||!vi(n)&&!0!==n?r.startOf(i,a):r.startOf(i,"isoWeek",n)),+i)}function Ou(e,t,r,s){const a=Au.length;for(let n=Au.indexOf(e);n<a-1;++n){const e=Pu[Au[n]],a=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((r-t)/(a*e.size))<=s)return Au[n]}return Au[a-1]}function Tu(e,t,r){if(r){if(r.length){const{lo:s,hi:a}=Ii(r,t);e[r[s]>=t?r[s]:r[a]]=!0}}else e[t]=!0}function Mu(e,t,r){const s=[],a={},n=t.length;let i,l;for(i=0;i<n;++i)l=t[i],a[l]=i,s.push({value:l,major:!1});return 0!==n&&r?function(e,t,r,s){const a=e._adapter,n=+a.startOf(t[0].value,s),i=t[t.length-1].value;let l,o;for(l=n;l<=i;l=+a.add(l,1,s))o=r[l],o>=0&&(t[o].major=!0);return t}(e,s,a,r):s}class Lu extends Xc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e.time||(e.time={}),s=this._adapter=new nc(e.adapters.date);s.init(t),ei(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:Iu(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,r=e.time.unit||"day";let{min:s,max:a,minDefined:n,maxDefined:i}=this.getUserBounds();function l(e){n||isNaN(e.min)||(s=Math.min(s,e.min)),i||isNaN(e.max)||(a=Math.max(a,e.max))}n&&i||(l(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||l(this.getMinMax(!1))),s=$n(s)&&!isNaN(s)?s:+t.startOf(Date.now(),r),a=$n(a)&&!isNaN(a)?a:+t.endOf(Date.now(),r)+1,this.min=Math.min(s,a-1),this.max=Math.max(s+1,a)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],r=e[e.length-1]),{min:t,max:r}}buildTicks(){const e=this.options,t=e.time,r=e.ticks,s="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const a=this.min,n=function(e,t,r){let s=0,a=e.length;for(;s<a&&e[s]<t;)s++;for(;a>s&&e[a-1]>r;)a--;return s>0||a<e.length?e.slice(s,a):e}(s,a,this.max);return this._unit=t.unit||(r.autoSkip?Ou(t.minUnit,this.min,this.max,this._getLabelCapacity(a)):function(e,t,r,s,a){for(let n=Au.length-1;n>=Au.indexOf(r);n--){const r=Au[n];if(Pu[r].common&&e._adapter.diff(a,s,r)>=t-1)return r}return Au[r?Au.indexOf(r):0]}(this,n.length,t.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function(e){for(let t=Au.indexOf(e)+1,r=Au.length;t<r;++t)if(Pu[Au[t]].common)return Au[t]}(this._unit):void 0,this.initOffsets(s),e.reverse&&n.reverse(),Mu(this,n,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(){let e,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],s=0,a=0;this.options.offset&&r.length&&(e=this.getDecimalForValue(r[0]),s=1===r.length?1-e:(this.getDecimalForValue(r[1])-e)/2,t=this.getDecimalForValue(r[r.length-1]),a=1===r.length?t:(t-this.getDecimalForValue(r[r.length-2]))/2);const n=r.length<3?.5:.25;s=Ai(s,0,n),a=Ai(a,0,n),this._offsets={start:s,end:a,factor:1/(s+1+a)}}_generate(){const e=this._adapter,t=this.min,r=this.max,s=this.options,a=s.time,n=a.unit||Ou(a.minUnit,t,r,this._getLabelCapacity(t)),i=Hn(s.ticks.stepSize,1),l="week"===n&&a.isoWeekday,o=vi(l)||!0===l,c={};let d,u,h=t;if(o&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,o?"day":n),e.diff(r,t,n)>1e5*i)throw new Error(t+" and "+r+" are too far apart with stepSize of "+i+" "+n);const m="data"===s.ticks.source&&this.getDataTimestamps();for(d=h,u=0;d<r;d=+e.add(d,i,n),u++)Tu(c,d,m);return d!==r&&"ticks"!==s.bounds&&1!==u||Tu(c,d,m),Object.keys(c).sort(Ru).map(e=>+e)}getLabelForValue(e){const t=this._adapter,r=this.options.time;return r.tooltipFormat?t.format(e,r.tooltipFormat):t.format(e,r.displayFormats.datetime)}format(e,t){const r=this.options.time.displayFormats,s=this._unit,a=t||r[s];return this._adapter.format(e,a)}_tickFormatFunction(e,t,r,s){const a=this.options,n=a.ticks.callback;if(n)return Yn(n,[e,t,r],this);const i=a.time.displayFormats,l=this._unit,o=this._majorUnit,c=l&&i[l],d=o&&i[o],u=r[t],h=o&&d&&u&&u.major;return this._adapter.format(e,s||(h?d:c))}generateTickLabels(e){let t,r,s;for(t=0,r=e.length;t<r;++t)s=e[t],s.label=this._tickFormatFunction(s.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+r)*t.factor)}getValueForPixel(e){const t=this._offsets,r=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,r=this.ctx.measureText(e).width,s=ji(this.isHorizontal()?t.maxRotation:t.minRotation),a=Math.cos(s),n=Math.sin(s),i=this._resolveTickFontOptions(0).size;return{w:r*a+i*n,h:r*n+i*a}}_getLabelCapacity(e){const t=this.options.time,r=t.displayFormats,s=r[t.unit]||r.millisecond,a=this._tickFormatFunction(e,0,Mu(this,[e],this._majorUnit),s),n=this._getLabelSize(a),i=Math.floor(this.isHorizontal()?this.width/n.w:this.height/n.h)-1;return i>0?i:1}getDataTimestamps(){let e,t,r=this._cache.data||[];if(r.length)return r;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(e=0,t=s.length;e<t;++e)r=r.concat(s[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(r)}getLabelTimestamps(){const e=this._cache.labels||[];let t,r;if(e.length)return e;const s=this.getLabels();for(t=0,r=s.length;t<r;++t)e.push(Iu(this,s[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Di(e.sort(Ru))}}const Du="label";function Fu(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function Uu(e,t){e.labels=t}function Bu(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Du;const s=[];e.datasets=t.map(t=>{const a=e.datasets.find(e=>e[r]===t[r]);return a&&t.data&&!s.includes(a)?(s.push(a),Object.assign(a,t),a):{...t}})}function Vu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Du;const r={labels:[],datasets:[]};return Uu(r,e.labels),Bu(r,e.datasets,t),r}function zu(e,t){const{height:r=150,width:s=300,redraw:n=!1,datasetIdKey:i,type:l,data:o,options:c,plugins:d=[],fallbackContent:u,updateMode:h,...m}=e,g=(0,a.useRef)(null),x=(0,a.useRef)(null),p=()=>{g.current&&(x.current=new Ad(g.current,{type:l,data:Vu(o,i),options:c&&{...c},plugins:d}),Fu(t,x.current))},f=()=>{Fu(t,null),x.current&&(x.current.destroy(),x.current=null)};return(0,a.useEffect)(()=>{!n&&x.current&&c&&function(e,t){const r=e.options;r&&t&&Object.assign(r,t)}(x.current,c)},[n,c]),(0,a.useEffect)(()=>{!n&&x.current&&Uu(x.current.config.data,o.labels)},[n,o.labels]),(0,a.useEffect)(()=>{!n&&x.current&&o.datasets&&Bu(x.current.config.data,o.datasets,i)},[n,o.datasets]),(0,a.useEffect)(()=>{x.current&&(n?(f(),setTimeout(p)):x.current.update(h))},[n,c,o.labels,o.datasets,h]),(0,a.useEffect)(()=>{x.current&&(f(),setTimeout(p))},[l]),(0,a.useEffect)(()=>(p(),()=>f()),[]),a.createElement("canvas",{ref:g,role:"img",height:r,width:s,...m},u)}const $u=(0,a.forwardRef)(zu);function Wu(e,t){return Ad.register(t),(0,a.forwardRef)((t,r)=>a.createElement($u,{...t,ref:r,type:e}))}const Hu=Wu("line",rc),qu=Wu("bar",ec),Yu=Wu("doughnut",tc);Ad.register(Nu,Eu,Yd,Hd,eu,iu,wu,au,Ld);const Ku=e=>{let{categoryStats:t,timeRange:r,onTimeRangeChange:s}=e;const[n,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)({revenueOverTime:{labels:[],datasets:[]},topCategories:[],categoryDistribution:{labels:[],datasets:[]},categoryPerformance:{labels:[],datasets:[]},growthMetrics:[]});(0,a.useEffect)(()=>{i(!0),setTimeout(()=>{const e=t.sort((e,t)=>(t.total_revenue||0)-(e.total_revenue||0)).slice(0,10),r={labels:e.slice(0,5).map(e=>e.name),datasets:[{data:e.slice(0,5).map(e=>e.total_revenue||0),backgroundColor:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"],borderWidth:2,borderColor:"#ffffff"}]},s={labels:e.map(e=>e.name.length>15?e.name.substring(0,15)+"...":e.name),datasets:[{label:"Revenue ($)",data:e.map(e=>e.total_revenue||0),backgroundColor:"rgba(59, 130, 246, 0.8)",borderColor:"rgb(59, 130, 246)",borderWidth:1},{label:"Orders",data:e.map(e=>100*(e.total_orders||0)),backgroundColor:"rgba(16, 185, 129, 0.8)",borderColor:"rgb(16, 185, 129)",borderWidth:1}]};o({revenueOverTime:{labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Total Revenue",data:[12e3,19e3,15e3,25e3,22e3,3e4],borderColor:"rgb(59, 130, 246)",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4}]},topCategories:e,categoryDistribution:r,categoryPerformance:s,growthMetrics:[]}),i(!1)},1e3)},[t,r]);const c={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!1}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.1)"}},x:{grid:{display:!1}}}},d=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),u=()=>{const e=t.filter(e=>void 0!==e.growth_rate);if(0===e.length)return 0;return e.reduce((e,t)=>e+t.growth_rate,0)/e.length};return(0,Oe.jsxs)("div",{className:"space-y-6",children:[(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:(0,Oe.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsxs)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,Oe.jsx)(Ot,{className:"w-6 h-6 mr-3 text-blue-600"}),"Category Performance Analytics"]}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Comprehensive insights into category performance and trends"})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-3 mt-4 lg:mt-0",children:[(0,Oe.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Time Range:"}),(0,Oe.jsx)("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:["7d","30d","90d","1y"].map(e=>(0,Oe.jsxs)("button",{onClick:()=>s(e),className:"px-3 py-1 text-sm rounded transition-colors "+(r===e?"bg-white dark:bg-gray-600 shadow-sm text-blue-600 dark:text-blue-400":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white"),children:["7d"===e&&"7 Days","30d"===e&&"30 Days","90d"===e&&"90 Days","1y"===e&&"1 Year"]},e))})]})]})}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Revenue"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:d(t.reduce((e,t)=>e+(t.total_revenue||0),0))}),(0,Oe.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Oe.jsx)(Ua,{className:"w-4 h-4 text-green-500 mr-1"}),(0,Oe.jsx)("span",{className:"text-sm text-green-600",children:"+12.5%"})]})]}),(0,Oe.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900/20 rounded-lg",children:(0,Oe.jsx)(ya,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Orders"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.reduce((e,t)=>e+(t.total_orders||0),0).toLocaleString()}),(0,Oe.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Oe.jsx)(Ua,{className:"w-4 h-4 text-blue-500 mr-1"}),(0,Oe.jsx)("span",{className:"text-sm text-blue-600",children:"+8.2%"})]})]}),(0,Oe.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:(0,Oe.jsx)(mt,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Growth Rate"}),(0,Oe.jsxs)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[u().toFixed(1),"%"]}),(0,Oe.jsxs)("div",{className:"flex items-center mt-2",children:[u()>=0?(0,Oe.jsx)(Ua,{className:"w-4 h-4 text-green-500 mr-1"}):(0,Oe.jsx)(Va,{className:"w-4 h-4 text-red-500 mr-1"}),(0,Oe.jsx)("span",{className:"text-sm "+(u()>=0?"text-green-600":"text-red-600"),children:"vs last period"})]})]}),(0,Oe.jsx)("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/20 rounded-lg",children:(0,Oe.jsx)(Ua,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})}),(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Active Categories"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:t.filter(e=>e.product_count>0).length}),(0,Oe.jsxs)("div",{className:"flex items-center mt-2",children:[(0,Oe.jsx)(pa,{className:"w-4 h-4 text-orange-500 mr-1"}),(0,Oe.jsxs)("span",{className:"text-sm text-orange-600",children:[t.length," total"]})]})]}),(0,Oe.jsx)("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/20 rounded-lg",children:(0,Oe.jsx)(sn,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Revenue Trend"}),n&&(0,Oe.jsx)(va,{className:"w-5 h-5 animate-spin text-blue-600"})]}),(0,Oe.jsx)("div",{className:"h-80",children:n?(0,Oe.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Oe.jsx)(va,{className:"w-8 h-8 animate-spin text-gray-400"})}):(0,Oe.jsx)(Hu,{data:l.revenueOverTime,options:c})})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Revenue Distribution"}),n&&(0,Oe.jsx)(va,{className:"w-5 h-5 animate-spin text-blue-600"})]}),(0,Oe.jsx)("div",{className:"h-80",children:n?(0,Oe.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Oe.jsx)(va,{className:"w-8 h-8 animate-spin text-gray-400"})}):(0,Oe.jsx)(Yu,{data:l.categoryDistribution,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"right"}}}})})]})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Top Categories Performance"}),n&&(0,Oe.jsx)(va,{className:"w-5 h-5 animate-spin text-blue-600"})]}),(0,Oe.jsx)("div",{className:"h-96",children:n?(0,Oe.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Oe.jsx)(va,{className:"w-8 h-8 animate-spin text-gray-400"})}):(0,Oe.jsx)(qu,{data:l.categoryPerformance,options:c})})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Top Performing Categories"}),(0,Oe.jsx)("div",{className:"overflow-x-auto",children:(0,Oe.jsxs)("table",{className:"w-full",children:[(0,Oe.jsx)("thead",{children:(0,Oe.jsxs)("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[(0,Oe.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900 dark:text-white",children:"Category"}),(0,Oe.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900 dark:text-white",children:"Products"}),(0,Oe.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900 dark:text-white",children:"Orders"}),(0,Oe.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900 dark:text-white",children:"Revenue"}),(0,Oe.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900 dark:text-white",children:"Growth"}),(0,Oe.jsx)("th",{className:"text-left py-3 px-4 font-medium text-gray-900 dark:text-white",children:"Rating"})]})}),(0,Oe.jsx)("tbody",{children:l.topCategories.map((e,t)=>(0,Oe.jsxs)("tr",{className:"border-b border-gray-100 dark:border-gray-700/50",children:[(0,Oe.jsx)("td",{className:"py-3 px-4",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)("div",{className:"w-3 h-3 rounded-full mr-3 "+(0===t?"bg-yellow-400":1===t?"bg-gray-400":2===t?"bg-orange-400":"bg-blue-400")}),(0,Oe.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:e.name})]})}),(0,Oe.jsx)("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:e.product_count}),(0,Oe.jsx)("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:e.total_orders||0}),(0,Oe.jsx)("td",{className:"py-3 px-4 font-medium text-gray-900 dark:text-white",children:d(e.total_revenue||0)}),(0,Oe.jsx)("td",{className:"py-3 px-4",children:(0,Oe.jsxs)("span",{className:"flex items-center "+((e.growth_rate||0)>=0?"text-green-600":"text-red-600"),children:[(e.growth_rate||0)>=0?(0,Oe.jsx)(Ua,{className:"w-4 h-4 mr-1"}):(0,Oe.jsx)(Va,{className:"w-4 h-4 mr-1"}),Math.abs(e.growth_rate||0).toFixed(1),"%"]})}),(0,Oe.jsx)("td",{className:"py-3 px-4",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:e.avg_rating?e.avg_rating.toFixed(1):"N/A"}),e.avg_rating&&(0,Oe.jsx)("div",{className:"flex ml-2",children:[...Array(5)].map((t,r)=>(0,Oe.jsx)("div",{className:"w-3 h-3 "+(r<Math.floor(e.avg_rating)?"text-yellow-400":"text-gray-300"),children:"\u2605"},r))})]})})]},e.id))})]})})]})]})},Gu=()=>{const{user:e}=Fe(),[t,r]=(0,a.useState)([]),[s,n]=(0,a.useState)([]),[i,l]=(0,a.useState)(null),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)("grid"),[g,x]=(0,a.useState)(!1),[p,f]=(0,a.useState)([]),[y,b]=(0,a.useState)(""),[v,w]=(0,a.useState)("30d"),[j,k]=(0,a.useState)(!1),[N,S]=(0,a.useState)(""),[_,C]=(0,a.useState)(""),[E,P]=(0,a.useState)(!1),[A,R]=(0,a.useState)({search:"",sortBy:"name",sortOrder:"asc",productCountRange:[0,1e3],revenueRange:[0,1e5],minRating:0,hasProducts:null}),[I,O]=(0,a.useState)({totalCategories:0,totalProducts:0,totalRevenue:0,avgProductsPerCategory:0,topPerformingCategory:null,growthRate:0}),T=(0,a.useCallback)(async()=>{try{u(!0);const e=await Le.categoriesAPI.getAll();r(e);const t=s.reduce((e,t)=>e+t.product_count,0),a=s.reduce((e,t)=>e+(t.total_revenue||0),0),n=s.reduce((e,t)=>!e||(t.total_revenue||0)>(e.total_revenue||0)?t:e,null);O({totalCategories:e.length,totalProducts:t,totalRevenue:a,avgProductsPerCategory:e.length>0?t/e.length:0,topPerformingCategory:n,growthRate:12.5})}catch(e){console.error("Failed to fetch categories:",e)}finally{u(!1)}},[s]),M=(0,a.useCallback)(async()=>{try{const e=(await Le.categoriesAPI.getStats()).categories.map(e=>({...e,total_revenue:Math.floor(5e4*Math.random())+1e3,total_orders:Math.floor(500*Math.random())+10,growth_rate:30*(Math.random()-.5),shops_count:Math.floor(20*Math.random())+1,avg_rating:2*Math.random()+3,last_updated:(new Date).toISOString()}));n(e)}catch(e){console.error("Failed to fetch category statistics:",e)}},[]),L=(0,a.useMemo)(()=>{let e=t.filter(e=>{const t=s.find(t=>t.id===e.id);if(!t)return!1;if(A.search.trim()&&!e.name.toLowerCase().includes(A.search.toLowerCase()))return!1;if(t.product_count<A.productCountRange[0]||t.product_count>A.productCountRange[1])return!1;const r=t.total_revenue||0;if(r<A.revenueRange[0]||r>A.revenueRange[1])return!1;if((t.avg_rating||0)<A.minRating)return!1;if(null!==A.hasProducts){if(A.hasProducts&&0===t.product_count)return!1;if(!A.hasProducts&&t.product_count>0)return!1}return!0});return e.sort((e,t)=>{const r=s.find(t=>t.id===e.id),a=s.find(e=>e.id===t.id);if(!r||!a)return 0;let n,i;switch(A.sortBy){case"name":default:n=e.name.toLowerCase(),i=t.name.toLowerCase();break;case"products":n=r.product_count,i=a.product_count;break;case"revenue":n=r.total_revenue||0,i=a.total_revenue||0;break;case"orders":n=r.total_orders||0,i=a.total_orders||0;break;case"growth":n=r.growth_rate||0,i=a.growth_rate||0;break;case"rating":n=r.avg_rating||0,i=a.avg_rating||0}return"asc"===A.sortOrder?n>i?1:-1:n<i?1:-1}),e},[t,s,A]);(0,a.useEffect)(()=>{M()},[M]),(0,a.useEffect)(()=>{T()},[T]);const D=e=>s.find(t=>t.id===e),F=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),U=e=>{const t=e>=0;return(0,Oe.jsxs)("span",{className:"flex items-center "+(t?"text-green-600":"text-red-600"),children:[t?(0,Oe.jsx)(Ua,{className:"w-4 h-4 mr-1"}):(0,Oe.jsx)(Va,{className:"w-4 h-4 mr-1"}),Math.abs(e).toFixed(1),"%"]})},B=()=>(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Categories"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:I.totalCategories})]}),(0,Oe.jsx)("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:(0,Oe.jsx)(Qe,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Products"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:I.totalProducts.toLocaleString()})]}),(0,Oe.jsx)("div",{className:"p-3 bg-green-100 dark:bg-green-900/20 rounded-lg",children:(0,Oe.jsx)(mt,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Revenue"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:F(I.totalRevenue)})]}),(0,Oe.jsx)("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/20 rounded-lg",children:(0,Oe.jsx)(ya,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})}),(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Growth Rate"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:U(I.growthRate)})]}),(0,Oe.jsx)("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/20 rounded-lg",children:(0,Oe.jsx)(Ua,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})})]}),V=e=>{let{category:t}=e;const r=D(t.id),s=p.includes(t.id);return(0,Oe.jsxs)("div",{className:`\n        bg-white dark:bg-gray-800 rounded-xl shadow-sm border-2 p-6 \n        hover:shadow-lg transition-all duration-200 hover:scale-105 \n        relative overflow-hidden group cursor-pointer\n        ${s?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700"}\n      `,children:[(0,Oe.jsx)("div",{className:"absolute top-4 left-4 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,Oe.jsx)("input",{type:"checkbox",checked:s,onChange:e=>{e.target.checked?f(e=>[...e,t.id]):f(e=>e.filter(e=>e!==t.id))},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"})}),(0,Oe.jsx)("div",{className:"flex justify-end mb-4",children:(0,Oe.jsx)("div",{className:"p-3 bg-gradient-to-r from-blue-100 to-purple-100 dark:from-blue-900/20 dark:to-purple-900/20 rounded-lg",children:(0,Oe.jsx)(Qe,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})}),(0,Oe.jsxs)("div",{className:"mb-4",children:[(0,Oe.jsx)("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:t.name}),(0,Oe.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 font-mono",children:["/",t.slug]})]}),r&&(0,Oe.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:r.product_count}),(0,Oe.jsx)("p",{className:"text-xs text-gray-500",children:"Products"})]}),(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:F(r.total_revenue||0)}),(0,Oe.jsx)("p",{className:"text-xs text-gray-500",children:"Revenue"})]}),(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:r.total_orders||0}),(0,Oe.jsx)("p",{className:"text-xs text-gray-500",children:"Orders"})]}),(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"text-lg font-bold",children:U(r.growth_rate||0)}),(0,Oe.jsx)("p",{className:"text-xs text-gray-500",children:"Growth"})]})]}),r&&r.avg_rating&&(0,Oe.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,Oe.jsx)(Ut,{className:"w-4 h-4 text-yellow-400 fill-current"}),(0,Oe.jsxs)("span",{className:"ml-1 text-sm text-gray-600 dark:text-gray-400",children:[r.avg_rating.toFixed(1)," rating"]})]}),(0,Oe.jsxs)("div",{className:"flex space-x-2",children:[(0,Oe.jsxs)("button",{className:"flex-1 px-3 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Oe.jsx)(js,{className:"w-4 h-4 inline mr-1"}),"View"]}),(0,Oe.jsx)("button",{className:"px-3 py-2 text-sm bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:(0,Oe.jsx)($a,{className:"w-4 h-4"})})]})]})},z=e=>{let{category:t}=e;const r=D(t.id),s=p.includes(t.id);return(0,Oe.jsx)("div",{className:`\n        bg-white dark:bg-gray-800 rounded-lg border p-4 \n        hover:shadow-md transition-all duration-200\n        ${s?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700"}\n      `,children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsx)("input",{type:"checkbox",checked:s,onChange:e=>{e.target.checked?f(e=>[...e,t.id]):f(e=>e.filter(e=>e!==t.id))},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,Oe.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:(0,Oe.jsx)(Qe,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white",children:t.name}),(0,Oe.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["/",t.slug]})]})]}),r&&(0,Oe.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("p",{className:"text-lg font-bold text-gray-900 dark:text-white",children:r.product_count}),(0,Oe.jsx)("p",{className:"text-xs text-gray-500",children:"Products"})]}),(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("p",{className:"text-lg font-bold text-green-600 dark:text-green-400",children:F(r.total_revenue||0)}),(0,Oe.jsx)("p",{className:"text-xs text-gray-500",children:"Revenue"})]}),(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("p",{className:"text-lg font-bold text-purple-600 dark:text-purple-400",children:r.total_orders||0}),(0,Oe.jsx)("p",{className:"text-xs text-gray-500",children:"Orders"})]}),(0,Oe.jsxs)("div",{className:"text-center",children:[U(r.growth_rate||0),(0,Oe.jsx)("p",{className:"text-xs text-gray-500",children:"Growth"})]}),(0,Oe.jsxs)("div",{className:"flex space-x-2",children:[(0,Oe.jsx)("button",{className:"px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"View"}),(0,Oe.jsx)("button",{className:"px-3 py-1 text-sm bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Edit"})]})]})]})})};return(0,Oe.jsxs)("div",{className:"space-y-6",children:[(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:(0,Oe.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between",children:[(0,Oe.jsxs)("div",{className:"mb-4 lg:mb-0",children:[(0,Oe.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center",children:[(0,Oe.jsx)(Ha,{className:"w-8 h-8 mr-3 text-blue-600"}),"Enterprise Category Management"]}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Comprehensive category analytics and management dashboard"})]}),(0,Oe.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,Oe.jsxs)("button",{onClick:()=>k(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Oe.jsx)(Ya,{className:"w-5 h-5 mr-2"}),"Add Category"]}),(0,Oe.jsxs)("button",{className:"flex items-center px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:[(0,Oe.jsx)(Ga,{className:"w-5 h-5 mr-2"}),"Export Data"]})]})]})}),(0,Oe.jsx)(B,{}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,Oe.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between mb-4",children:[(0,Oe.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-4 lg:mb-0",children:[(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsx)(Ct,{className:"w-5 h-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,Oe.jsx)("input",{type:"text",placeholder:"Search categories...",value:A.search,onChange:e=>R(t=>({...t,search:e.target.value})),className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white w-full sm:w-80"})]}),(0,Oe.jsxs)("select",{value:A.sortBy,onChange:e=>R(t=>({...t,sortBy:e.target.value})),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[(0,Oe.jsx)("option",{value:"name",children:"Sort by Name"}),(0,Oe.jsx)("option",{value:"products",children:"Sort by Products"}),(0,Oe.jsx)("option",{value:"revenue",children:"Sort by Revenue"}),(0,Oe.jsx)("option",{value:"orders",children:"Sort by Orders"}),(0,Oe.jsx)("option",{value:"growth",children:"Sort by Growth"}),(0,Oe.jsx)("option",{value:"rating",children:"Sort by Rating"})]}),(0,Oe.jsxs)("select",{value:A.sortOrder,onChange:e=>R(t=>({...t,sortOrder:e.target.value})),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white",children:[(0,Oe.jsx)("option",{value:"asc",children:"Ascending"}),(0,Oe.jsx)("option",{value:"desc",children:"Descending"})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsxs)("button",{onClick:()=>x(!g),className:"flex items-center px-3 py-2 rounded-lg transition-colors "+(g?"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[(0,Oe.jsx)(Za,{className:"w-5 h-5 mr-2"}),"Filters"]}),(0,Oe.jsxs)("div",{className:"flex bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[(0,Oe.jsx)("button",{onClick:()=>m("grid"),className:"p-2 rounded transition-colors "+("grid"===h?"bg-white dark:bg-gray-600 shadow-sm":"hover:bg-gray-200 dark:hover:bg-gray-600"),children:(0,Oe.jsx)(La,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),(0,Oe.jsx)("button",{onClick:()=>m("list"),className:"p-2 rounded transition-colors "+("list"===h?"bg-white dark:bg-gray-600 shadow-sm":"hover:bg-gray-200 dark:hover:bg-gray-600"),children:(0,Oe.jsx)(Xa,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),(0,Oe.jsx)("button",{onClick:()=>m("analytics"),className:"p-2 rounded transition-colors "+("analytics"===h?"bg-white dark:bg-gray-600 shadow-sm":"hover:bg-gray-200 dark:hover:bg-gray-600"),children:(0,Oe.jsx)(Ot,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})]})]})]}),g&&(0,Oe.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4 mt-4",children:(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Product Count Range"}),(0,Oe.jsxs)("div",{className:"flex space-x-2",children:[(0,Oe.jsx)("input",{type:"number",placeholder:"Min",value:A.productCountRange[0],onChange:e=>R(t=>({...t,productCountRange:[parseInt(e.target.value)||0,t.productCountRange[1]]})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white text-sm"}),(0,Oe.jsx)("input",{type:"number",placeholder:"Max",value:A.productCountRange[1],onChange:e=>R(t=>({...t,productCountRange:[t.productCountRange[0],parseInt(e.target.value)||1e3]})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white text-sm"})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Revenue Range ($)"}),(0,Oe.jsxs)("div",{className:"flex space-x-2",children:[(0,Oe.jsx)("input",{type:"number",placeholder:"Min",value:A.revenueRange[0],onChange:e=>R(t=>({...t,revenueRange:[parseInt(e.target.value)||0,t.revenueRange[1]]})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white text-sm"}),(0,Oe.jsx)("input",{type:"number",placeholder:"Max",value:A.revenueRange[1],onChange:e=>R(t=>({...t,revenueRange:[t.revenueRange[0],parseInt(e.target.value)||1e5]})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white text-sm"})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Minimum Rating"}),(0,Oe.jsxs)("select",{value:A.minRating,onChange:e=>R(t=>({...t,minRating:parseFloat(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white text-sm",children:[(0,Oe.jsx)("option",{value:0,children:"Any Rating"}),(0,Oe.jsx)("option",{value:3,children:"3+ Stars"}),(0,Oe.jsx)("option",{value:4,children:"4+ Stars"}),(0,Oe.jsx)("option",{value:4.5,children:"4.5+ Stars"})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Product Status"}),(0,Oe.jsxs)("select",{value:null===A.hasProducts?"all":A.hasProducts?"with-products":"empty",onChange:e=>{let t=null;"with-products"===e.target.value&&(t=!0),"empty"===e.target.value&&(t=!1),R(e=>({...e,hasProducts:t}))},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg dark:bg-gray-700 dark:text-white text-sm",children:[(0,Oe.jsx)("option",{value:"all",children:"All Categories"}),(0,Oe.jsx)("option",{value:"with-products",children:"With Products"}),(0,Oe.jsx)("option",{value:"empty",children:"Empty Categories"})]})]})]})}),(0,Oe.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,Oe.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 sm:mb-0",children:["Showing ",L.length," of ",t.length," categories",p.length>0&&(0,Oe.jsxs)("span",{className:"ml-3 text-blue-600 dark:text-blue-400",children:["(",p.length," selected)"]})]}),p.length>0&&(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsxs)("select",{value:y,onChange:e=>b(e.target.value),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded text-sm dark:bg-gray-700 dark:text-white",children:[(0,Oe.jsx)("option",{value:"",children:"Bulk Actions"}),(0,Oe.jsx)("option",{value:"export",children:"Export Selected"}),(0,Oe.jsx)("option",{value:"archive",children:"Archive Selected"}),(0,Oe.jsx)("option",{value:"delete",children:"Delete Selected"})]}),(0,Oe.jsx)("button",{onClick:()=>{if(0!==p.length){switch(y){case"export":console.log("Exporting categories:",p);break;case"archive":console.log("Archiving categories:",p);break;case"delete":console.log("Deleting categories:",p)}f([]),b("")}},disabled:!y,className:"px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Apply"})]})]})]}),d?(0,Oe.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,Oe.jsx)(va,{className:"w-8 h-8 animate-spin text-blue-600"})}):(0,Oe.jsxs)(Oe.Fragment,{children:["grid"===h&&(0,Oe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:L.map(e=>(0,Oe.jsx)(V,{category:e},e.id))}),"list"===h&&(0,Oe.jsx)("div",{className:"space-y-4",children:L.map(e=>(0,Oe.jsx)(z,{category:e},e.id))}),"analytics"===h&&(0,Oe.jsx)(Ku,{categoryStats:s,timeRange:v,onTimeRangeChange:w})]}),!d&&0===L.length&&(0,Oe.jsxs)("div",{className:"text-center py-12",children:[(0,Oe.jsx)(tn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No categories found"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Try adjusting your search criteria or filters"}),(0,Oe.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Clear Filters"})]}),j&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-md mx-4",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Add New Category"}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category Name *"}),(0,Oe.jsx)("input",{type:"text",value:N,onChange:e=>S(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter category name",disabled:E})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),(0,Oe.jsx)("textarea",{value:_,onChange:e=>C(e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter category description (optional)",disabled:E})]})]}),(0,Oe.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,Oe.jsx)("button",{onClick:()=>{k(!1),S(""),C("")},className:"px-4 py-2 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",disabled:E,children:"Cancel"}),(0,Oe.jsx)("button",{onClick:async()=>{if(N.trim()){P(!0);try{const e={name:N.trim(),description:_.trim()||"",slug:N.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"")},t=await Le.categoriesAPI.create(e);r(e=>[...e,t]),S(""),C(""),k(!1),T(),M()}catch(e){console.error("Error creating category:",e)}finally{P(!1)}}},disabled:!N.trim()||E,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:E?"Adding...":"Add Category"})]})]})})]})},Qu=()=>{const[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(null),[n,i]=(0,a.useState)([]),[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(""),[m,g]=(0,a.useState)(0),[x,p]=(0,a.useState)([]),f=(0,a.useRef)(null),y=e=>{p(t=>[e,...t.slice(0,9)])};(0,a.useEffect)(()=>{(()=>{var e;null===(e=f.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})})()},[n]);const b=(0,a.useCallback)(async()=>{try{o(!0);const e=await Le.messagesAPI.getConversations();t(e),y({success:!0,message:`Successfully fetched ${e.length} conversations`,data:e})}catch(e){y({success:!1,message:"Failed to fetch conversations",error:e instanceof Error?e.message:"Unknown error"})}finally{o(!1)}},[]),v=(0,a.useCallback)(async()=>{try{const e=await Le.messagesAPI.getUnreadCount();g(e)}catch(e){console.error("Failed to fetch unread count:",e)}},[]),w=(0,a.useCallback)(async e=>{try{o(!0);const t=await Le.messagesAPI.getWithUser(e);i(t),y({success:!0,message:`Successfully fetched ${t.length} messages`,data:t})}catch(t){y({success:!1,message:"Failed to fetch messages",error:t instanceof Error?t.message:"Unknown error"})}finally{o(!1)}},[]),j=async()=>{if(u.trim()&&r)try{d(!0);const e={recipient:r.user.id,content:u.trim()},t=await Le.messagesAPI.send(e);i(e=>[...e,t]),h(""),await b(),await v(),y({success:!0,message:"Message sent successfully",data:t})}catch(e){y({success:!1,message:"Failed to send message",error:e instanceof Error?e.message:"Unknown error"})}finally{d(!1)}};(0,a.useEffect)(()=>{b(),v()},[b,v]),(0,a.useEffect)(()=>{const e=setInterval(()=>{b(),v()},3e4);return()=>clearInterval(e)},[b,v]);const k=e=>{const t=new Date(e),r=((new Date).getTime()-t.getTime())/36e5;return r<24?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):r<48?"Yesterday":t.toLocaleDateString()};return(0,Oe.jsxs)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:(0,Oe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Messages"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Chat with shop owners and customers"})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[m>0&&(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:[m," unread"]}),(0,Oe.jsx)("button",{onClick:async()=>{try{await Le.messagesAPI.markAllAsRead(),i(e=>e.map(e=>({...e,is_read:!0}))),await v(),y({success:!0,message:"All messages marked as read"})}catch(e){y({success:!1,message:"Failed to mark all messages as read",error:e instanceof Error?e.message:"Unknown error"})}},className:"text-sm text-blue-600 hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300",children:"Mark all read"})]}),(0,Oe.jsxs)("button",{onClick:()=>{b(),v()},disabled:l,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[(0,Oe.jsx)(va,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]})})}),(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,Oe.jsx)("div",{className:"lg:col-span-1",children:(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Conversations (",e.length,")"]}),l?(0,Oe.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):0===e.length?(0,Oe.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No conversations yet."}):(0,Oe.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:e.map(e=>(0,Oe.jsx)("button",{onClick:()=>(e=>{s(e),w(e.user.id)})(e),className:"w-full text-left p-3 rounded-lg border transition-colors "+((null===r||void 0===r?void 0:r.user.id)===e.user.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),children:(0,Oe.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3 flex-1",children:[(0,Oe.jsx)("div",{className:"w-10 h-10 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center flex-shrink-0",children:(0,Oe.jsxs)("span",{className:"text-primary-600 dark:text-primary-400 font-semibold",children:[e.user.first_name.charAt(0),e.user.last_name.charAt(0)]})}),(0,Oe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Oe.jsxs)("h3",{className:"font-medium text-gray-900 dark:text-white text-sm",children:[e.user.first_name," ",e.user.last_name]}),(0,Oe.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:[e.latest_message.is_from_me?"You: ":"",e.latest_message.content]}),(0,Oe.jsx)("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:k(e.latest_message.timestamp)})]})]}),e.unread_count>0&&(0,Oe.jsx)("div",{className:"flex flex-col items-end",children:(0,Oe.jsx)("span",{className:"inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white bg-red-600 rounded-full",children:e.unread_count})})]})},e.user.id))})]})}),(0,Oe.jsx)("div",{className:"lg:col-span-3",children:r?(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 h-96 flex flex-col",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)(rt,{className:"w-8 h-8 text-gray-400"}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsxs)("h3",{className:"font-medium text-gray-900 dark:text-white",children:[r.user.first_name," ",r.user.last_name]}),(0,Oe.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["@",r.user.username]})]})]}),(0,Oe.jsx)("button",{onClick:()=>s(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,Oe.jsx)(qe,{className:"w-5 h-5"})})]}),(0,Oe.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[l?(0,Oe.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):0===n.length?(0,Oe.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No messages yet. Start the conversation!"}):n.map(e=>(0,Oe.jsx)("div",{className:"flex group "+(e.sender.id===r.user.id?"justify-start":"justify-end"),children:(0,Oe.jsxs)("div",{className:"max-w-xs lg:max-w-md px-4 py-2 rounded-lg relative "+(e.sender.id===r.user.id?"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white":"bg-primary-600 text-white"),children:[(0,Oe.jsx)("p",{className:"text-sm",children:e.content}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,Oe.jsx)("p",{className:"text-xs opacity-75",children:k(e.timestamp)}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[e.sender.id!==r.user.id&&(0,Oe.jsx)("p",{className:"text-xs opacity-75",children:e.is_read?"Read":"Sent"}),(0,Oe.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this message?"))try{await Le.messagesAPI.delete(e),i(t=>t.filter(t=>t.id!==e)),await b(),await v(),y({success:!0,message:"Message deleted successfully"})}catch(t){y({success:!1,message:"Failed to delete message",error:t instanceof Error?t.message:"Unknown error"})}})(e.id),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-red-500 hover:bg-opacity-20 rounded",title:"Delete message",children:(0,Oe.jsx)(ha,{className:"w-3 h-3"})})]})]}),(e.shop||e.product)&&(0,Oe.jsx)("div",{className:"mt-2 pt-2 border-t border-gray-200 dark:border-gray-600 border-opacity-50",children:(0,Oe.jsxs)("p",{className:"text-xs opacity-75",children:[e.product&&`\ud83d\udce6 About: ${e.product.name}`,e.shop&&!e.product&&`\ud83c\udfea Shop: ${e.shop.name}`]})})]})},e.id)),(0,Oe.jsx)("div",{ref:f})]}),(0,Oe.jsx)("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:(0,Oe.jsxs)("div",{className:"flex space-x-2",children:[(0,Oe.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value),onKeyPress:e=>"Enter"===e.key&&j(),placeholder:"Type your message...",className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,Oe.jsx)("button",{onClick:j,disabled:c||!u.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Oe.jsx)(ct,{className:"w-4 h-4"})})]})})]}):(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,Oe.jsxs)("div",{className:"text-center py-12",children:[(0,Oe.jsx)(Pt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),(0,Oe.jsx)("h3",{className:"text-xl font-medium text-gray-900 dark:text-white mb-2",children:"Welcome to Messages"}),(0,Oe.jsx)("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"Select a conversation from the sidebar to start chatting."}),(0,Oe.jsxs)("div",{className:"flex items-center justify-center space-x-4 text-sm text-gray-500 dark:text-gray-400",children:[(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(rt,{className:"w-4 h-4 mr-1"}),"Chat with Users"]}),(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(js,{className:"w-4 h-4 mr-1"}),"Read Messages"]})]})]})})})]}),(0,Oe.jsxs)("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"API Test Results"}),(0,Oe.jsx)("button",{onClick:()=>{p([])},className:"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"Clear"})]}),(0,Oe.jsx)("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:0===x.length?(0,Oe.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No test results yet. Use the messaging features to see results here."}):x.map((e,t)=>(0,Oe.jsx)("div",{className:"p-3 rounded-lg border "+(e.success?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"),children:(0,Oe.jsxs)("div",{className:"flex items-start",children:[e.success?(0,Oe.jsx)(bt,{className:"w-5 h-5 text-green-500 mt-0.5 mr-2"}):(0,Oe.jsx)(qe,{className:"w-5 h-5 text-red-500 mt-0.5 mr-2"}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium "+(e.success?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"),children:e.message}),e.error&&(0,Oe.jsxs)("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:["Error: ",e.error]})]})]})},t))})]})]})]})},Zu=()=>(0,Oe.jsx)(Qu,{}),Ju=()=>{const[e,t]=(0,a.useState)(null),[r,s]=(0,a.useState)(!0),[n,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(!1),[m,g]=(0,a.useState)({bio:"",address:""}),[x,p]=(0,a.useState)(null),[f,y]=(0,a.useState)(null),[b,v]=(0,a.useState)(null),[w,j]=(0,a.useState)(!1),k=(0,a.useCallback)(async()=>{try{s(!0),o(null);const e=await Le.userProfileAPI.getMyProfile();t(e),g({bio:e.bio||"",address:e.address||""})}catch(e){o(e instanceof Error?e.message:"Failed to fetch profile")}finally{s(!1)}},[]),N=(0,a.useCallback)(async()=>{try{const e=await fetch("/api/userprofiles/completion_status/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});if(e.ok){const t=await e.json();p(t)}}catch(e){console.error("Failed to fetch completion status:",e)}},[]),S=(0,a.useCallback)(async()=>{try{const e=await fetch("/api/userprofiles/stats/",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});if(e.ok){const t=await e.json();y(t)}}catch(e){console.error("Failed to fetch user stats:",e)}},[]);(0,a.useEffect)(()=>{k(),N(),S()},[k,N,S]);const _=e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];r&&v(r)};return r?(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):l&&!e?(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)(Ms,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),(0,Oe.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Error Loading Profile"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:l}),(0,Oe.jsxs)("button",{onClick:k,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[(0,Oe.jsx)(va,{className:"w-4 h-4 inline mr-2"}),"Retry"]})]})}):(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:(0,Oe.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Oe.jsxs)("div",{className:"mb-8",children:[(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"User Profile"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage your profile information and preferences"})]}),c&&(0,Oe.jsx)("div",{className:"mb-6 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(bt,{className:"w-5 h-5 text-green-500 mr-3"}),(0,Oe.jsx)("p",{className:"text-green-800 dark:text-green-200",children:c})]})}),l&&(0,Oe.jsx)("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(qe,{className:"w-5 h-5 text-red-500 mr-3"}),(0,Oe.jsx)("p",{className:"text-red-800 dark:text-red-200",children:l})]})}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Oe.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Oe.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Profile Information"}),!u&&(0,Oe.jsxs)("button",{onClick:()=>h(!0),className:"flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[(0,Oe.jsx)(da,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})]}),e&&(0,Oe.jsxs)("div",{className:"space-y-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,Oe.jsxs)("div",{className:"relative",children:[e.avatar?(0,Oe.jsx)("img",{src:e.avatar,alt:"Profile Avatar",className:"w-24 h-24 rounded-full object-cover border-4 border-gray-200 dark:border-gray-700"}):(0,Oe.jsx)("div",{className:"w-24 h-24 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:(0,Oe.jsx)(rt,{className:"w-12 h-12 text-gray-400"})}),(0,Oe.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,Oe.jsx)("input",{type:"file",accept:"image/*",onChange:_,className:"hidden",id:"avatar-upload"}),(0,Oe.jsxs)("label",{htmlFor:"avatar-upload",className:"flex items-center justify-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 cursor-pointer text-sm",children:[(0,Oe.jsx)(Ds,{className:"w-4 h-4 mr-2"}),"Upload"]}),b&&(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsxs)("button",{onClick:async()=>{if(b)try{j(!0),o(null);const e=await Le.userProfileAPI.uploadAvatar(b);t(e),v(null),d("Avatar uploaded successfully!"),setTimeout(()=>d(null),3e3)}catch(e){o(e instanceof Error?e.message:"Failed to upload avatar")}finally{j(!1)}},disabled:w,className:"flex items-center px-2 py-1 bg-green-600 text-white rounded text-xs hover:bg-green-700 disabled:opacity-50",children:[(0,Oe.jsx)(bt,{className:"w-3 h-3 mr-1"}),"Save"]}),(0,Oe.jsxs)("button",{onClick:()=>v(null),className:"flex items-center px-2 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700",children:[(0,Oe.jsx)(qe,{className:"w-3 h-3 mr-1"}),"Cancel"]})]}),e.avatar&&(0,Oe.jsxs)("button",{onClick:async()=>{try{o(null);const e=await fetch("/api/userprofiles/remove_avatar/",{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});if(!e.ok)throw new Error("Failed to remove avatar");{const r=await e.json();t(r),d("Avatar removed successfully!"),setTimeout(()=>d(null),3e3)}}catch(e){o(e instanceof Error?e.message:"Failed to remove avatar")}},className:"flex items-center px-2 py-1 bg-red-600 text-white rounded text-xs hover:bg-red-700",children:[(0,Oe.jsx)(ha,{className:"w-3 h-3 mr-1"}),"Remove"]})]})]}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsxs)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:[e.first_name||"User"," ",e.last_name||""]}),(0,Oe.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["@",e.username||"username"]}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:e.email||"email@example.com"}),e.is_shopowner&&(0,Oe.jsxs)("span",{className:"inline-flex items-center px-2 py-1 mt-2 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:[(0,Oe.jsx)(ut,{className:"w-3 h-3 mr-1"}),"Shop Owner"]})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Bio"}),u?(0,Oe.jsx)("textarea",{value:m.bio,onChange:e=>g(t=>({...t,bio:e.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"Tell us about yourself..."}):(0,Oe.jsx)("p",{className:"text-gray-900 dark:text-white",children:e.bio||"No bio added yet."})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address"}),u?(0,Oe.jsx)("input",{type:"text",value:m.address,onChange:e=>g(t=>({...t,address:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",placeholder:"Enter your address..."}):(0,Oe.jsx)("p",{className:"text-gray-900 dark:text-white",children:e.address||"No address added yet."})]}),u&&(0,Oe.jsxs)("div",{className:"flex items-center space-x-3 pt-4",children:[(0,Oe.jsxs)("button",{onClick:async()=>{try{i(!0),o(null);const e=await Le.userProfileAPI.updateProfile(m);t(e),h(!1),d("Profile updated successfully!"),setTimeout(()=>d(null),3e3)}catch(e){o(e instanceof Error?e.message:"Failed to update profile")}finally{i(!1)}},disabled:n,className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[(0,Oe.jsx)(bt,{className:"w-4 h-4 mr-2"}),n?"Saving...":"Save Changes"]}),(0,Oe.jsxs)("button",{onClick:()=>{h(!1),g({bio:e.bio||"",address:e.address||""})},className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:[(0,Oe.jsx)(qe,{className:"w-4 h-4 mr-2"}),"Cancel"]})]})]})]}),f&&(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-6",children:[(0,Oe.jsx)(Ot,{className:"w-5 h-5 inline mr-2"}),"Activity Statistics"]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,Oe.jsxs)("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,Oe.jsx)(mt,{className:"w-8 h-8 text-blue-500 mx-auto mb-2"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:f.order_count}),(0,Oe.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Orders"})]}),(0,Oe.jsxs)("div",{className:"text-center p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[(0,Oe.jsx)(Ut,{className:"w-8 h-8 text-green-500 mx-auto mb-2"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:f.review_count}),(0,Oe.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Reviews"})]}),(0,Oe.jsxs)("div",{className:"text-center p-4 bg-red-50 dark:bg-red-900/20 rounded-lg",children:[(0,Oe.jsx)(Rt,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-red-600 dark:text-red-400",children:f.wishlist_count}),(0,Oe.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Wishlist"})]}),(0,Oe.jsxs)("div",{className:"text-center p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[(0,Oe.jsx)(ut,{className:"w-8 h-8 text-purple-500 mx-auto mb-2"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:f.shop_count}),(0,Oe.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Shops"})]})]}),(0,Oe.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Profile Created"}),(0,Oe.jsx)("p",{className:"text-gray-900 dark:text-white font-medium",children:new Date(f.profile_created).toLocaleDateString()})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Last Login"}),(0,Oe.jsx)("p",{className:"text-gray-900 dark:text-white font-medium",children:new Date(f.last_login).toLocaleDateString()})]})]})]})]}),(0,Oe.jsxs)("div",{className:"space-y-6",children:[x&&(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:[(0,Oe.jsx)(Ea,{className:"w-5 h-5 inline mr-2"}),"Profile Completion"]}),(0,Oe.jsxs)("div",{className:"mb-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Oe.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[x.completion_percentage,"% Complete"]}),(0,Oe.jsxs)("span",{className:"text-sm text-gray-500",children:[x.completed_fields,"/",x.total_fields]})]}),(0,Oe.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,Oe.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${x.completion_percentage}%`}})})]}),x.missing_fields.length>0&&(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Missing Fields:"}),(0,Oe.jsx)("ul",{className:"space-y-1",children:x.missing_fields.map(e=>(0,Oe.jsxs)("li",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[(0,Oe.jsx)(qe,{className:"w-3 h-3 text-red-500 mr-2"}),e.charAt(0).toUpperCase()+e.slice(1)]},e))})]})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Quick Actions"}),(0,Oe.jsxs)("div",{className:"space-y-3",children:[(0,Oe.jsxs)("button",{onClick:()=>h(!0),className:"w-full flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[(0,Oe.jsx)(da,{className:"w-4 h-4 mr-2"}),"Edit Profile"]}),(0,Oe.jsxs)("label",{htmlFor:"avatar-upload-sidebar",className:"w-full flex items-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 cursor-pointer",children:[(0,Oe.jsx)(Ds,{className:"w-4 h-4 mr-2"}),"Upload Avatar"]}),(0,Oe.jsx)("input",{type:"file",accept:"image/*",onChange:_,className:"hidden",id:"avatar-upload-sidebar"}),(0,Oe.jsxs)("button",{onClick:k,className:"w-full flex items-center px-3 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[(0,Oe.jsx)(va,{className:"w-4 h-4 mr-2"}),"Refresh Profile"]})]})]})]})]})]})})},Xu=[{id:"update-price",label:"Update Price",icon:ya,color:"green",requiresInput:!0,inputType:"number"},{id:"update-category",label:"Change Category",icon:Qe,color:"blue",requiresInput:!0,inputType:"select",options:[{value:"electronics",label:"Electronics"},{value:"clothing",label:"Clothing"},{value:"books",label:"Books"},{value:"home",label:"Home & Garden"}]},{id:"publish",label:"Publish",icon:js,color:"green"},{id:"unpublish",label:"Unpublish",icon:vs,color:"yellow"},{id:"edit",label:"Bulk Edit",icon:$a,color:"blue"},{id:"export",label:"Export",icon:Ga,color:"purple"},{id:"delete",label:"Delete",icon:ha,color:"red"}],eh=e=>{var t;let{selectedItems:r,onBulkAction:s,onClearSelection:n,availableActions:i,loading:l=!1}=e;const[o,c]=(0,a.useState)(null),[d,u]=(0,a.useState)(""),[h,m]=(0,a.useState)(!1),g=(0,a.useCallback)(e=>{e.requiresInput?(c(e.id),u("")):x(e.id)},[]),x=(0,a.useCallback)(async(e,t)=>{m(!0);try{await s(e,r,t),c(null),u("")}catch(a){console.error("Bulk action failed:",a)}finally{m(!1)}},[r,s]),p=(0,a.useCallback)(()=>{o&&""!==d&&x(o,d)},[o,d,x]),f=e=>{const t={blue:"bg-blue-600 hover:bg-blue-700 text-white",green:"bg-green-600 hover:bg-green-700 text-white",red:"bg-red-600 hover:bg-red-700 text-white",yellow:"bg-yellow-600 hover:bg-yellow-700 text-white",purple:"bg-purple-600 hover:bg-purple-700 text-white",gray:"bg-gray-600 hover:bg-gray-700 text-white"};return t[e]||t.blue};return 0===r.length?null:(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-4 shadow-sm",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-100 dark:bg-blue-900/20 rounded-full mr-3",children:(0,Oe.jsx)(bt,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Bulk Operations"}),(0,Oe.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[r.length," item",1!==r.length?"s":""," selected"]})]})]}),(0,Oe.jsxs)("button",{onClick:n,className:"flex items-center px-3 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors",children:[(0,Oe.jsx)(qe,{className:"w-4 h-4 mr-1"}),"Clear"]})]}),o&&(0,Oe.jsx)("div",{className:"mb-4 p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:(0,Oe.jsxs)("div",{className:"flex items-end gap-3",children:[(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:null===(t=i.find(e=>e.id===o))||void 0===t?void 0:t.label}),(()=>{var e;const t=i.find(e=>e.id===o);if(!t)return null;switch(t.inputType){case"select":return(0,Oe.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,Oe.jsx)("option",{value:"",children:"Select an option"}),null===(e=t.options)||void 0===e?void 0:e.map(e=>(0,Oe.jsx)("option",{value:e.value,children:e.label},e.value))]});case"number":return(0,Oe.jsx)("input",{type:"number",value:d,onChange:e=>u(parseFloat(e.target.value)),placeholder:"Enter value",className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"});default:return(0,Oe.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),placeholder:"Enter value",className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})}})(i.find(e=>e.id===o))]}),(0,Oe.jsxs)("div",{className:"flex gap-2",children:[(0,Oe.jsx)("button",{onClick:p,disabled:""===d||h,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:h?(0,Oe.jsx)(va,{className:"w-4 h-4 animate-spin"}):"Apply"}),(0,Oe.jsx)("button",{onClick:()=>{c(null),u("")},className:"px-4 py-2 text-gray-600 dark:text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"})]})]})}),(0,Oe.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6 gap-3",children:i.map(e=>{const t=e.icon;return(0,Oe.jsxs)("button",{onClick:()=>g(e),disabled:l||h,className:`\n                flex items-center justify-center px-4 py-3 rounded-lg transition-all duration-200\n                disabled:opacity-50 disabled:cursor-not-allowed\n                ${f(e.color)}\n                hover:scale-105 active:scale-95\n              `,children:[(0,Oe.jsx)(t,{className:"w-4 h-4 mr-2"}),(0,Oe.jsx)("span",{className:"text-sm font-medium",children:e.label})]},e.id)})}),(l||h)&&(0,Oe.jsxs)("div",{className:"mt-4 flex items-center justify-center",children:[(0,Oe.jsx)(va,{className:"w-5 h-5 animate-spin text-blue-600 mr-2"}),(0,Oe.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Processing bulk operation..."})]})]})},th=()=>{const[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)([]),[n,i]=(0,a.useState)(null),[l,o]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)(!1),[m,g]=(0,a.useState)(""),[x,p]=(0,a.useState)([]),[f,y]=(0,a.useState)([]),[b,v]=(0,a.useState)("browse"),[w,j]=(0,a.useState)([]),[k,N]=(0,a.useState)([]),[S,_]=(0,a.useState)(!1),[C,E]=(0,a.useState)(!1),[P,A]=(0,a.useState)(""),R=e=>{y(t=>[e,...t.slice(0,9)])},I=(0,a.useCallback)(async()=>{try{h(!0);const e=await Le.categoriesAPI.getAll();t(e),R({success:!0,message:`Successfully fetched ${e.length} categories`,data:e})}catch(e){R({success:!1,message:"Failed to fetch categories",error:e instanceof Error?e.message:"Unknown error"})}finally{h(!1)}},[]),O=(0,a.useCallback)(async()=>{try{h(!0);const e=await Le.categoriesAPI.getStats();s(e.categories),R({success:!0,message:`Successfully fetched stats for ${e.total_categories} categories`,data:e})}catch(e){R({success:!1,message:"Failed to fetch category statistics",error:e instanceof Error?e.message:"Unknown error"})}finally{h(!1)}},[]),T=(0,a.useCallback)(async()=>{if(P.trim())try{h(!0);const e=await Le.categoriesAPI.create({name:P});t(t=>[...t,e]),A(""),E(!1),R({success:!0,message:`Successfully created category "${e.name}"`,data:e})}catch(e){R({success:!1,message:"Failed to create category",error:e instanceof Error?e.message:"Unknown error"})}finally{h(!1)}},[P]),M=(0,a.useCallback)(async e=>{if(e.trim())try{h(!0);const t=await Le.categoriesAPI.search(e);p(t),R({success:!0,message:`Found ${t.length} categories matching "${e}"`,data:t})}catch(t){R({success:!1,message:"Failed to search categories",error:t instanceof Error?t.message:"Unknown error"})}finally{h(!1)}else p([])},[]),L=(0,a.useCallback)(async e=>{try{h(!0);const t=await Le.categoriesAPI.getProducts(e);o(t.products),i(t.category),R({success:!0,message:`Found ${t.count} products in category "${t.category.name}"`,data:t})}catch(t){R({success:!1,message:"Failed to fetch category products",error:t instanceof Error?t.message:"Unknown error"})}finally{h(!1)}},[]),D=async(e,t,r)=>{_(!0);try{switch(e){case"delete":console.log("Bulk delete:",t),R({success:!0,message:`Successfully deleted ${t.length} items`});break;case"update-category":console.log("Bulk category update:",t,r),R({success:!0,message:`Successfully updated category for ${t.length} items`});break;case"publish":console.log("Bulk publish:",t),R({success:!0,message:`Successfully published ${t.length} items`});break;default:console.log("Bulk action:",e,t,r)}}catch(s){R({success:!1,message:`Bulk ${e} failed`,error:s instanceof Error?s.message:"Unknown error"})}finally{_(!1)}};(0,a.useEffect)(()=>{I(),O()},[I,O]),(0,a.useEffect)(()=>{if(m){const e=setTimeout(()=>{M(m)},300);return()=>clearTimeout(e)}},[m,M]);const F=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6 shadow-sm hover:shadow-md transition-shadow",children:[(0,Oe.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)("input",{type:"checkbox",checked:t,onChange:()=>{return t=e.id,void j(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(Qe,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.name})]})]})}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["ID: ",e.id," \u2022 Slug: ",e.slug]}),(0,Oe.jsxs)("button",{onClick:()=>L(e.id),className:"flex items-center px-3 py-1 bg-blue-100 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 rounded-full text-sm hover:bg-blue-200 dark:hover:bg-blue-900/40 transition-colors",children:[(0,Oe.jsx)(js,{className:"w-4 h-4 mr-1"}),"View Products"]})]})]},e.id)},U=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6 shadow-sm",children:[(0,Oe.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)("input",{type:"checkbox",checked:t,onChange:()=>{return t=e.productId,void N(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:e.name}),(0,Oe.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["$",e.price]})]})]}),e.quantity<=10&&(0,Oe.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-600 text-xs rounded-full",children:"Low Stock"})]}),e.description&&(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4 line-clamp-2",children:e.description}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[(0,Oe.jsxs)("span",{children:["Stock: ",e.quantity]}),(0,Oe.jsxs)("span",{children:["ID: ",e.productId]})]})]},e.productId)};return(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,Oe.jsxs)("div",{className:"mb-8",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Enhanced Categories Management"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage categories with bulk operations and advanced features"})]}),(0,Oe.jsxs)("button",{onClick:()=>E(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,Oe.jsx)(wt,{className:"w-4 h-4 mr-2"}),"Add Category"]})]}),(0,Oe.jsx)("div",{className:"flex space-x-1 bg-gray-100 dark:bg-gray-800 p-1 rounded-lg mb-6",children:[{id:"browse",label:"Browse Categories",icon:Qe},{id:"search",label:"Search",icon:Ct},{id:"stats",label:"Statistics",icon:Ot},{id:"products",label:"Category Products",icon:mt}].map(e=>{const t=e.icon;return(0,Oe.jsxs)("button",{onClick:()=>v(e.id),className:"flex items-center px-4 py-2 rounded-md text-sm font-medium transition-colors "+(b===e.id?"bg-white dark:bg-gray-700 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200"),children:[(0,Oe.jsx)(t,{className:"w-4 h-4 mr-2"}),e.label]},e.id)})}),"browse"===b&&w.length>0&&(0,Oe.jsx)(eh,{selectedItems:w,onBulkAction:D,onClearSelection:()=>{j([])},availableActions:[{id:"delete",label:"Delete",icon:qe,color:"red"},{id:"export",label:"Export",icon:va,color:"blue"}],loading:S}),"products"===b&&k.length>0&&(0,Oe.jsx)(eh,{selectedItems:k,onBulkAction:D,onClearSelection:()=>{N([])},availableActions:Xu,loading:S})]}),"browse"===b&&(0,Oe.jsx)("div",{className:"space-y-6",children:(0,Oe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:e.map(e=>F(e,w.includes(e.id)))})}),"search"===b&&(0,Oe.jsxs)("div",{className:"space-y-6",children:[(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsx)(Ct,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,Oe.jsx)("input",{type:"text",placeholder:"Search categories...",value:m,onChange:e=>g(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white"})]}),(0,Oe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:x.map(e=>F(e))})]}),"products"===b&&n&&(0,Oe.jsxs)("div",{className:"space-y-6",children:[(0,Oe.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[(0,Oe.jsxs)("h2",{className:"text-xl font-semibold text-blue-900 dark:text-blue-100 mb-2",children:['Products in "',n.name,'"']}),(0,Oe.jsxs)("p",{className:"text-blue-700 dark:text-blue-300",children:[l.length," products found"]})]}),(0,Oe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:l.map(e=>U(e,k.includes(e.productId)))})]}),C&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-md",children:[(0,Oe.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Add New Category"}),(0,Oe.jsx)("div",{className:"space-y-4",children:(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category Name"}),(0,Oe.jsx)("input",{type:"text",value:P,onChange:e=>A(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter category name"})]})}),(0,Oe.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Oe.jsx)("button",{onClick:()=>E(!1),className:"px-4 py-2 text-gray-600 dark:text-gray-400 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),(0,Oe.jsx)("button",{onClick:T,disabled:!P.trim()||u,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:u?(0,Oe.jsx)(va,{className:"w-4 h-4 animate-spin"}):"Add Category"})]})]})}),f.length>0&&(0,Oe.jsxs)("div",{className:"mt-8",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Test Results"}),(0,Oe.jsx)("button",{onClick:()=>{y([])},className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Clear All"})]}),(0,Oe.jsx)("div",{className:"space-y-3",children:f.map((e,t)=>(0,Oe.jsx)("div",{className:"p-4 rounded-lg border "+(e.success?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"),children:(0,Oe.jsxs)("div",{className:"flex items-start",children:[e.success?(0,Oe.jsx)(bt,{className:"w-5 h-5 text-green-600 dark:text-green-400 mr-3 mt-0.5"}):(0,Oe.jsx)(Ms,{className:"w-5 h-5 text-red-600 dark:text-red-400 mr-3 mt-0.5"}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("p",{className:"font-medium "+(e.success?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"),children:e.message}),e.error&&(0,Oe.jsxs)("p",{className:"text-red-600 dark:text-red-400 text-sm mt-1",children:["Error: ",e.error]})]})]})},t))})]}),u&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-25 flex items-center justify-center z-50",children:(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 flex items-center",children:[(0,Oe.jsx)(va,{className:"w-6 h-6 animate-spin text-blue-600 mr-3"}),(0,Oe.jsx)("span",{className:"text-gray-900 dark:text-white",children:"Loading..."})]})})]})},rh=e=>{let{onSearchResults:t,initialFilters:r={}}=e;const[s,n]=(0,a.useState)({query:"",category:"",minPrice:0,maxPrice:1e4,rating:0,location:"",sortBy:"relevance",inStock:!1,shopType:"all",dateRange:"all",...r}),[i,l]=(0,a.useState)(null),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)("grid"),[g,x]=(0,a.useState)([]),[p,f]=(0,a.useState)(!1),y=(0,a.useCallback)(async e=>{c(!0);try{await new Promise(e=>setTimeout(e,800));const r={products:[{productId:"1",name:`Search Result for "${e.query}"`,description:"Premium quality product with advanced features",price:299.99,quantity:25,stock:25,image:null,category:null,tags:[],discount:0,promotional_price:null,is_active:!0,shops:[],rating:4.5},{productId:"2",name:`Related Product to "${e.query}"`,description:"High-performance solution for your needs",price:199.99,quantity:15,stock:15,image:null,category:null,tags:[],discount:0,promotional_price:null,is_active:!0,shops:[],rating:4.2}],shops:[],categories:[],totalProducts:156,totalShops:23,facets:{categories:[{name:"Electronics",count:45},{name:"Clothing",count:32},{name:"Books",count:28}],priceRanges:[{min:0,max:50,count:12},{min:50,max:100,count:34},{min:100,max:500,count:78}],locations:[{name:"Nairobi",count:89},{name:"Mombasa",count:34}],ratings:[{rating:5,count:45},{rating:4,count:67},{rating:3,count:32}]}};l(r),null===t||void 0===t||t(r)}catch(r){console.error("Search failed:",r)}finally{c(!1)}},[t]),b=(0,a.useCallback)(async e=>{if(e.length<2)return void x([]);x([`${e} laptop`,`${e} phone`,`${e} accessories`,`${e} case`,`${e} wireless`])},[]),v=(0,a.useCallback)((e,t)=>{n(r=>({...r,[e]:t}))},[]),w=(0,a.useCallback)(()=>{n({query:s.query,category:"",minPrice:0,maxPrice:1e4,rating:0,location:"",sortBy:"relevance",inStock:!1,shopType:"all",dateRange:"all"})},[s.query]);(0,a.useEffect)(()=>{if(s.query.trim()){const e=setTimeout(()=>{y(s)},500);return()=>clearTimeout(e)}},[s,y]),(0,a.useEffect)(()=>{s.query?(b(s.query),f(!0)):f(!1)},[s.query,b]);const j=(0,a.useMemo)(()=>{let e=0;return s.category&&e++,(s.minPrice>0||s.maxPrice<1e4)&&e++,s.rating>0&&e++,s.location&&e++,s.inStock&&e++,"all"!==s.shopType&&e++,"all"!==s.dateRange&&e++,e},[s]);return(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto p-6",children:[(0,Oe.jsxs)("div",{className:"mb-8",children:[(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Advanced Search"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Find exactly what you're looking for with powerful search and filtering"})]}),(0,Oe.jsx)("div",{className:"mb-6",children:(0,Oe.jsx)("div",{className:"relative",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsxs)("div",{className:"relative flex-1",children:[(0,Oe.jsx)(Ct,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,Oe.jsx)("input",{type:"text",placeholder:"Search products, shops, categories...",value:s.query,onChange:e=>v("query",e.target.value),onFocus:()=>f(!0),onBlur:()=>setTimeout(()=>f(!1),200),className:"w-full pl-12 pr-4 py-4 border border-gray-300 dark:border-gray-600 rounded-l-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white text-lg"}),p&&g.length>0&&(0,Oe.jsx)("div",{className:"absolute top-full left-0 right-0 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg z-50 mt-1",children:g.map((e,t)=>(0,Oe.jsx)("button",{onClick:()=>{v("query",e),f(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-50 dark:hover:bg-gray-700 first:rounded-t-lg last:rounded-b-lg",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(Ct,{className:"w-4 h-4 text-gray-400 mr-3"}),(0,Oe.jsx)("span",{className:"text-gray-900 dark:text-white",children:e})]})},t))})]}),(0,Oe.jsxs)("button",{onClick:()=>u(!d),className:"flex items-center px-6 py-4 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-l-0 border-gray-300 dark:border-gray-600 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:[(0,Oe.jsx)(zs,{className:"w-5 h-5 mr-2"}),"Filters",j>0&&(0,Oe.jsx)("span",{className:"ml-2 px-2 py-1 bg-blue-600 text-white text-xs rounded-full",children:j})]}),(0,Oe.jsx)("button",{onClick:()=>y(s),disabled:o,className:"px-8 py-4 bg-blue-600 text-white rounded-r-xl hover:bg-blue-700 disabled:opacity-50 transition-colors",children:o?(0,Oe.jsx)("div",{className:"animate-spin w-5 h-5 border-2 border-white border-t-transparent rounded-full"}):"Search"})]})})}),d&&(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6 mb-6 shadow-sm",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Advanced Filters"}),(0,Oe.jsx)("button",{onClick:w,className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",children:"Clear All"})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),(0,Oe.jsxs)("select",{value:s.category,onChange:e=>v("category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,Oe.jsx)("option",{value:"",children:"All Categories"}),[{id:1,name:"Electronics",slug:"electronics"},{id:2,name:"Clothing",slug:"clothing"},{id:3,name:"Books",slug:"books"},{id:4,name:"Home & Garden",slug:"home-garden"},{id:5,name:"Sports",slug:"sports"}].map(e=>(0,Oe.jsx)("option",{value:e.slug,children:e.name},e.id))]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Price Range"}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("input",{type:"number",placeholder:"Min",value:s.minPrice,onChange:e=>v("minPrice",parseInt(e.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"}),(0,Oe.jsx)("span",{className:"text-gray-500",children:"-"}),(0,Oe.jsx)("input",{type:"number",placeholder:"Max",value:s.maxPrice,onChange:e=>v("maxPrice",parseInt(e.target.value)||1e4),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white"})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Minimum Rating"}),(0,Oe.jsxs)("select",{value:s.rating,onChange:e=>v("rating",parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,Oe.jsx)("option",{value:0,children:"Any Rating"}),(0,Oe.jsx)("option",{value:4,children:"4+ Stars"}),(0,Oe.jsx)("option",{value:3,children:"3+ Stars"}),(0,Oe.jsx)("option",{value:2,children:"2+ Stars"}),(0,Oe.jsx)("option",{value:1,children:"1+ Stars"})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Location"}),(0,Oe.jsxs)("select",{value:s.location,onChange:e=>v("location",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,Oe.jsx)("option",{value:"",children:"All Locations"}),["Nairobi","Mombasa","Kisumu","Nakuru","Eldoret"].map(e=>(0,Oe.jsx)("option",{value:e,children:e},e))]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sort By"}),(0,Oe.jsxs)("select",{value:s.sortBy,onChange:e=>v("sortBy",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,Oe.jsx)("option",{value:"relevance",children:"Relevance"}),(0,Oe.jsx)("option",{value:"price_low",children:"Price: Low to High"}),(0,Oe.jsx)("option",{value:"price_high",children:"Price: High to Low"}),(0,Oe.jsx)("option",{value:"rating",children:"Highest Rated"}),(0,Oe.jsx)("option",{value:"newest",children:"Newest First"}),(0,Oe.jsx)("option",{value:"popularity",children:"Most Popular"})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Shop Type"}),(0,Oe.jsxs)("select",{value:s.shopType,onChange:e=>v("shopType",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,Oe.jsx)("option",{value:"all",children:"All Shops"}),(0,Oe.jsx)("option",{value:"verified",children:"Verified Only"}),(0,Oe.jsx)("option",{value:"featured",children:"Featured Shops"})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Date Added"}),(0,Oe.jsxs)("select",{value:s.dateRange,onChange:e=>v("dateRange",e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",children:[(0,Oe.jsx)("option",{value:"all",children:"Any Time"}),(0,Oe.jsx)("option",{value:"today",children:"Today"}),(0,Oe.jsx)("option",{value:"week",children:"This Week"}),(0,Oe.jsx)("option",{value:"month",children:"This Month"}),(0,Oe.jsx)("option",{value:"year",children:"This Year"})]})]}),(0,Oe.jsx)("div",{className:"flex items-center",children:(0,Oe.jsxs)("label",{className:"flex items-center",children:[(0,Oe.jsx)("input",{type:"checkbox",checked:s.inStock,onChange:e=>v("inStock",e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Oe.jsx)("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"In Stock Only"})]})})]})]}),i&&(0,Oe.jsxs)("div",{children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Search Results"}),(0,Oe.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:[i.totalProducts," products found"]})]}),(0,Oe.jsx)("div",{className:"flex items-center space-x-3",children:(0,Oe.jsxs)("div",{className:"flex items-center bg-gray-100 dark:bg-gray-700 rounded-lg p-1",children:[(0,Oe.jsx)("button",{onClick:()=>m("grid"),className:"p-2 rounded-md "+("grid"===h?"bg-white dark:bg-gray-600 shadow-sm":"hover:bg-gray-200 dark:hover:bg-gray-600"),children:(0,Oe.jsx)(La,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),(0,Oe.jsx)("button",{onClick:()=>m("list"),className:"p-2 rounded-md "+("list"===h?"bg-white dark:bg-gray-600 shadow-sm":"hover:bg-gray-200 dark:hover:bg-gray-600"),children:(0,Oe.jsx)(Xa,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]})})]}),(0,Oe.jsx)("div",{className:"grid gap-6 "+("grid"===h?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3":"grid-cols-1"),children:i.products.map(e=>(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl p-6 shadow-sm hover:shadow-md transition-all",children:[(0,Oe.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:e.name}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 line-clamp-2",children:e.description})]}),(0,Oe.jsxs)("div",{className:"flex items-center text-yellow-500",children:[(0,Oe.jsx)(Ut,{className:"w-4 h-4 fill-current"}),(0,Oe.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400 ml-1",children:e.rating})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsxs)("span",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:["$",e.price]}),(0,Oe.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400 ml-2",children:["Stock: ",e.stock||e.quantity]})]}),(0,Oe.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"View Details"})]})]},e.productId))}),(0,Oe.jsx)("div",{className:"mt-8 flex justify-center",children:(0,Oe.jsxs)("div",{className:"flex space-x-2",children:[(0,Oe.jsx)("button",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:"Previous"}),(0,Oe.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg",children:"1"}),(0,Oe.jsx)("button",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:"2"}),(0,Oe.jsx)("button",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:"3"}),(0,Oe.jsx)("button",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700",children:"Next"})]})})]}),o&&(0,Oe.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,Oe.jsx)("div",{className:"animate-spin w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full"}),(0,Oe.jsx)("span",{className:"ml-3 text-gray-600 dark:text-gray-400",children:"Searching..."})]})]})},sh=()=>{var e;const[t,r]=(0,a.useState)([]),[s,n]=(0,a.useState)([]),[i,l]=(0,a.useState)(!0),[o,c]=(0,a.useState)(!1),[d,u]=(0,a.useState)(null),[h,m]=(0,a.useState)(null),[g,x]=(0,a.useState)(!1),[p,f]=(0,a.useState)(!1),[y,b]=(0,a.useState)(!1),[v,w]=(0,a.useState)(null),[j,k]=(0,a.useState)({product:"",name:"",value:"",price_adjustment:0,quantity:0}),[N,S]=(0,a.useState)({product:"",variants:[{name:"",value:"",price_adjustment:0,quantity:0}]}),[_,C]=(0,a.useState)(""),[E,P]=(0,a.useState)(""),[A,R]=(0,a.useState)("all"),[I,O]=(0,a.useState)(null),[T,M]=(0,a.useState)([]),[L,D]=(0,a.useState)([]),F=(0,a.useCallback)(async()=>{try{l(!0),u(null);const e=await Le.productVariantsAPI.getMyProductVariants();r(e)}catch(e){u(e instanceof Error?e.message:"Failed to fetch variants")}finally{l(!1)}},[]),U=(0,a.useCallback)(async()=>{try{const e=await Le.productsAPI.getMyProducts();n(e)}catch(e){console.error("Failed to fetch products:",e)}},[]),B=(0,a.useCallback)(async()=>{try{const e=await Le.productVariantsAPI.getStats();O(e)}catch(e){console.error("Failed to fetch stats:",e)}},[]),V=(0,a.useCallback)(async()=>{try{const e=await Le.productVariantsAPI.getLowStock();M(e)}catch(e){console.error("Failed to fetch low stock variants:",e)}},[]),z=(0,a.useCallback)(async()=>{try{const e=await Le.productVariantsAPI.getOutOfStock();D(e)}catch(e){console.error("Failed to fetch out of stock variants:",e)}},[]);(0,a.useEffect)(()=>{F(),U(),B(),V(),z()},[F,U,B,V,z]);const $=(e,t,r)=>{S(s=>({...s,variants:s.variants.map((s,a)=>a===e?{...s,[t]:r}:s)}))},W=t.filter(e=>{const t=e.name.toLowerCase().includes(_.toLowerCase())||e.value.toLowerCase().includes(_.toLowerCase())||e.product.name.toLowerCase().includes(_.toLowerCase()),r=!E||e.product.productId===E;let s=!0;return"low"===A?s=e.quantity<=5&&e.quantity>0:"out"===A&&(s=0===e.quantity),t&&r&&s});return i?(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Oe.jsxs)("div",{className:"mb-8",children:[(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Product Variants Management"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage product variants, stock levels, and pricing adjustments"})]}),h&&(0,Oe.jsx)("div",{className:"mb-6 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(bt,{className:"w-5 h-5 text-green-500 mr-3"}),(0,Oe.jsx)("p",{className:"text-green-800 dark:text-green-200",children:h})]})}),d&&(0,Oe.jsx)("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(qe,{className:"w-5 h-5 text-red-500 mr-3"}),(0,Oe.jsx)("p",{className:"text-red-800 dark:text-red-200",children:d})]})}),I&&(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(Dt,{className:"w-8 h-8 text-blue-500 mr-3"}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Variants"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:I.total_variants})]})]})}),(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(tn,{className:"w-8 h-8 text-green-500 mr-3"}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Quantity"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:I.total_quantity})]})]})}),(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(Ms,{className:"w-8 h-8 text-yellow-500 mr-3"}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Low Stock"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:I.low_stock_count})]})]})}),(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(qe,{className:"w-8 h-8 text-red-500 mr-3"}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Out of Stock"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:I.out_of_stock_count})]})]})})]}),(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 mb-6",children:(0,Oe.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[(0,Oe.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[(0,Oe.jsxs)("div",{className:"relative",children:[(0,Oe.jsx)(Ct,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),(0,Oe.jsx)("input",{type:"text",placeholder:"Search variants...",value:_,onChange:e=>C(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),(0,Oe.jsxs)("select",{value:E,onChange:e=>P(e.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[(0,Oe.jsx)("option",{value:"",children:"All Products"}),s.map(e=>(0,Oe.jsx)("option",{value:e.productId,children:e.name},e.productId))]}),(0,Oe.jsxs)("select",{value:A,onChange:e=>R(e.target.value),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[(0,Oe.jsx)("option",{value:"all",children:"All Stock"}),(0,Oe.jsx)("option",{value:"low",children:"Low Stock"}),(0,Oe.jsx)("option",{value:"out",children:"Out of Stock"})]})]}),(0,Oe.jsxs)("div",{className:"flex space-x-3",children:[(0,Oe.jsxs)("button",{onClick:()=>x(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[(0,Oe.jsx)(wt,{className:"w-4 h-4 mr-2"}),"Add Variant"]}),(0,Oe.jsxs)("button",{onClick:()=>b(!0),className:"flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[(0,Oe.jsx)(wt,{className:"w-4 h-4 mr-2"}),"Bulk Create"]})]})]})}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,Oe.jsx)("div",{className:"overflow-x-auto",children:(0,Oe.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[(0,Oe.jsx)("thead",{className:"bg-gray-50 dark:bg-gray-700",children:(0,Oe.jsxs)("tr",{children:[(0,Oe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Product"}),(0,Oe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Variant"}),(0,Oe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Price Adjustment"}),(0,Oe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Quantity"}),(0,Oe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total Price"}),(0,Oe.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),(0,Oe.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),(0,Oe.jsx)("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:W.map(e=>(0,Oe.jsxs)("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,Oe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Oe.jsx)("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.product.name})}),(0,Oe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Oe.jsxs)("div",{className:"text-sm text-gray-900 dark:text-white",children:[(0,Oe.jsxs)("span",{className:"font-medium",children:[e.name,":"]})," ",e.value]})}),(0,Oe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Oe.jsxs)("div",{className:"text-sm text-gray-900 dark:text-white",children:["$",e.price_adjustment]})}),(0,Oe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Oe.jsx)("div",{className:"text-sm text-gray-900 dark:text-white",children:e.quantity})}),(0,Oe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Oe.jsxs)("div",{className:"text-sm text-gray-900 dark:text-white",children:["$",e.total_price]})}),(0,Oe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:0===e.quantity?(0,Oe.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:"Out of Stock"}):e.quantity<=5?(0,Oe.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",children:"Low Stock"}):(0,Oe.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:"In Stock"})}),(0,Oe.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,Oe.jsx)("button",{onClick:()=>(e=>{w(e),k({product:e.product.productId,name:e.name,value:e.value,price_adjustment:e.price_adjustment,quantity:e.quantity}),f(!0)})(e),className:"text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300",children:(0,Oe.jsx)(da,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this variant?"))try{u(null),await Le.productVariantsAPI.delete(e),r(t=>t.filter(t=>t.id!==e)),m("Variant deleted successfully!"),setTimeout(()=>m(null),3e3),B(),V(),z()}catch(t){u(t instanceof Error?t.message:"Failed to delete variant")}})(e.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:(0,Oe.jsx)(ha,{className:"w-4 h-4"})})]})})]},e.id))})]})}),0===W.length&&(0,Oe.jsxs)("div",{className:"text-center py-8",children:[(0,Oe.jsx)(Dt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,Oe.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"No variants found"})]})]}),g&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Create New Variant"}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Product"}),(0,Oe.jsxs)("select",{value:j.product,onChange:e=>k(t=>({...t,product:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[(0,Oe.jsx)("option",{value:"",children:"Select Product"}),s.map(e=>(0,Oe.jsx)("option",{value:e.productId,children:e.name},e.productId))]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Variant Name"}),(0,Oe.jsx)("input",{type:"text",value:j.name,onChange:e=>k(t=>({...t,name:e.target.value})),placeholder:"e.g., Size, Color",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Variant Value"}),(0,Oe.jsx)("input",{type:"text",value:j.value,onChange:e=>k(t=>({...t,value:e.target.value})),placeholder:"e.g., Large, Red",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Price Adjustment"}),(0,Oe.jsx)("input",{type:"number",step:"0.01",value:j.price_adjustment,onChange:e=>k(t=>({...t,price_adjustment:parseFloat(e.target.value)||0})),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Quantity"}),(0,Oe.jsx)("input",{type:"number",min:"0",value:j.quantity,onChange:e=>k(t=>({...t,quantity:parseInt(e.target.value)||0})),placeholder:"0",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[(0,Oe.jsx)("button",{onClick:()=>x(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:"Cancel"}),(0,Oe.jsx)("button",{onClick:async()=>{try{c(!0),u(null);const e=s.find(e=>e.productId===j.product);if(!e)throw new Error("Selected product not found");const t=await Le.productVariantsAPI.create({...j,product:e.productId});r(e=>[...e,t]),x(!1),k({product:"",name:"",value:"",price_adjustment:0,quantity:0}),m("Variant created successfully!"),setTimeout(()=>m(null),3e3),B(),V(),z()}catch(e){u(e instanceof Error?e.message:"Failed to create variant")}finally{c(!1)}},disabled:o||!j.product||!j.name||!j.value,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:o?"Creating...":"Create Variant"})]})]})}),p&&v&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Edit Variant"}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Product"}),(0,Oe.jsx)("input",{type:"text",value:(null===(e=s.find(e=>e.productId===j.product))||void 0===e?void 0:e.name)||"",disabled:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-gray-100 dark:bg-gray-600 text-gray-500 dark:text-gray-400"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Variant Name"}),(0,Oe.jsx)("input",{type:"text",value:j.name,onChange:e=>k(t=>({...t,name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Variant Value"}),(0,Oe.jsx)("input",{type:"text",value:j.value,onChange:e=>k(t=>({...t,value:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Price Adjustment"}),(0,Oe.jsx)("input",{type:"number",step:"0.01",value:j.price_adjustment,onChange:e=>k(t=>({...t,price_adjustment:parseFloat(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Quantity"}),(0,Oe.jsx)("input",{type:"number",min:"0",value:j.quantity,onChange:e=>k(t=>({...t,quantity:parseInt(e.target.value)||0})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[(0,Oe.jsx)("button",{onClick:()=>f(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:"Cancel"}),(0,Oe.jsx)("button",{onClick:async()=>{if(v)try{c(!0),u(null);const e={name:j.name,value:j.value,price_adjustment:j.price_adjustment,quantity:j.quantity},t=await Le.productVariantsAPI.update(v.id,e);r(e=>e.map(e=>e.id===v.id?t:e)),f(!1),w(null),k({product:"",name:"",value:"",price_adjustment:0,quantity:0}),m("Variant updated successfully!"),setTimeout(()=>m(null),3e3),B(),V(),z()}catch(e){u(e instanceof Error?e.message:"Failed to update variant")}finally{c(!1)}},disabled:o||!j.name||!j.value,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:o?"Updating...":"Update Variant"})]})]})}),y&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Bulk Create Variants"}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Product"}),(0,Oe.jsxs)("select",{value:N.product,onChange:e=>S(t=>({...t,product:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500",children:[(0,Oe.jsx)("option",{value:"",children:"Select Product"}),s.map(e=>(0,Oe.jsx)("option",{value:e.productId,children:e.name},e.productId))]})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsx)("h3",{className:"text-md font-medium text-gray-900 dark:text-white",children:"Variants"}),(0,Oe.jsxs)("button",{onClick:()=>{S(e=>({...e,variants:[...e.variants,{name:"",value:"",price_adjustment:0,quantity:0}]}))},className:"flex items-center px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700",children:[(0,Oe.jsx)(wt,{className:"w-4 h-4 mr-1"}),"Add Row"]})]}),N.variants.map((e,t)=>(0,Oe.jsxs)("div",{className:"grid grid-cols-5 gap-4 p-4 border border-gray-200 dark:border-gray-600 rounded-lg",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Name"}),(0,Oe.jsx)("input",{type:"text",value:e.name,onChange:e=>$(t,"name",e.target.value),placeholder:"e.g., Size",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Value"}),(0,Oe.jsx)("input",{type:"text",value:e.value,onChange:e=>$(t,"value",e.target.value),placeholder:"e.g., Large",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Price Adj."}),(0,Oe.jsx)("input",{type:"number",step:"0.01",value:e.price_adjustment,onChange:e=>$(t,"price_adjustment",parseFloat(e.target.value)||0),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Quantity"}),(0,Oe.jsx)("input",{type:"number",min:"0",value:e.quantity,onChange:e=>$(t,"quantity",parseInt(e.target.value)||0),placeholder:"0",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500"})]}),(0,Oe.jsx)("div",{className:"flex items-end",children:(0,Oe.jsx)("button",{onClick:()=>(e=>{S(t=>({...t,variants:t.variants.filter((t,r)=>r!==e)}))})(t),className:"px-3 py-2 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:(0,Oe.jsx)(ha,{className:"w-4 h-4"})})})]},t))]})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[(0,Oe.jsx)("button",{onClick:()=>b(!1),className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:"Cancel"}),(0,Oe.jsx)("button",{onClick:async()=>{try{c(!0),u(null);const e=s.find(e=>e.productId===N.product);if(!e)throw new Error("Selected product not found");const t=await Le.productVariantsAPI.bulkCreate(e.productId,N.variants);r(e=>[...e,...t]),b(!1),S({product:"",variants:[{name:"",value:"",price_adjustment:0,quantity:0}]}),m(`${t.length} variants created successfully!`),setTimeout(()=>m(null),3e3),B(),V(),z()}catch(e){u(e instanceof Error?e.message:"Failed to create variants")}finally{c(!1)}},disabled:o||!N.product||0===N.variants.length,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:o?"Creating...":"Create Variants"})]})]})})]})})};function ah(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.633 10.25c.806 0 1.533-.446 2.031-1.08a9.041 9.041 0 0 1 2.861-2.4c.723-.384 1.35-.956 1.653-1.715a4.498 4.498 0 0 0 .322-1.672V2.75a.75.75 0 0 1 .75-.75 2.25 2.25 0 0 1 2.25 2.25c0 1.152-.26 2.243-.723 3.218-.266.558.107 1.282.725 1.282m0 0h3.126c1.026 0 1.945.694 2.054 1.715.045.422.068.85.068 1.285a11.95 11.95 0 0 1-2.649 7.521c-.388.482-.987.729-1.605.729H13.48c-.483 0-.964-.078-1.423-.23l-3.114-1.04a4.501 4.501 0 0 0-1.423-.23H5.904m10.598-9.75H14.25M5.904 18.5c.083.205.173.405.27.602.197.4-.078.898-.523.898h-.908c-.889 0-1.713-.518-1.972-1.368a12 12 0 0 1-.521-3.507c0-1.553.295-3.036.831-4.398C3.387 9.953 4.167 9.5 5 9.5h1.053c.472 0 .745.556.5.96a8.958 8.958 0 0 0-1.302 4.665c0 1.194.232 2.333.654 3.375Z"}))}const nh=a.forwardRef(ah),ih=()=>{const[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)([]),[n,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)(null),[m,g]=(0,a.useState)("all"),[x,p]=(0,a.useState)({review_type:"",rating:0,sort_by:"created_at",sort_order:"desc"}),[f,y]=(0,a.useState)({product:"",shop:"",rating:5,comment:""}),b=(0,a.useCallback)(async()=>{i(!0),o(null);try{const e={};x.review_type&&(e.review_type=x.review_type),x.rating>0&&(e.rating=x.rating),x.sort_by&&(e.sort_by=x.sort_by),x.sort_order&&(e.sort_order=x.sort_order);const r=await Le.reviewsAPI.getAll(e);t(r)}catch(e){o(e instanceof Error?e.message:"Failed to fetch reviews")}finally{i(!1)}},[x]),v=(0,a.useCallback)(async()=>{i(!0),o(null);try{const e=await Le.reviewsAPI.getMyReviews();s(e)}catch(e){o(e instanceof Error?e.message:"Failed to fetch your reviews")}finally{i(!1)}},[]);(0,a.useEffect)(()=>{"all"===m?b():v()},[m,b,v]);return(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Oe.jsxs)("div",{className:"mb-8",children:[(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Reviews"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Read and write reviews for products and shops"})]}),(0,Oe.jsx)("div",{className:"mb-6",children:(0,Oe.jsx)("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,Oe.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,Oe.jsx)("button",{onClick:()=>g("all"),className:"py-2 px-1 border-b-2 font-medium text-sm "+("all"===m?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"),children:"All Reviews"}),(0,Oe.jsx)("button",{onClick:()=>g("my-reviews"),className:"py-2 px-1 border-b-2 font-medium text-sm "+("my-reviews"===m?"border-blue-500 text-blue-600 dark:text-blue-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"),children:"My Reviews"})]})})}),(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-4 mb-6",children:(0,Oe.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)(zs,{className:"h-5 w-5 text-gray-400"}),(0,Oe.jsx)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Filters:"})]}),(0,Oe.jsxs)("select",{value:x.review_type,onChange:e=>p(t=>({...t,review_type:e.target.value})),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,Oe.jsx)("option",{value:"",children:"All Types"}),(0,Oe.jsx)("option",{value:"product",children:"Product Reviews"}),(0,Oe.jsx)("option",{value:"shop",children:"Shop Reviews"})]}),(0,Oe.jsxs)("select",{value:x.rating,onChange:e=>p(t=>({...t,rating:parseInt(e.target.value)})),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,Oe.jsx)("option",{value:0,children:"All Ratings"}),(0,Oe.jsx)("option",{value:5,children:"5 Stars"}),(0,Oe.jsx)("option",{value:4,children:"4+ Stars"}),(0,Oe.jsx)("option",{value:3,children:"3+ Stars"}),(0,Oe.jsx)("option",{value:2,children:"2+ Stars"}),(0,Oe.jsx)("option",{value:1,children:"1+ Stars"})]}),(0,Oe.jsxs)("select",{value:x.sort_by,onChange:e=>p(t=>({...t,sort_by:e.target.value})),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,Oe.jsx)("option",{value:"created_at",children:"Date"}),(0,Oe.jsx)("option",{value:"rating",children:"Rating"}),(0,Oe.jsx)("option",{value:"helpful_count",children:"Helpful"})]}),(0,Oe.jsx)("button",{onClick:()=>p(e=>({...e,sort_order:"asc"===e.sort_order?"desc":"asc"})),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:"asc"===x.sort_order?"\u2191":"\u2193"})]})}),(0,Oe.jsx)("div",{className:"mb-6",children:(0,Oe.jsxs)("button",{onClick:()=>d(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,Oe.jsx)(wt,{className:"h-4 w-4 mr-2"}),"Write a Review"]})}),l&&(0,Oe.jsx)("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4",children:(0,Oe.jsx)("p",{className:"text-red-800 dark:text-red-200",children:l})}),n&&(0,Oe.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),!n&&(0,Oe.jsx)("div",{className:"space-y-4",children:("all"===m?e:r).length>0?("all"===m?e:r).map(e=>{return(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:(0,Oe.jsx)("div",{className:"flex items-start justify-between",children:(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Oe.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[e.first_name," ",e.last_name]}),(0,Oe.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(e.created_at).toLocaleDateString()}),"approved"!==e.status&&(0,Oe.jsx)("span",{className:"px-2 py-1 text-xs rounded-full "+("pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.status})]}),(0,Oe.jsxs)("div",{className:"flex items-center mb-2",children:[(t=e.rating,Array.from({length:5},(e,r)=>(0,Oe.jsx)(Ut,{className:"h-4 w-4 "+(r<t?"text-yellow-400 fill-current":"text-gray-300")},r))),(0,Oe.jsxs)("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:[e.rating,"/5"]})]}),(0,Oe.jsx)("div",{className:"mb-3",children:(0,Oe.jsxs)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Review for: ",e.reviewed_item_name]})}),e.comment&&(0,Oe.jsx)("p",{className:"text-gray-700 dark:text-gray-300 mb-4",children:e.comment}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsx)("div",{className:"flex items-center space-x-4",children:(0,Oe.jsxs)("button",{onClick:()=>(async e=>{try{await Le.reviewsAPI.markHelpful(e),b(),v()}catch(t){o(t instanceof Error?t.message:"Failed to mark review as helpful")}})(e.id),className:"flex items-center space-x-1 text-sm text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400",children:[(0,Oe.jsx)(nh,{className:"h-4 w-4"}),(0,Oe.jsxs)("span",{children:["Helpful (",e.helpful_count,")"]})]})}),"my-reviews"===m&&(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("button",{onClick:()=>{var t,r;h(e),y({product:(null===(t=e.product)||void 0===t?void 0:t.productId)||"",shop:(null===(r=e.shop)||void 0===r?void 0:r.shopId)||"",rating:e.rating,comment:e.comment})},className:"p-1 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400",children:(0,Oe.jsx)(da,{className:"h-4 w-4"})}),(0,Oe.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this review?")){i(!0),o(null);try{await Le.reviewsAPI.delete(e),b(),v()}catch(t){o(t instanceof Error?t.message:"Failed to delete review")}finally{i(!1)}}})(e.id),className:"p-1 text-gray-600 dark:text-gray-400 hover:text-red-600 dark:hover:text-red-400",children:(0,Oe.jsx)(ha,{className:"h-4 w-4"})})]})]})]})})},e.id);var t}):(0,Oe.jsxs)("div",{className:"text-center py-8",children:[(0,Oe.jsx)(Pt,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Oe.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No reviews"}),(0,Oe.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"all"===m?"No reviews found for the selected criteria.":"You haven't written any reviews yet."})]})}),(c||u)&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Oe.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800",children:(0,Oe.jsxs)("div",{className:"mt-3",children:[(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:u?"Edit Review":"Write a Review"}),(0,Oe.jsxs)("form",{onSubmit:u?async e=>{if(e.preventDefault(),u){i(!0),o(null);try{await Le.reviewsAPI.update(u.id,{rating:f.rating,comment:f.comment}),y({product:"",shop:"",rating:5,comment:""}),h(null),b(),v()}catch(t){o(t instanceof Error?t.message:"Failed to update review")}finally{i(!1)}}}:async e=>{e.preventDefault(),i(!0),o(null);try{const e={rating:f.rating,comment:f.comment};f.product?e.product=f.product:f.shop&&(e.shop=f.shop),await Le.reviewsAPI.create(e),y({product:"",shop:"",rating:5,comment:""}),d(!1),b(),v()}catch(t){o(t instanceof Error?t.message:"Failed to create review")}finally{i(!1)}},className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Review Type"}),(0,Oe.jsxs)("div",{className:"flex space-x-4",children:[(0,Oe.jsxs)("label",{className:"flex items-center",children:[(0,Oe.jsx)("input",{type:"radio",name:"reviewType",value:"product",checked:!!f.product,onChange:()=>y(e=>({...e,product:"",shop:""})),className:"mr-2"}),"Product"]}),(0,Oe.jsxs)("label",{className:"flex items-center",children:[(0,Oe.jsx)("input",{type:"radio",name:"reviewType",value:"shop",checked:!!f.shop,onChange:()=>y(e=>({...e,product:"",shop:""})),className:"mr-2"}),"Shop"]})]})]}),f.product?(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Product ID"}),(0,Oe.jsx)("input",{type:"text",value:f.product,onChange:e=>y(t=>({...t,product:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter product ID",required:!0})]}):f.shop?(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Shop ID"}),(0,Oe.jsx)("input",{type:"text",value:f.shop,onChange:e=>y(t=>({...t,shop:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Enter shop ID",required:!0})]}):(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Select Review Type"}),(0,Oe.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Please select whether you want to review a product or shop"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rating"}),(0,Oe.jsx)("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(e=>(0,Oe.jsx)("button",{type:"button",onClick:()=>y(t=>({...t,rating:e})),className:"focus:outline-none",children:(0,Oe.jsx)(Ut,{className:"h-6 w-6 "+(e<=f.rating?"text-yellow-400 fill-current":"text-gray-300")})},e))})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Comment"}),(0,Oe.jsx)("textarea",{value:f.comment,onChange:e=>y(t=>({...t,comment:e.target.value})),rows:4,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"Share your experience..."})]}),(0,Oe.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Oe.jsx)("button",{type:"button",onClick:()=>{d(!1),h(null),y({product:"",shop:"",rating:5,comment:""})},className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600",children:"Cancel"}),(0,Oe.jsx)("button",{type:"submit",disabled:n||!f.product&&!f.shop,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:n?"Saving...":u?"Update Review":"Submit Review"})]})]})]})})})]})})},lh=()=>{const[e,t]=(0,a.useState)(null),[r,s]=(0,a.useState)(!1),[n,i]=(0,a.useState)(null),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),u=(0,a.useCallback)(async()=>{s(!0),i(null);try{const e=await Le.wishlistAPI.getMyWishlist();t(e)}catch(e){i(e instanceof Error?e.message:"Failed to fetch wishlist")}finally{s(!1)}},[]);(0,a.useEffect)(()=>{u()},[u]);const h=e=>e.promotional_price&&e.promotional_price<e.price?e.promotional_price:e.price,m=e=>e.promotional_price&&e.promotional_price<e.price;return r&&!e?(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,Oe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Oe.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})})}):(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Oe.jsx)("div",{className:"mb-8",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"My Wishlist"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:e?`${e.products.length} items`:"No items in wishlist"})]}),e&&e.products.length>0&&(0,Oe.jsxs)("div",{className:"flex space-x-3",children:[(0,Oe.jsxs)("button",{onClick:async()=>{if(e&&0!==e.products.length){s(!0),i(null);try{for(const t of e.products){const e=t.shops[0];e&&await Le.cartAPI.addToCart(t.productId,e.shopId,1)}for(const t of e.products)await Le.wishlistAPI.removeProduct(t.productId);u()}catch(t){i(t instanceof Error?t.message:"Failed to move items to cart")}finally{s(!1)}}},disabled:r,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[(0,Oe.jsx)(at,{className:"h-4 w-4 mr-2"}),"Move All to Cart"]}),(0,Oe.jsxs)("button",{onClick:async()=>{if(e&&0!==e.products.length&&window.confirm("Are you sure you want to clear your wishlist? This action cannot be undone.")){s(!0),i(null);try{for(const t of e.products)await Le.wishlistAPI.removeProduct(t.productId);u()}catch(t){i(t instanceof Error?t.message:"Failed to clear wishlist")}finally{s(!1)}}},disabled:r,className:"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[(0,Oe.jsx)(ha,{className:"h-4 w-4 mr-2"}),"Clear Wishlist"]})]})]})}),n&&(0,Oe.jsx)("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4",children:(0,Oe.jsxs)("div",{className:"flex",children:[(0,Oe.jsx)(Ms,{className:"h-5 w-5 text-red-400"}),(0,Oe.jsx)("div",{className:"ml-3",children:(0,Oe.jsx)("p",{className:"text-red-800 dark:text-red-200",children:n})})]})}),r&&(0,Oe.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),!r&&e&&e.products.length>0?(0,Oe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.products.map(e=>{return(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[(0,Oe.jsx)("div",{className:"aspect-w-1 aspect-h-1 w-full",children:e.image?(0,Oe.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-48 object-cover"}):(0,Oe.jsx)("div",{className:"w-full h-48 bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:(0,Oe.jsx)("span",{className:"text-gray-400 dark:text-gray-500",children:"No Image"})})}),(0,Oe.jsxs)("div",{className:"p-4",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 line-clamp-2",children:e.name}),(0,Oe.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2",children:e.description}),(0,Oe.jsxs)("div",{className:"flex items-center mb-3",children:[(0,Oe.jsx)(ya,{className:"h-4 w-4 text-gray-400 mr-1"}),(0,Oe.jsxs)("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["$",h(e).toFixed(2)]}),m(e)&&(0,Oe.jsxs)("span",{className:"ml-2 text-sm text-gray-500 line-through",children:["$",e.price.toFixed(2)]})]}),(0,Oe.jsxs)("div",{className:"flex items-center mb-3",children:[(t=4,Array.from({length:5},(e,r)=>(0,Oe.jsx)(Ut,{className:"h-4 w-4 "+(r<t?"text-yellow-400 fill-current":"text-gray-300")},r)))," ",(0,Oe.jsx)("span",{className:"ml-1 text-sm text-gray-600 dark:text-gray-400",children:"(24)"})]}),(0,Oe.jsx)("div",{className:"mb-4",children:e.quantity>0?(0,Oe.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",children:["In Stock (",e.quantity,")"]}):(0,Oe.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:"Out of Stock"})}),(0,Oe.jsxs)("div",{className:"flex space-x-2",children:[(0,Oe.jsxs)(Ae,{to:`/products/${e.productId}`,className:"flex-1 inline-flex items-center justify-center px-3 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,Oe.jsx)(js,{className:"h-4 w-4 mr-1"}),"View"]}),(0,Oe.jsxs)("button",{onClick:()=>(async e=>{o(e.productId),i(null);try{const t=e.shops[0];if(!t)throw new Error("No shop found for this product");await Le.cartAPI.addToCart(e.productId,t.shopId,1),i(null)}catch(t){i(t instanceof Error?t.message:"Failed to add item to cart")}finally{o(null)}})(e),disabled:l===e.productId||0===e.quantity,className:"flex-1 inline-flex items-center justify-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[(0,Oe.jsx)(at,{className:"h-4 w-4 mr-1"}),l===e.productId?"Adding...":"Add to Cart"]}),(0,Oe.jsx)("button",{onClick:()=>(async e=>{d(e),i(null);try{await Le.wishlistAPI.removeProduct(e),u()}catch(t){i(t instanceof Error?t.message:"Failed to remove item from wishlist")}finally{d(null)}})(e.productId),disabled:c===e.productId,className:"inline-flex items-center justify-center px-3 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-red-600 dark:text-red-400 bg-white dark:bg-gray-700 hover:bg-red-50 dark:hover:bg-red-900/20 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:(0,Oe.jsx)(ha,{className:"h-4 w-4"})})]})]})]},e.productId);var t})}):!r&&(0,Oe.jsxs)("div",{className:"text-center py-12",children:[(0,Oe.jsx)(Rt,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Oe.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No items in wishlist"}),(0,Oe.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Start adding products to your wishlist to see them here."}),(0,Oe.jsx)("div",{className:"mt-6",children:(0,Oe.jsx)(Ae,{to:"/products",className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Browse Products"})})]}),e&&e.products.length>0&&(0,Oe.jsxs)("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Wishlist Summary"}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.products.length}),(0,Oe.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Items"})]}),(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"text-2xl font-bold text-green-600",children:e.products.filter(e=>e.quantity>0).length}),(0,Oe.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"In Stock"})]}),(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:["$",e.products.reduce((e,t)=>e+h(t),0).toFixed(2)]}),(0,Oe.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Value"})]})]})]})]})})};function oh(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ch=a.forwardRef(oh);function dh(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const uh=a.forwardRef(dh),hh=()=>{const[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(!1),[n,i]=(0,a.useState)(null),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)("all"),[u,h]=(0,a.useState)("created_at"),[m,g]=(0,a.useState)("desc"),x=(0,a.useCallback)(async()=>{s(!0),i(null);try{const e=await Le.paymentsAPI.getAll();t(e)}catch(e){i(e instanceof Error?e.message:"Failed to fetch payments")}finally{s(!1)}},[]);(0,a.useEffect)(()=>{x()},[x]);const p=e=>{switch(e.toLowerCase()){case"completed":return(0,Oe.jsx)(We,{className:"h-5 w-5 text-green-500"});case"pending":return(0,Oe.jsx)(pa,{className:"h-5 w-5 text-yellow-500"});case"failed":return(0,Oe.jsx)(ch,{className:"h-5 w-5 text-red-500"});case"cancelled":return(0,Oe.jsx)(ch,{className:"h-5 w-5 text-gray-500"});default:return(0,Oe.jsx)(Ms,{className:"h-5 w-5 text-orange-500"})}},f=e=>{switch(e.toLowerCase()){case"completed":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"cancelled":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";default:return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"}},y=e=>{switch(e.toLowerCase()){case"credit_card":case"debit_card":case"mobile_money":default:return(0,Oe.jsx)(Vt,{className:"h-5 w-5"});case"bank_transfer":return(0,Oe.jsx)(ya,{className:"h-5 w-5"})}},b=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),v=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),w=e=>"number"===typeof e?{id:e}:{id:e.id},j=e.filter(e=>"all"===c||e.status.toLowerCase()===c.toLowerCase()).sort((e,t)=>{let r=e[u],s=t[u];return"created_at"!==u&&"updated_at"!==u||(r=new Date(r).getTime(),s=new Date(s).getTime()),"asc"===m?r>s?1:-1:r<s?1:-1}),k=e.reduce((e,t)=>e+t.amount,0),N=e.filter(e=>"completed"===e.status.toLowerCase()).length,S=e.filter(e=>"pending"===e.status.toLowerCase()).length;return r&&0===e.length?(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,Oe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Oe.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})})})}):(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Oe.jsxs)("div",{className:"mb-8",children:[(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Payment History"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage and track your payment transactions"})]}),n&&(0,Oe.jsx)("div",{className:"mb-6 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4",children:(0,Oe.jsxs)("div",{className:"flex",children:[(0,Oe.jsx)(Ms,{className:"h-5 w-5 text-red-400"}),(0,Oe.jsx)("div",{className:"ml-3",children:(0,Oe.jsx)("p",{className:"text-red-800 dark:text-red-200",children:n})})]})}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(ya,{className:"h-8 w-8 text-green-500"}),(0,Oe.jsxs)("div",{className:"ml-4",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Spent"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:v(k)})]})]})}),(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(We,{className:"h-8 w-8 text-green-500"}),(0,Oe.jsxs)("div",{className:"ml-4",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Completed"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:N})]})]})}),(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(pa,{className:"h-8 w-8 text-yellow-500"}),(0,Oe.jsxs)("div",{className:"ml-4",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Pending"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:S})]})]})}),(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(Vt,{className:"h-8 w-8 text-blue-500"}),(0,Oe.jsxs)("div",{className:"ml-4",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Payments"}),(0,Oe.jsx)("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e.length})]})]})})]}),(0,Oe.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:(0,Oe.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Filter by Status"}),(0,Oe.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,Oe.jsx)("option",{value:"all",children:"All Payments"}),(0,Oe.jsx)("option",{value:"completed",children:"Completed"}),(0,Oe.jsx)("option",{value:"pending",children:"Pending"}),(0,Oe.jsx)("option",{value:"failed",children:"Failed"}),(0,Oe.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sort by"}),(0,Oe.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,Oe.jsx)("option",{value:"created_at",children:"Date Created"}),(0,Oe.jsx)("option",{value:"amount",children:"Amount"}),(0,Oe.jsx)("option",{value:"status",children:"Status"}),(0,Oe.jsx)("option",{value:"payment_method",children:"Payment Method"})]})]}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sort Order"}),(0,Oe.jsxs)("select",{value:m,onChange:e=>g(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,Oe.jsx)("option",{value:"desc",children:"Newest First"}),(0,Oe.jsx)("option",{value:"asc",children:"Oldest First"})]})]})]})}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden",children:[(0,Oe.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:(0,Oe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Payment Transactions (",j.length,")"]})}),r?(0,Oe.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):j.length>0?(0,Oe.jsx)("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:j.map(e=>(0,Oe.jsx)("div",{className:"p-6 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsx)("div",{className:"flex-shrink-0",children:y(e.payment_method)}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsxs)("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["Payment #",e.id]}),(0,Oe.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f(e.status)}`,children:[p(e.status),(0,Oe.jsx)("span",{className:"ml-1",children:e.status})]})]}),(0,Oe.jsxs)("div",{className:"mt-2 grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600 dark:text-gray-400",children:[(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(ya,{className:"h-4 w-4 mr-2"}),(0,Oe.jsx)("span",{className:"font-medium",children:v(e.amount)})]}),(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(uh,{className:"h-4 w-4 mr-2"}),(0,Oe.jsx)("span",{children:b(e.created_at)})]}),(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(rt,{className:"h-4 w-4 mr-2"}),(0,Oe.jsx)("span",{children:e.payment_method.replace("_"," ").toUpperCase()})]})]}),e.order&&(0,Oe.jsxs)("div",{className:"mt-2 flex items-center text-sm text-gray-600 dark:text-gray-400",children:[(0,Oe.jsx)(mt,{className:"h-4 w-4 mr-2"}),(0,Oe.jsxs)("span",{children:["Order #",w(e.order).id]})]}),e.transaction_id&&(0,Oe.jsxs)("div",{className:"mt-1 text-xs text-gray-500 dark:text-gray-500",children:["Transaction ID: ",e.transaction_id]})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsxs)("button",{onClick:()=>o(e),className:"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[(0,Oe.jsx)(js,{className:"h-4 w-4 mr-1"}),"View Details"]}),"pending"===e.status.toLowerCase()&&(0,Oe.jsxs)("button",{onClick:()=>(async(e,t)=>{try{await Le.paymentsAPI.updateStatus(e,t),x()}catch(r){i(r instanceof Error?r.message:"Failed to update payment status")}})(e.id,"completed"),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[(0,Oe.jsx)(We,{className:"h-4 w-4 mr-1"}),"Mark Complete"]})]})]})},e.id))}):(0,Oe.jsxs)("div",{className:"text-center py-12",children:[(0,Oe.jsx)(Vt,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Oe.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-white",children:"No payments found"}),(0,Oe.jsx)("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"all"===c?"You haven't made any payments yet.":`No ${c} payments found.`})]})]}),l&&(0,Oe.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Oe.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800",children:(0,Oe.jsxs)("div",{className:"mt-3",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Payment Details"}),(0,Oe.jsx)("button",{onClick:()=>o(null),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:(0,Oe.jsx)(ch,{className:"h-6 w-6"})})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Payment ID"}),(0,Oe.jsx)("p",{className:"text-sm text-gray-900 dark:text-white",children:l.id})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Amount"}),(0,Oe.jsx)("p",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:v(l.amount)})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Status"}),(0,Oe.jsxs)("div",{className:"flex items-center mt-1",children:[p(l.status),(0,Oe.jsx)("span",{className:"ml-2 text-sm text-gray-900 dark:text-white",children:l.status})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Payment Method"}),(0,Oe.jsx)("p",{className:"text-sm text-gray-900 dark:text-white",children:l.payment_method.replace("_"," ").toUpperCase()})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Created"}),(0,Oe.jsx)("p",{className:"text-sm text-gray-900 dark:text-white",children:b(l.created_at)})]}),l.updated_at&&(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Last Updated"}),(0,Oe.jsx)("p",{className:"text-sm text-gray-900 dark:text-white",children:b(l.updated_at)})]}),l.transaction_id&&(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Transaction ID"}),(0,Oe.jsx)("p",{className:"text-sm text-gray-900 dark:text-white font-mono",children:l.transaction_id})]}),l.order&&(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Order"}),(0,Oe.jsxs)("p",{className:"text-sm text-gray-900 dark:text-white",children:["Order #",w(l.order).id]})]}),l.notes&&(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Notes"}),(0,Oe.jsx)("p",{className:"text-sm text-gray-900 dark:text-white",children:l.notes})]})]}),(0,Oe.jsx)("div",{className:"mt-6 flex justify-end space-x-3",children:(0,Oe.jsx)("button",{onClick:()=>o(null),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:"Close"})})]})})})]})})};function mh(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const gh=a.forwardRef(mh),xh=e=>{let{shopGroup:t,isExpanded:r,onToggleExpanded:s,onUpdateQuantity:a,onRemoveItem:n,onRemoveShopItems:i,updatingItems:l}=e;return(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700",children:[(0,Oe.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("button",{onClick:s,className:"flex items-center space-x-3 flex-1 text-left hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg p-2 -m-2",children:[(0,Oe.jsx)("div",{className:"flex-shrink-0",children:t.shop.logo?(0,Oe.jsx)("img",{src:t.shop.logo,alt:t.shop.name,className:"w-8 h-8 rounded-full object-cover"}):(0,Oe.jsx)("div",{className:"w-8 h-8 bg-gray-300 dark:bg-gray-600 rounded-full flex items-center justify-center",children:(0,Oe.jsx)(ut,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})})}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:t.shop.name}),(0,Oe.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.items.length," item",1!==t.items.length?"s":""," \u2022 $",t.shopTotal.toFixed(2)]})]}),(0,Oe.jsx)("div",{className:"flex-shrink-0",children:r?(0,Oe.jsx)(gh,{className:"w-5 h-5 text-gray-400"}):(0,Oe.jsx)(wt,{className:"w-5 h-5 text-gray-400"})})]}),(0,Oe.jsx)("button",{onClick:i,className:"ml-2 p-2 text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 hover:bg-red-50 dark:hover:bg-red-900/30 rounded-lg",title:`Remove all items from ${t.shop.name}`,children:(0,Oe.jsx)(ha,{className:"w-5 h-5"})})]})}),r&&(0,Oe.jsx)("div",{className:"p-4",children:(0,Oe.jsx)("div",{className:"space-y-4",children:t.items.map(e=>(0,Oe.jsx)(ph,{item:e,onUpdateQuantity:a,onRemove:n,isUpdating:l.has(e.id),showShopName:!1},e.id))})})]})},ph=e=>{let{item:t,onUpdateQuantity:r,onRemove:s,isUpdating:n,showShopName:i=!0}=e;const[l,o]=(0,a.useState)(t.quantity),c=e=>{e>=1&&e<=t.product.quantity&&(o(e),r(t.id,e))},d=t.product.promotional_price?Math.round((t.product.price-t.product.promotional_price)/t.product.price*100):0;return(0,Oe.jsxs)("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",children:[(0,Oe.jsx)("div",{className:"flex-shrink-0",children:(0,Oe.jsx)(Ae,{to:`/products/${t.product.productId}`,className:"block",children:(0,Oe.jsx)("div",{className:"w-20 h-20 bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center overflow-hidden",children:t.product.image?(0,Oe.jsx)("img",{src:t.product.image,alt:t.product.name,className:"w-full h-full object-cover"}):(0,Oe.jsx)(mt,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})})})}),(0,Oe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Oe.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)(Ae,{to:`/products/${t.product.productId}`,className:"block hover:text-primary-600 dark:hover:text-primary-400",children:(0,Oe.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white line-clamp-2",children:t.product.name})}),i&&(0,Oe.jsxs)(Ae,{to:`/shops/${t.shop.shopId}`,className:"text-sm text-gray-500 dark:text-gray-400 hover:text-primary-600 dark:hover:text-primary-400 mt-1 block",children:["\ud83c\udfea ",t.shop.name]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2 mt-1",children:[(0,Oe.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["$",t.product.promotional_price||t.product.price]}),t.product.promotional_price&&(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400 line-through",children:["$",t.product.price]}),(0,Oe.jsxs)("span",{className:"text-xs bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300 px-2 py-1 rounded",children:["-",d,"%"]})]})]}),(0,Oe.jsx)("div",{className:"mt-1",children:0===t.product.quantity?(0,Oe.jsx)("span",{className:"text-xs text-red-600 dark:text-red-400",children:"Out of Stock"}):t.product.quantity<10?(0,Oe.jsxs)("span",{className:"text-xs text-orange-600 dark:text-orange-400",children:["Only ",t.product.quantity," left"]}):(0,Oe.jsx)("span",{className:"text-xs text-green-600 dark:text-green-400",children:"In Stock"})})]}),(0,Oe.jsxs)("div",{className:"text-right ml-4",children:[(0,Oe.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["$",t.total_price.toFixed(2)]}),l>1&&(0,Oe.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["$",(t.total_price/l).toFixed(2)," each"]})]})]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("button",{onClick:()=>c(l-1),disabled:n||l<=1,className:"p-2 rounded-md border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,Oe.jsx)(gh,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})}),(0,Oe.jsx)("div",{className:"flex items-center min-w-[3rem]",children:n?(0,Oe.jsx)("div",{className:"w-4 h-4 border-2 border-primary-600 border-t-transparent rounded-full animate-spin mx-auto"}):(0,Oe.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white text-center w-full",children:l})}),(0,Oe.jsx)("button",{onClick:()=>c(l+1),disabled:n||l>=t.product.quantity||0===t.product.quantity,className:"p-2 rounded-md border border-gray-300 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,Oe.jsx)(wt,{className:"w-4 h-4 text-gray-600 dark:text-gray-400"})})]}),(0,Oe.jsxs)("button",{onClick:()=>{window.confirm(`Remove "${t.product.name}" from your cart?`)&&s(t.id)},disabled:n,className:"flex items-center space-x-1 text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",title:"Remove from cart",children:[(0,Oe.jsx)(ha,{className:"w-4 h-4"}),(0,Oe.jsx)("span",{className:"text-sm",children:"Remove"})]})]}),l>=t.product.quantity&&t.product.quantity>0&&(0,Oe.jsx)("p",{className:"text-xs text-orange-600 dark:text-orange-400 mt-2",children:"Maximum available quantity reached"}),0===t.product.quantity&&(0,Oe.jsx)("p",{className:"text-xs text-red-600 dark:text-red-400 mt-2",children:"This item is currently out of stock"})]})]})},fh=()=>{const[e,t]=(0,a.useState)(null),[r,s]=(0,a.useState)(!0),[n,i]=(0,a.useState)(""),[l,o]=(0,a.useState)(new Set),[c,d]=(0,a.useState)(new Set),u=re();(0,a.useEffect)(()=>{h()},[]);const h=async()=>{try{s(!0),i("");const e=await Le.cartAPI.getCart();if(t(e),null!==e&&void 0!==e&&e.items){const t=new Set(e.items.map(e=>e.shop.shopId));d(t)}}catch(n){i(n instanceof Error?n.message:"Failed to load cart")}finally{s(!1)}},m=e=>{const t=new Map;return e.forEach(e=>{const r=e.shop.shopId;t.has(r)||t.set(r,{shop:{shopId:e.shop.shopId,name:e.shop.name,logo:e.shop.logo},items:[],shopTotal:0});const s=t.get(r);s.items.push(e),s.shopTotal+=e.total_price}),Array.from(t.values())},g=async(e,r)=>{if(!(r<1))try{o(t=>new Set(t).add(e));const s=await Le.cartAPI.updateCartItem(e,r);t(s)}catch(n){i(n instanceof Error?n.message:"Failed to update quantity")}finally{o(t=>{const r=new Set(t);return r.delete(e),r})}},x=async e=>{if(window.confirm("Are you sure you want to remove this item from your cart?"))try{o(t=>new Set(t).add(e));const r=await Le.cartAPI.removeFromCart(e);t(r)}catch(n){i(n instanceof Error?n.message:"Failed to remove item")}finally{o(t=>{const r=new Set(t);return r.delete(e),r})}};return r?(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-500"})}):n?(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Oe.jsx)(mt,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Error Loading Cart"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:n}),(0,Oe.jsx)("button",{onClick:h,className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700",children:"Try Again"})]})}):e&&e.items&&0!==e.items.length?(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Oe.jsxs)("div",{className:"mb-8",children:[(0,Oe.jsxs)(Ae,{to:"/",className:"inline-flex items-center text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4",children:[(0,Oe.jsx)(Js,{className:"w-4 h-4 mr-1"}),"Continue Shopping"]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Shopping Cart"}),(0,Oe.jsx)("button",{onClick:async()=>{if(e&&e.items&&0!==e.items.length&&window.confirm("Are you sure you want to clear your entire cart?"))try{s(!0);const e=await Le.cartAPI.clearCart();t(e)}catch(n){i(n instanceof Error?n.message:"Failed to clear cart")}finally{s(!1)}},className:"text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 text-sm font-medium",children:"Clear Cart"})]})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Oe.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[n&&(0,Oe.jsxs)("div",{className:"bg-red-50 dark:bg-red-900/30 border border-red-300 dark:border-red-700 rounded-lg p-4 flex items-center space-x-3",children:[(0,Oe.jsx)(Ms,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0"}),(0,Oe.jsx)("div",{className:"flex-1",children:(0,Oe.jsx)("p",{className:"text-sm text-red-700 dark:text-red-300",children:n})}),(0,Oe.jsx)("button",{onClick:()=>i(""),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-200",children:(0,Oe.jsx)(qe,{className:"w-4 h-4"})})]}),e.items&&m(e.items).map(t=>(0,Oe.jsx)(xh,{shopGroup:t,isExpanded:c.has(t.shop.shopId),onToggleExpanded:()=>{return e=t.shop.shopId,void d(t=>{const r=new Set(t);return r.has(e)?r.delete(e):r.add(e),r});var e},onUpdateQuantity:g,onRemoveItem:x,onRemoveShopItems:()=>(async t=>{var r;if(null===e||void 0===e||!e.items)return;const a=e.items.filter(e=>e.shop.shopId===t);if(window.confirm(`Are you sure you want to remove all ${a.length} items from ${null===(r=a[0])||void 0===r?void 0:r.shop.name}?`))try{s(!0);for(const e of a)await Le.cartAPI.removeFromCart(e.id);await h()}catch(n){i(n instanceof Error?n.message:"Failed to remove shop items")}finally{s(!1)}})(t.shop.shopId),updatingItems:l},t.shop.shopId))]}),(0,Oe.jsx)("div",{className:"lg:col-span-1",children:(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 sticky top-8",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Order Summary"}),e.items&&m(e.items).length>1&&(0,Oe.jsxs)("div",{className:"space-y-2 mb-4 pb-4 border-b border-gray-200 dark:border-gray-700",children:[(0,Oe.jsx)("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"By Shop:"}),m(e.items).map(e=>(0,Oe.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Oe.jsxs)("span",{className:"text-gray-600 dark:text-gray-400 flex items-center",children:[(0,Oe.jsx)(ut,{className:"w-4 h-4 mr-1"}),e.shop.name]}),(0,Oe.jsxs)("span",{className:"text-gray-900 dark:text-white",children:["$",e.shopTotal.toFixed(2)]})]},e.shop.shopId))]}),(0,Oe.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,Oe.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Oe.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:["Items (",e.total_items||0,")"]}),(0,Oe.jsxs)("span",{className:"text-gray-900 dark:text-white",children:["$",(e.total_price||0).toFixed(2)]})]}),(0,Oe.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Oe.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Shipping"}),(0,Oe.jsx)("span",{className:"text-green-600 dark:text-green-400 font-medium",children:"Free"})]}),(0,Oe.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Oe.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Tax"}),(0,Oe.jsx)("span",{className:"text-gray-900 dark:text-white",children:"Calculated at checkout"})]}),(0,Oe.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:(0,Oe.jsxs)("div",{className:"flex justify-between text-lg font-semibold",children:[(0,Oe.jsx)("span",{className:"text-gray-900 dark:text-white",children:"Total"}),(0,Oe.jsxs)("span",{className:"text-gray-900 dark:text-white",children:["$",(e.total_price||0).toFixed(2)]})]})})]}),(0,Oe.jsxs)("div",{className:"space-y-3",children:[(0,Oe.jsxs)("button",{onClick:()=>{u("/checkout")},className:"w-full bg-primary-600 text-white py-3 px-4 rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center font-medium",children:[(0,Oe.jsx)(ya,{className:"w-5 h-5 mr-2"}),"Proceed to Checkout"]}),(0,Oe.jsx)(Ae,{to:"/shops",className:"w-full text-center py-2 px-4 text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 text-sm font-medium block",children:"Continue Shopping"})]}),(0,Oe.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,Oe.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 text-center mb-2",children:"\ud83d\udd12 Secure checkout powered by OneSoko"}),e.items&&m(e.items).length>1&&(0,Oe.jsx)("p",{className:"text-xs text-blue-600 dark:text-blue-400 text-center",children:"\ud83d\udca1 Items from different shops may have separate delivery"})]})]})})]})]})}):(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Oe.jsxs)("div",{className:"mb-8",children:[(0,Oe.jsxs)(Ae,{to:"/",className:"inline-flex items-center text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4",children:[(0,Oe.jsx)(Js,{className:"w-4 h-4 mr-1"}),"Continue Shopping"]}),(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Shopping Cart"})]}),(0,Oe.jsxs)("div",{className:"text-center py-12",children:[(0,Oe.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Oe.jsx)(mt,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Your cart is empty"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Looks like you haven't added any items to your cart yet."}),(0,Oe.jsx)(Ae,{to:"/shops",className:"bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors",children:"Start Shopping"})]})]})})};function yh(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}const bh=a.forwardRef(yh),vh=()=>{const[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(!0),[n,i]=(0,a.useState)("");(0,a.useEffect)(()=>{l()},[]);const l=async()=>{try{s(!0);const e=await Le.ordersAPI.getAll();t(e)}catch(n){i(n instanceof Error?n.message:"Failed to load orders")}finally{s(!1)}},o=e=>{switch(e){case"pending":return(0,Oe.jsx)(pa,{className:"w-5 h-5 text-yellow-500"});case"paid":return(0,Oe.jsx)(We,{className:"w-5 h-5 text-green-500"});case"shipped":return(0,Oe.jsx)(bh,{className:"w-5 h-5 text-blue-500"});case"delivered":return(0,Oe.jsx)(We,{className:"w-5 h-5 text-green-600"});case"cancelled":return(0,Oe.jsx)(ch,{className:"w-5 h-5 text-red-500"});default:return(0,Oe.jsx)(pa,{className:"w-5 h-5 text-gray-500"})}},c=e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"paid":case"delivered":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"shipped":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}};return r?(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-500"})}):n?(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Oe.jsx)(ch,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Error Loading Orders"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:n}),(0,Oe.jsx)("button",{onClick:l,className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700",children:"Try Again"})]})}):(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Oe.jsxs)("div",{className:"mb-8",children:[(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"My Orders"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Track your orders and view order history"})]}),0===e.length?(0,Oe.jsxs)("div",{className:"text-center py-12",children:[(0,Oe.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Oe.jsx)(mt,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No orders yet"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Start shopping to see your orders here."}),(0,Oe.jsx)(Ae,{to:"/shops",className:"bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors",children:"Start Shopping"})]}):(0,Oe.jsx)("div",{className:"space-y-6",children:e.map(e=>{return(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[(0,Oe.jsx)("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[o(e.status),(0,Oe.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${c(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),(0,Oe.jsxs)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Order #",e.id]})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsxs)("div",{className:"text-right",children:[(0,Oe.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Total"}),(0,Oe.jsxs)("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:["$",e.total.toFixed(2)]})]}),(0,Oe.jsxs)(Ae,{to:`/orders/${e.id}`,className:"inline-flex items-center px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[(0,Oe.jsx)(js,{className:"w-4 h-4 mr-1"}),"View Details"]})]})]})}),(0,Oe.jsxs)("div",{className:"p-6",children:[(0,Oe.jsxs)("div",{className:"space-y-4",children:[e.items.slice(0,3).map(e=>(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsx)("div",{className:"flex-shrink-0",children:(0,Oe.jsx)("div",{className:"w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:e.product.image?(0,Oe.jsx)("img",{src:e.product.image,alt:e.product.name,className:"w-full h-full object-cover rounded-lg"}):(0,Oe.jsx)(mt,{className:"w-6 h-6 text-gray-400 dark:text-gray-500"})})}),(0,Oe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Oe.jsx)("h4",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.product.name}),(0,Oe.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Qty: ",e.quantity]})]}),(0,Oe.jsx)("div",{className:"text-right",children:(0,Oe.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["$",e.total_price.toFixed(2)]})})]},e.id)),e.items.length>3&&(0,Oe.jsx)("div",{className:"text-center py-2",children:(0,Oe.jsxs)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["+",e.items.length-3," more items"]})})]}),(0,Oe.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between text-sm text-gray-500 dark:text-gray-400",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(uh,{className:"w-4 h-4 mr-1"}),(t=e.created_at,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}))]}),(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(ya,{className:"w-4 h-4 mr-1"}),e.total_items," items"]})]}),(0,Oe.jsx)("div",{className:"text-right",children:(0,Oe.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.shop.name})})]})})]})]},e.id);var t})})]})})},wh=()=>{const{productId:e}=se(),t=re(),[r,s]=(0,a.useState)(null),[n,i]=(0,a.useState)(null),[l,o]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)(!1),[m,g]=(0,a.useState)(1),[x,p]=(0,a.useState)(0),[f,y]=(0,a.useState)(!0),[b,v]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{if(e)try{y(!0);const[t,r]=await Promise.all([Le.productsAPI.getById(e),Le.reviewsAPI.getByProduct(e)]);s(t),i(t.shops[0]||null),o(r);try{const t=await Le.wishlistAPI.isInWishlist(e);h(t)}catch(b){console.error("Error checking wishlist status:",b)}if(t.category)try{const r=await Le.productsAPI.getByCategory(t.category.slug);d(r.filter(t=>t.productId!==e).slice(0,4))}catch(b){console.error("Error fetching related products:",b)}}catch(b){v("Product not found"),console.error("Error fetching product details:",b)}finally{y(!1)}})()},[e]);const w=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),j=()=>{if(0===l.length)return 0;return l.reduce((e,t)=>e+t.rating,0)/l.length};return f?(0,Oe.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-500"})}):!b&&r&&n?(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-8",children:[(0,Oe.jsxs)("button",{onClick:()=>t(-1),className:"flex items-center hover:text-primary-600",children:[(0,Oe.jsx)(Js,{className:"w-4 h-4 mr-1"}),"Back"]}),(0,Oe.jsx)("span",{children:"/"}),(0,Oe.jsx)("button",{onClick:()=>t("/shops"),className:"hover:text-primary-600",children:"Shops"}),(0,Oe.jsx)("span",{children:"/"}),(0,Oe.jsx)("button",{onClick:()=>t(`/shops/${n.slug}`),className:"hover:text-primary-600",children:n.name}),(0,Oe.jsx)("span",{children:"/"}),(0,Oe.jsx)("span",{className:"text-gray-900",children:r.name})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,Oe.jsx)("div",{className:"space-y-4",children:(0,Oe.jsx)("div",{className:"aspect-w-1 aspect-h-1 bg-gray-200 rounded-lg overflow-hidden",children:(0,Oe.jsx)("img",{src:r.image||"/placeholder-product.jpg",alt:r.name,className:"w-full h-full object-cover"})})}),(0,Oe.jsxs)("div",{className:"space-y-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-white rounded-lg shadow-sm",children:[(0,Oe.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center",children:n.logo?(0,Oe.jsx)("img",{src:n.logo,alt:n.name,className:"w-full h-full rounded-full object-cover"}):(0,Oe.jsx)("span",{className:"text-lg font-bold text-primary-600",children:n.name.charAt(0)})}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("h3",{className:"font-semibold text-gray-900",children:n.name}),(0,Oe.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Oe.jsx)(Kt,{className:"w-4 h-4 mr-1"}),n.city,", ",n.country]})]}),(0,Oe.jsx)("button",{onClick:()=>t(`/shops/${n.slug}`),className:"text-primary-600 hover:text-primary-700 font-medium",children:"View Shop"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:r.name}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center",children:[[1,2,3,4,5].map(e=>(0,Oe.jsx)(Ut,{className:"w-5 h-5 "+(e<=j()?"text-yellow-400 fill-current":"text-gray-300")},e)),(0,Oe.jsxs)("span",{className:"ml-2 text-gray-600",children:["(",l.length," reviews)"]})]}),(0,Oe.jsxs)("button",{onClick:async()=>{if(localStorage.getItem("access_token")){if(r)try{u?(await Le.wishlistAPI.removeProduct(r.productId),h(!1)):(await Le.wishlistAPI.addProduct(r.productId),h(!0))}catch(b){console.error("Error toggling wishlist:",b)}}else t("/login")},className:"flex items-center space-x-1 text-gray-600 hover:text-red-500",children:[u?(0,Oe.jsx)(ea,{className:"w-5 h-5 text-red-500"}):(0,Oe.jsx)(Rt,{className:"w-5 h-5"}),(0,Oe.jsx)("span",{children:u?"Wishlisted":"Add to Wishlist"})]})]})]}),(0,Oe.jsxs)("div",{className:"space-y-2",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)("span",{className:"text-3xl font-bold text-primary-600",children:w((()=>{if(!r)return 0;return(r.promotional_price||r.price)*(1-r.discount/100)})())}),r.discount>0&&(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)("span",{className:"text-xl text-gray-500 line-through",children:w(r.promotional_price||r.price)}),(0,Oe.jsxs)("span",{className:"bg-red-100 text-red-600 px-2 py-1 rounded text-sm font-semibold",children:[r.discount,"% OFF"]})]})]}),r.quantity>0?(0,Oe.jsxs)("p",{className:"text-green-600 text-sm",children:["In Stock (",r.quantity," available)"]}):(0,Oe.jsx)("p",{className:"text-red-600 text-sm",children:"Out of Stock"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),(0,Oe.jsx)("p",{className:"text-gray-600 leading-relaxed",children:r.description})]}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsx)("label",{className:"font-semibold text-gray-900",children:"Quantity:"}),(0,Oe.jsxs)("div",{className:"flex items-center border border-gray-300 rounded-lg",children:[(0,Oe.jsx)("button",{onClick:()=>g(Math.max(1,m-1)),className:"px-3 py-2 hover:bg-gray-100",children:"-"}),(0,Oe.jsx)("span",{className:"px-4 py-2 border-x border-gray-300",children:m}),(0,Oe.jsx)("button",{onClick:()=>g(Math.min(r.quantity,m+1)),className:"px-3 py-2 hover:bg-gray-100",children:"+"})]})]}),r&&n&&(0,Oe.jsx)(ta,{product:r,shop:n,quantity:m,className:"w-full py-3",onSuccess:()=>{console.log("Product added to cart successfully!")},onError:e=>{v(e)}})]}),(0,Oe.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Oe.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Contact Shop"}),(0,Oe.jsxs)("div",{className:"space-y-2",children:[n.phone&&(0,Oe.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Oe.jsx)(Es,{className:"w-4 h-4 mr-2"}),n.phone]}),n.email&&(0,Oe.jsxs)("div",{className:"flex items-center text-sm text-gray-600",children:[(0,Oe.jsx)(As,{className:"w-4 h-4 mr-2"}),n.email]}),(0,Oe.jsxs)("button",{onClick:()=>t(`/messages?shop=${n.shopId}`),className:"flex items-center text-primary-600 hover:text-primary-700 text-sm",children:[(0,Oe.jsx)(lt,{className:"w-4 h-4 mr-2"}),"Send Message to Shop"]})]})]})]})]}),l.length>0&&(0,Oe.jsxs)("div",{className:"mt-16",children:[(0,Oe.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Customer Reviews"}),(0,Oe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:l.map(e=>{var t,r;return(0,Oe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:(0,Oe.jsx)("span",{className:"text-sm font-semibold text-primary-600",children:(null===(t=e.user.first_name)||void 0===t?void 0:t.charAt(0))||(null===(r=e.user.username)||void 0===r?void 0:r.charAt(0))||"U"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsxs)("p",{className:"font-semibold text-gray-900",children:[e.user.first_name||e.user.username," ",e.user.last_name||""]}),(0,Oe.jsx)("p",{className:"text-sm text-gray-600",children:new Date(e.created_at).toLocaleDateString()})]})]}),(0,Oe.jsx)("div",{className:"flex items-center",children:[1,2,3,4,5].map(t=>(0,Oe.jsx)(Ut,{className:"w-4 h-4 "+(t<=e.rating?"text-yellow-400 fill-current":"text-gray-300")},t))})]}),(0,Oe.jsx)("p",{className:"text-gray-600",children:e.comment})]},e.id)})})]}),c.length>0&&(0,Oe.jsxs)("div",{className:"mt-16",children:[(0,Oe.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Related Products"}),(0,Oe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map(e=>(0,Oe.jsx)(sa,{product:e,shop:n,showShopInfo:!1},e.productId))})]})]})}):(0,Oe.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Product Not Found"}),(0,Oe.jsx)("button",{onClick:()=>t("/"),className:"bg-primary-600 text-white px-6 py-2 rounded-lg hover:bg-primary-700",children:"Go Home"})]})})},jh=()=>{const e=re(),[t,r]=(0,a.useState)(null),[s,n]=(0,a.useState)(!0),[i,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)({fullName:"",address:"",city:"",country:"",phone:"",email:""});(0,a.useEffect)(()=>{g()},[]);const g=async()=>{try{n(!0);const e=await Le.cartAPI.getCart();r(e)}catch(o){c(o instanceof Error?o.message:"Failed to load cart")}finally{n(!1)}},x=e=>{const{name:t,value:r}=e.target;m(e=>({...e,[t]:r}))};return s?(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-500"})}):o&&!t?(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Oe.jsx)(Ms,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Error Loading Cart"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:o}),(0,Oe.jsx)("button",{onClick:()=>e("/cart"),className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700",children:"Back to Cart"})]})}):t&&0!==t.items.length?d?(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"w-16 h-16 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Oe.jsx)(bt,{className:"w-8 h-8 text-green-600 dark:text-green-400"})}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Order Placed Successfully!"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Your order has been placed and is being processed."}),(0,Oe.jsx)("div",{className:"animate-pulse",children:(0,Oe.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Redirecting to orders page..."})})]})}):(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Oe.jsxs)("div",{className:"mb-8",children:[(0,Oe.jsxs)("button",{onClick:()=>e("/cart"),className:"inline-flex items-center text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4",children:[(0,Oe.jsx)(Js,{className:"w-4 h-4 mr-1"}),"Back to Cart"]}),(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Checkout"})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Oe.jsx)("div",{className:"lg:col-span-1",children:(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Order Summary"}),(0,Oe.jsx)("div",{className:"space-y-4 mb-6",children:t.items.map(e=>(0,Oe.jsxs)("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,Oe.jsx)("div",{className:"flex-shrink-0",children:(0,Oe.jsx)("div",{className:"w-16 h-16 bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:e.product.image?(0,Oe.jsx)("img",{src:e.product.image,alt:e.product.name,className:"w-full h-full object-cover rounded-lg"}):(0,Oe.jsx)(at,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})})}),(0,Oe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Oe.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.product.name}),(0,Oe.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.shop.name}),(0,Oe.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Qty: ",e.quantity]})]}),(0,Oe.jsx)("div",{className:"text-right",children:(0,Oe.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["$",e.total_price.toFixed(2)]})})]},e.id))}),(0,Oe.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-4",children:(0,Oe.jsxs)("div",{className:"space-y-2",children:[(0,Oe.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Oe.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Subtotal"}),(0,Oe.jsxs)("span",{className:"text-gray-900 dark:text-white",children:["$",t.total_price.toFixed(2)]})]}),(0,Oe.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Oe.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Shipping"}),(0,Oe.jsx)("span",{className:"text-gray-900 dark:text-white",children:"Free"})]}),(0,Oe.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Oe.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Tax"}),(0,Oe.jsx)("span",{className:"text-gray-900 dark:text-white",children:"$0.00"})]}),(0,Oe.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-2",children:(0,Oe.jsxs)("div",{className:"flex justify-between font-semibold",children:[(0,Oe.jsx)("span",{className:"text-gray-900 dark:text-white",children:"Total"}),(0,Oe.jsxs)("span",{className:"text-gray-900 dark:text-white",children:["$",t.total_price.toFixed(2)]})]})})]})})]})}),(0,Oe.jsx)("div",{className:"lg:col-span-1",children:(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Shipping Information"}),o&&(0,Oe.jsx)("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 mb-4",children:(0,Oe.jsx)("p",{className:"text-red-600 dark:text-red-400",children:o})}),(0,Oe.jsxs)("form",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name *"}),(0,Oe.jsx)("input",{type:"text",name:"fullName",value:h.fullName,onChange:x,required:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter your full name"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address *"}),(0,Oe.jsx)("input",{type:"text",name:"address",value:h.address,onChange:x,required:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter your address"})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"City *"}),(0,Oe.jsx)("input",{type:"text",name:"city",value:h.city,onChange:x,required:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter your city"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Country *"}),(0,Oe.jsx)("input",{type:"text",name:"country",value:h.country,onChange:x,required:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter your country"})]})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone Number *"}),(0,Oe.jsx)("input",{type:"tel",name:"phone",value:h.phone,onChange:x,required:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter your phone number"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email *"}),(0,Oe.jsx)("input",{type:"email",name:"email",value:h.email,onChange:x,required:!0,className:"w-full border border-gray-300 dark:border-gray-600 rounded-lg px-3 py-2 focus:ring-2 focus:ring-primary-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Enter your email"})]})]})]}),(0,Oe.jsxs)("div",{className:"mt-6",children:[(0,Oe.jsx)("h3",{className:"text-md font-medium text-gray-900 dark:text-white mb-3",children:"Payment Method"}),(0,Oe.jsxs)("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(Vt,{className:"w-5 h-5 text-gray-400 mr-2"}),(0,Oe.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Cash on Delivery (COD)"})]}),(0,Oe.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Pay when you receive your order"})]})]}),(0,Oe.jsx)("div",{className:"mt-6",children:(0,Oe.jsx)("button",{onClick:async()=>{if((()=>{const e=["fullName","address","city","country","phone","email"];for(const t of e)if(!h[t].trim())return c(`Please fill in your ${t.replace(/([A-Z])/g," $1").toLowerCase()}`),!1;return!0})())if(t&&0!==t.items.length)try{l(!0),c("");await Le.ordersAPI.createFromCart();u(!0),setTimeout(()=>{e("/orders")},2e3)}catch(o){c(o instanceof Error?o.message:"Failed to place order")}finally{l(!1)}else c("Your cart is empty")},disabled:i||!t||0===t.items.length,className:"w-full bg-primary-600 text-white py-3 px-4 rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",children:i?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Processing Order..."]}):(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)(bh,{className:"w-5 h-5 mr-2"}),"Place Order - $",null===t||void 0===t?void 0:t.total_price.toFixed(2)]})})}),(0,Oe.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-3 text-center",children:"By placing your order, you agree to our Terms of Service and Privacy Policy"})]})})]})]})}):(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,Oe.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Oe.jsx)(at,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Your cart is empty"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Add some items to your cart before proceeding to checkout."}),(0,Oe.jsx)("button",{onClick:()=>e("/shops"),className:"bg-primary-600 text-white px-6 py-3 rounded-lg hover:bg-primary-700 transition-colors",children:"Continue Shopping"})]})})})},kh=()=>{const{orderId:e}=se(),[t,r]=(0,a.useState)(null),[s,n]=(0,a.useState)(!0),[i,l]=(0,a.useState)("");(0,a.useEffect)(()=>{e&&o()},[e]);const o=async()=>{try{n(!0);const t=await Le.ordersAPI.getOrderDetails(parseInt(e));r(t)}catch(i){l(i instanceof Error?i.message:"Failed to load order details")}finally{n(!1)}},c=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return s?(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary-500"})}):i||!t?(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Oe.jsx)(ch,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"Order Not Found"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:i||"The order you are looking for does not exist."}),(0,Oe.jsx)(Ae,{to:"/orders",className:"bg-primary-600 text-white px-4 py-2 rounded-lg hover:bg-primary-700",children:"Back to Orders"})]})}):(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,Oe.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Oe.jsxs)("div",{className:"mb-8",children:[(0,Oe.jsxs)(Ae,{to:"/orders",className:"inline-flex items-center text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white mb-4",children:[(0,Oe.jsx)(Js,{className:"w-4 h-4 mr-1"}),"Back to Orders"]}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["Order #",t.id]}),(0,Oe.jsxs)("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:["Placed on ",c(t.created_at)]})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(e=>{switch(e){case"pending":return(0,Oe.jsx)(pa,{className:"w-6 h-6 text-yellow-500"});case"paid":return(0,Oe.jsx)(We,{className:"w-6 h-6 text-green-500"});case"shipped":return(0,Oe.jsx)(bh,{className:"w-6 h-6 text-blue-500"});case"delivered":return(0,Oe.jsx)(We,{className:"w-6 h-6 text-green-600"});case"cancelled":return(0,Oe.jsx)(ch,{className:"w-6 h-6 text-red-500"});default:return(0,Oe.jsx)(pa,{className:"w-6 h-6 text-gray-500"})}})(t.status),(0,Oe.jsx)("span",{className:`px-4 py-2 rounded-full text-sm font-medium ${(e=>{switch(e){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400";case"paid":case"delivered":return"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400";case"shipped":return"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400";case"cancelled":return"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400"}})(t.status)}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]})]})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Oe.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-3",children:"Order Status"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:(e=>{switch(e){case"pending":return"Your order is being processed and will be confirmed soon.";case"paid":return"Payment received! Your order is being prepared for shipping.";case"shipped":return"Your order is on its way! Track your package for delivery updates.";case"delivered":return"Your order has been delivered successfully. Enjoy your purchase!";case"cancelled":return"This order has been cancelled. Please contact support if you have questions.";default:return"Order status is being updated."}})(t.status)})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Order Items"}),(0,Oe.jsx)("div",{className:"space-y-4",children:t.items.map(e=>(0,Oe.jsxs)("div",{className:"flex items-center space-x-4 p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,Oe.jsx)("div",{className:"flex-shrink-0",children:(0,Oe.jsx)("div",{className:"w-20 h-20 bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center",children:e.product.image?(0,Oe.jsx)("img",{src:e.product.image,alt:e.product.name,className:"w-full h-full object-cover rounded-lg"}):(0,Oe.jsx)(mt,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})})}),(0,Oe.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Oe.jsx)("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.product.name}),(0,Oe.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Quantity: ",e.quantity]}),(0,Oe.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Price: $",(e.total_price/e.quantity).toFixed(2)," each"]})]}),(0,Oe.jsx)("div",{className:"text-right",children:(0,Oe.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["$",e.total_price.toFixed(2)]})})]},e.id))})]})]}),(0,Oe.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Shop Information"}),(0,Oe.jsxs)("div",{className:"space-y-3",children:[(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)("div",{className:"w-12 h-12 bg-gray-200 dark:bg-gray-700 rounded-lg flex items-center justify-center mr-3",children:t.shop.logo?(0,Oe.jsx)("img",{src:t.shop.logo,alt:t.shop.name,className:"w-full h-full object-cover rounded-lg"}):(0,Oe.jsx)(mt,{className:"w-6 h-6 text-gray-400 dark:text-gray-500"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white",children:t.shop.name}),(0,Oe.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:t.shop.description})]})]}),t.shop.location&&(0,Oe.jsxs)("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[(0,Oe.jsx)(Kt,{className:"w-4 h-4 mr-2"}),t.shop.location]}),t.shop.phone&&(0,Oe.jsxs)("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[(0,Oe.jsx)(Es,{className:"w-4 h-4 mr-2"}),t.shop.phone]}),t.shop.email&&(0,Oe.jsxs)("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-400",children:[(0,Oe.jsx)(As,{className:"w-4 h-4 mr-2"}),t.shop.email]})]})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Order Summary"}),(0,Oe.jsxs)("div",{className:"space-y-3",children:[(0,Oe.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Oe.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:["Items (",t.total_items,")"]}),(0,Oe.jsxs)("span",{className:"text-gray-900 dark:text-white",children:["$",t.total.toFixed(2)]})]}),(0,Oe.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Oe.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Shipping"}),(0,Oe.jsx)("span",{className:"text-gray-900 dark:text-white",children:"Free"})]}),(0,Oe.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,Oe.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Tax"}),(0,Oe.jsx)("span",{className:"text-gray-900 dark:text-white",children:"$0.00"})]}),(0,Oe.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-3",children:(0,Oe.jsxs)("div",{className:"flex justify-between font-semibold",children:[(0,Oe.jsx)("span",{className:"text-gray-900 dark:text-white",children:"Total"}),(0,Oe.jsxs)("span",{className:"text-gray-900 dark:text-white",children:["$",t.total.toFixed(2)]})]})})]})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Order Timeline"}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{className:"flex items-start",children:[(0,Oe.jsx)("div",{className:"flex-shrink-0",children:(0,Oe.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full mt-2"})}),(0,Oe.jsxs)("div",{className:"ml-3",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Order Placed"}),(0,Oe.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:c(t.created_at)})]})]}),"pending"!==t.status&&(0,Oe.jsxs)("div",{className:"flex items-start",children:[(0,Oe.jsx)("div",{className:"flex-shrink-0",children:(0,Oe.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full mt-2"})}),(0,Oe.jsxs)("div",{className:"ml-3",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Order Confirmed"}),(0,Oe.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Payment received"})]})]}),["shipped","delivered"].includes(t.status)&&(0,Oe.jsxs)("div",{className:"flex items-start",children:[(0,Oe.jsx)("div",{className:"flex-shrink-0",children:(0,Oe.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full mt-2"})}),(0,Oe.jsxs)("div",{className:"ml-3",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Order Shipped"}),(0,Oe.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"On its way to you"})]})]}),"delivered"===t.status&&(0,Oe.jsxs)("div",{className:"flex items-start",children:[(0,Oe.jsx)("div",{className:"flex-shrink-0",children:(0,Oe.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full mt-2"})}),(0,Oe.jsxs)("div",{className:"ml-3",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Order Delivered"}),(0,Oe.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Enjoy your purchase!"})]})]}),"cancelled"===t.status&&(0,Oe.jsxs)("div",{className:"flex items-start",children:[(0,Oe.jsx)("div",{className:"flex-shrink-0",children:(0,Oe.jsx)("div",{className:"w-3 h-3 bg-red-500 rounded-full mt-2"})}),(0,Oe.jsxs)("div",{className:"ml-3",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Order Cancelled"}),(0,Oe.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Order has been cancelled"})]})]})]})]})]})]})]})})},Nh=()=>(0,Oe.jsx)(wa,{});function Sh(e,t){let{title:r,titleId:s,...n}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},n),r?a.createElement("title",{id:s},r):null,a.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const _h=a.forwardRef(Sh),Ch=()=>{const[e,t]=(0,a.useState)([{id:"1",name:"Wireless Bluetooth Headphones",description:"High-quality wireless headphones with noise cancellation",price:89.99,originalPrice:129.99,image:"https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=400&h=400&fit=crop",rating:4.5,reviewCount:128,category:"Electronics",shop:"TechStore",inStock:!0,isWishlisted:!1},{id:"2",name:"Organic Cotton T-Shirt",description:"Comfortable and eco-friendly cotton t-shirt",price:24.99,image:"https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400&h=400&fit=crop",rating:4.2,reviewCount:89,category:"Clothing",shop:"EcoFashion",inStock:!0,isWishlisted:!0},{id:"3",name:"Smart Fitness Watch",description:"Track your health and fitness with this smart watch",price:199.99,originalPrice:249.99,image:"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=400&fit=crop",rating:4.7,reviewCount:256,category:"Electronics",shop:"TechStore",inStock:!0,isWishlisted:!1},{id:"4",name:"Handcrafted Ceramic Mug",description:"Beautiful handcrafted ceramic coffee mug",price:18.99,image:"https://images.unsplash.com/photo-1514228742587-6b1558fcca3d?w=400&h=400&fit=crop",rating:4.8,reviewCount:67,category:"Home & Garden",shop:"ArtisanCrafts",inStock:!0,isWishlisted:!1},{id:"5",name:"Leather Crossbody Bag",description:"Stylish and practical leather crossbody bag",price:79.99,image:"https://images.unsplash.com/photo-1548036328-c9fa89d128fa?w=400&h=400&fit=crop",rating:4.3,reviewCount:142,category:"Fashion",shop:"LuxuryBags",inStock:!1,isWishlisted:!0},{id:"6",name:"Natural Face Cream",description:"Hydrating face cream with natural ingredients",price:34.99,image:"https://images.unsplash.com/photo-1556228720-195a672e8a03?w=400&h=400&fit=crop",rating:4.6,reviewCount:203,category:"Beauty",shop:"NaturalBeauty",inStock:!0,isWishlisted:!1}]),[r,s]=(0,a.useState)(""),[n,i]=(0,a.useState)("All"),[l,o]=(0,a.useState)("featured"),[c,d]=(0,a.useState)("grid"),[u,h]=(0,a.useState)([0,500]),m=[...e.filter(e=>{const t=e.name.toLowerCase().includes(r.toLowerCase())||e.description.toLowerCase().includes(r.toLowerCase()),s="All"===n||e.category===n,a=e.price>=u[0]&&e.price<=u[1];return t&&s&&a})].sort((e,t)=>{switch(l){case"price-low":return e.price-t.price;case"price-high":return t.price-e.price;case"rating":return t.rating-e.rating;case"newest":return t.id.localeCompare(e.id);default:return 0}});return(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto px-2",children:[(0,Oe.jsxs)("div",{className:"mb-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,Oe.jsx)("div",{className:"p-2 rounded-lg bg-gradient-to-r from-green-500 to-blue-600",children:(0,Oe.jsx)(La,{className:"w-6 h-6 text-white"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Products"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Discover amazing products from our sellers"})]})]}),(0,Oe.jsxs)("div",{className:"flex flex-col lg:flex-row gap-2",children:[(0,Oe.jsxs)("div",{className:"flex-1 relative",children:[(0,Oe.jsx)(Ct,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,Oe.jsx)("input",{type:"text",placeholder:"Search products...",value:r,onChange:e=>s(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,Oe.jsx)("select",{value:n,onChange:e=>i(e.target.value),className:"px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:["All","Electronics","Clothing","Home & Garden","Fashion","Beauty"].map(e=>(0,Oe.jsx)("option",{value:e,children:e},e))}),(0,Oe.jsxs)("select",{value:l,onChange:e=>o(e.target.value),className:"px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,Oe.jsx)("option",{value:"featured",children:"Featured"}),(0,Oe.jsx)("option",{value:"price-low",children:"Price: Low to High"}),(0,Oe.jsx)("option",{value:"price-high",children:"Price: High to Low"}),(0,Oe.jsx)("option",{value:"rating",children:"Highest Rated"}),(0,Oe.jsx)("option",{value:"newest",children:"Newest"})]}),(0,Oe.jsxs)("div",{className:"flex border border-gray-300 dark:border-gray-600 rounded-xl overflow-hidden",children:[(0,Oe.jsx)("button",{onClick:()=>d("grid"),className:"p-3 "+("grid"===c?"bg-blue-500 text-white":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400"),children:(0,Oe.jsx)(La,{className:"w-5 h-5"})}),(0,Oe.jsx)("button",{onClick:()=>d("list"),className:"p-3 "+("list"===c?"bg-blue-500 text-white":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400"),children:(0,Oe.jsx)(Xa,{className:"w-5 h-5"})})]})]})]}),(0,Oe.jsx)("div",{className:"mb-4",children:(0,Oe.jsxs)("p",{className:"text-gray-600 dark:text-gray-400",children:["Showing ",m.length," of ",e.length," products"]})}),0===m.length?(0,Oe.jsxs)("div",{className:"text-center py-8",children:[(0,Oe.jsx)(La,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-3"}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No products found"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Try adjusting your search or filter criteria"})]}):(0,Oe.jsx)("div",{className:"grid"===c?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4":"space-y-3",children:m.map(e=>{return(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm hover:shadow-md transition-all duration-200 overflow-hidden "+("list"===c?"flex":""),children:[(0,Oe.jsxs)("div",{className:"relative "+("list"===c?"w-48 flex-shrink-0":""),children:[(0,Oe.jsx)("img",{src:e.image,alt:e.name,className:"w-full object-cover "+("list"===c?"h-32":"h-48")}),!e.inStock&&(0,Oe.jsx)("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:"Out of Stock"}),e.originalPrice&&(0,Oe.jsxs)("div",{className:"absolute top-2 right-2 bg-green-500 text-white px-2 py-1 rounded-full text-xs font-medium",children:[Math.round((e.originalPrice-e.price)/e.originalPrice*100),"% OFF"]})]}),(0,Oe.jsxs)("div",{className:"p-3 flex-1 "+("list"===c?"flex flex-col justify-between":""),children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1 line-clamp-2",children:e.name}),(0,Oe.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 line-clamp-2",children:e.description}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-1 mb-2",children:[(0,Oe.jsx)("div",{className:"flex",children:(r=e.rating,Array.from({length:5},(e,t)=>(0,Oe.jsx)("span",{children:t<Math.floor(r)?(0,Oe.jsx)(_h,{className:"w-4 h-4 text-yellow-400"}):(0,Oe.jsx)(Ut,{className:"w-4 h-4 text-gray-300"})},t)))}),(0,Oe.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:["(",e.reviewCount,")"]})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Oe.jsxs)("span",{className:"text-lg font-bold text-gray-900 dark:text-white",children:["$",e.price]}),e.originalPrice&&(0,Oe.jsxs)("span",{className:"text-sm text-gray-500 line-through",children:["$",e.originalPrice]})]}),(0,Oe.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-2",children:["by ",e.shop]})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsxs)("button",{onClick:()=>{return t=e.id,void console.log("Adding to cart:",t);var t},disabled:!e.inStock,className:"flex-1 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 text-white px-3 py-1.5 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[(0,Oe.jsx)(at,{className:"w-3 h-3"}),(0,Oe.jsx)("span",{children:e.inStock?"Add to Cart":"Out of Stock"})]}),(0,Oe.jsx)("button",{onClick:()=>{return r=e.id,void t(e=>e.map(e=>e.id===r?{...e,isWishlisted:!e.isWishlisted}:e));var r},className:"p-1.5 rounded-lg transition-colors "+(e.isWishlisted?"bg-red-100 text-red-600 dark:bg-red-900/20":"bg-gray-100 text-gray-600 dark:bg-gray-700 hover:bg-red-100 hover:text-red-600"),children:(0,Oe.jsx)(Rt,{className:"w-3 h-3 "+(e.isWishlisted?"fill-current":"")})})]})]})]},e.id);var r})})]})},Eh=()=>{const[e,t]=(0,a.useState)([{id:"1",title:"Order Shipped",message:"Your order #12345 has been shipped and is on its way to you.",type:"success",timestamp:new Date(Date.now()-18e5),isRead:!1},{id:"2",title:"New Message",message:"You have a new message from Shop ABC regarding your recent purchase.",type:"info",timestamp:new Date(Date.now()-72e5),isRead:!1},{id:"3",title:"Payment Failed",message:"Your payment for order #12346 could not be processed. Please try again.",type:"error",timestamp:new Date(Date.now()-864e5),isRead:!0},{id:"4",title:"Price Drop Alert",message:"An item in your wishlist has dropped in price! Check it out now.",type:"warning",timestamp:new Date(Date.now()-1728e5),isRead:!0}]),[r,s]=(0,a.useState)("all"),n=()=>{switch(r){case"unread":return e.filter(e=>!e.isRead);case"read":return e.filter(e=>e.isRead);default:return e}},i=e=>{switch(e){case"success":return(0,Oe.jsx)(bt,{className:"w-5 h-5 text-green-500"});case"error":return(0,Oe.jsx)(Ms,{className:"w-5 h-5 text-red-500"});case"warning":return(0,Oe.jsx)(Ms,{className:"w-5 h-5 text-yellow-500"});default:return(0,Oe.jsx)(Ea,{className:"w-5 h-5 text-blue-500"})}},l=e=>{switch(e){case"success":return"border-l-green-500 bg-green-50 dark:bg-green-900/10";case"error":return"border-l-red-500 bg-red-50 dark:bg-red-900/10";case"warning":return"border-l-yellow-500 bg-yellow-50 dark:bg-yellow-900/10";default:return"border-l-blue-500 bg-blue-50 dark:bg-blue-900/10"}},o=e=>{const t=new Date,r=Math.floor((t.getTime()-e.getTime())/6e4);if(r<1)return"Just now";if(r<60)return`${r}m ago`;const s=Math.floor(r/60);if(s<24)return`${s}h ago`;const a=Math.floor(s/24);return a<7?`${a}d ago`:e.toLocaleDateString()},c=e.filter(e=>!e.isRead).length;return(0,Oe.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,Oe.jsx)("div",{className:"mb-8",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,Oe.jsx)("div",{className:"p-3 rounded-xl bg-gradient-to-r from-blue-500 to-purple-600",children:(0,Oe.jsx)(et,{className:"w-8 h-8 text-white"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Notifications"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Stay updated with your latest activities"})]})]}),c>0&&(0,Oe.jsx)("button",{onClick:()=>{t(e=>e.map(e=>({...e,isRead:!0})))},className:"px-4 py-2 text-sm font-medium text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors",children:"Mark all as read"})]})}),(0,Oe.jsx)("div",{className:"mb-6",children:(0,Oe.jsx)("div",{className:"flex space-x-2",children:[{key:"all",label:"All",count:e.length},{key:"unread",label:"Unread",count:c},{key:"read",label:"Read",count:e.length-c}].map(e=>{let{key:t,label:a,count:n}=e;return(0,Oe.jsxs)("button",{onClick:()=>s(t),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors "+(r===t?"bg-blue-500 text-white":"text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800"),children:[a," (",n,")"]},t)})})}),(0,Oe.jsx)("div",{className:"space-y-4",children:0===n().length?(0,Oe.jsxs)("div",{className:"text-center py-12",children:[(0,Oe.jsx)(et,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),(0,Oe.jsx)("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No notifications"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"all"===r?"You're all caught up! No notifications yet.":`No ${r} notifications to show.`})]}):n().map(e=>(0,Oe.jsxs)("div",{className:`relative p-6 rounded-xl border-l-4 transition-all duration-200 hover:shadow-md ${e.isRead?"opacity-75":"ring-2 ring-blue-500/20"} ${l(e.type)}`,children:[(0,Oe.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,Oe.jsx)("div",{className:"flex-shrink-0 mt-1",children:i(e.type)}),(0,Oe.jsx)("div",{className:"flex-1 min-w-0",children:(0,Oe.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold "+(e.isRead?"text-gray-700 dark:text-gray-300":"text-gray-900 dark:text-white"),children:e.title}),(0,Oe.jsx)("p",{className:"mt-1 text-gray-600 dark:text-gray-400",children:e.message}),(0,Oe.jsx)("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-500",children:o(e.timestamp)})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[!e.isRead&&(0,Oe.jsx)("button",{onClick:()=>{return r=e.id,void t(e=>e.map(e=>e.id===r?{...e,isRead:!0}:e));var r},className:"p-1 text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 rounded transition-colors",title:"Mark as read",children:(0,Oe.jsx)(bt,{className:"w-4 h-4"})}),(0,Oe.jsx)("button",{onClick:()=>{return r=e.id,void t(e=>e.filter(e=>e.id!==r));var r},className:"p-1 text-gray-400 hover:text-red-600 dark:hover:text-red-400 rounded transition-colors",title:"Delete notification",children:(0,Oe.jsx)(qe,{className:"w-4 h-4"})})]})]})})]}),!e.isRead&&(0,Oe.jsx)("div",{className:"absolute top-4 right-4 w-2 h-2 bg-blue-500 rounded-full animate-pulse"})]},e.id))})]})},Ph=()=>{const[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)([]),[n,i]=(0,a.useState)([]),[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)(null),[m,g]=(0,a.useState)(!1),[x,p]=(0,a.useState)({shop_id:"",products:[{product_id:"",quantity:1}]});(0,a.useEffect)(()=>{const e=localStorage.getItem("access_token");g(!!e)},[]);const f=(0,a.useCallback)(async()=>{if(m)try{o(!0);const[e,r,a]=await Promise.all([Le.ordersAPI.getAll(),Le.productsAPI.getAll(),Le.shopsAPI.getAll()]);t(e),s(r.results||r),i(Array.isArray(a)?a:[])}catch(e){y({success:!1,message:"Failed to fetch initial data",error:e instanceof Error?e.message:"Unknown error"})}finally{o(!1)}else y({success:!1,message:"Authentication required",error:"Please log in to access the API"})},[m]);(0,a.useEffect)(()=>{m&&f()},[m,f]);const y=e=>{d(t=>[e,...t.slice(0,9)])},b=(e,t,r)=>{p(s=>({...s,products:s.products.map((s,a)=>a===e?{...s,[t]:r}:s)}))};return(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto",children:[!m&&(0,Oe.jsx)("div",{className:"mb-6 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(Ms,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mr-3"}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Authentication Required"}),(0,Oe.jsx)("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"Please log in to access the Order API testing features. All API endpoints require authentication."}),(0,Oe.jsx)("div",{className:"mt-3",children:(0,Oe.jsx)("a",{href:"/login",className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-yellow-800 bg-yellow-100 hover:bg-yellow-200 dark:bg-yellow-800 dark:text-yellow-200 dark:hover:bg-yellow-700",children:"Go to Login"})})]})]})}),(0,Oe.jsxs)("div",{className:"mb-8",children:[(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Order API Testing Dashboard"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Test all order-related API endpoints and monitor results"})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Oe.jsxs)("div",{className:"space-y-6",children:[(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"API Test Controls"}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("button",{onClick:async()=>{try{o(!0);const e=await Le.shopsAPI.search("test","");y({success:!0,message:`API connection successful. Found ${e.length} shops in search results.`,data:e})}catch(e){y({success:!1,message:"API connection failed",error:e instanceof Error?e.message:"Unknown error"})}finally{o(!1)}},disabled:l,className:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[(0,Oe.jsx)(va,{className:"w-4 h-4 mr-2"}),"Test API Connection"]}),(0,Oe.jsxs)("button",{onClick:async()=>{if(m)try{o(!0);const e=await Le.ordersAPI.getAll();t(e),y({success:!0,message:`Successfully fetched ${e.length} orders`,data:e})}catch(e){y({success:!1,message:"Failed to fetch orders",error:e instanceof Error?e.message:"Unknown error"})}finally{o(!1)}else y({success:!1,message:"Authentication required",error:"Please log in to access the API"})},disabled:l||!m,className:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[(0,Oe.jsx)(js,{className:"w-4 h-4 mr-2"}),"Test Get All Orders"]}),(0,Oe.jsxs)("button",{onClick:async()=>{if(m)try{o(!0);const e=await Le.ordersAPI.createFromCart();t(t=>[...e,...t]),y({success:!0,message:`Successfully created ${e.length} orders from cart`,data:e})}catch(e){y({success:!1,message:"Failed to create order from cart",error:e instanceof Error?e.message:"Unknown error"})}finally{o(!1)}else y({success:!1,message:"Authentication required",error:"Please log in to access the API"})},disabled:l||!m,className:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[(0,Oe.jsx)(mt,{className:"w-4 h-4 mr-2"}),"Test Create Order from Cart"]}),(0,Oe.jsxs)("button",{onClick:f,disabled:l||!m,className:"w-full flex items-center justify-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50",children:[(0,Oe.jsx)(va,{className:"w-4 h-4 mr-2"}),"Refresh Data"]})]})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Create Direct Order"}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Shop"}),(0,Oe.jsxs)("select",{value:x.shop_id,onChange:e=>p(t=>({...t,shop_id:e.target.value})),disabled:!m,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Oe.jsx)("option",{value:"",children:"Select a shop"}),n.map(e=>(0,Oe.jsx)("option",{value:e.shopId,children:e.name},e.shopId))]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Products"}),x.products.map((e,t)=>(0,Oe.jsxs)("div",{className:"flex space-x-2 mb-2",children:[(0,Oe.jsxs)("select",{value:e.product_id,onChange:e=>b(t,"product_id",e.target.value),disabled:!m,className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Oe.jsx)("option",{value:"",children:"Select a product"}),r.map(e=>(0,Oe.jsxs)("option",{value:e.productId,children:[e.name," - $",e.price]},e.productId))]}),(0,Oe.jsx)("input",{type:"number",value:e.quantity,onChange:e=>b(t,"quantity",parseInt(e.target.value)||1),min:"1",disabled:!m,className:"w-20 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50 disabled:cursor-not-allowed"}),(0,Oe.jsx)("button",{onClick:()=>(e=>{p(t=>({...t,products:t.products.filter((t,r)=>r!==e)}))})(t),disabled:!m,className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,Oe.jsx)(ha,{className:"w-4 h-4"})})]},t)),(0,Oe.jsxs)("button",{onClick:()=>{p(e=>({...e,products:[...e.products,{product_id:"",quantity:1}]}))},disabled:!m,className:"flex items-center px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,Oe.jsx)(wt,{className:"w-4 h-4 mr-1"}),"Add Product"]})]}),(0,Oe.jsxs)("button",{onClick:async()=>{if(m)try{o(!0);const e={shop_id:x.shop_id,items:x.products.map(e=>({product_id:e.product_id,quantity:e.quantity}))},r=await Le.ordersAPI.create(e);t(e=>[r,...e]),y({success:!0,message:`Successfully created order #${r.id}`,data:r}),p({shop_id:"",products:[{product_id:"",quantity:1}]})}catch(e){y({success:!1,message:"Failed to create direct order",error:e instanceof Error?e.message:"Unknown error"})}finally{o(!1)}else y({success:!1,message:"Authentication required",error:"Please log in to access the API"})},disabled:l||!m||!x.shop_id||x.products.some(e=>!e.product_id),className:"w-full flex items-center justify-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:[(0,Oe.jsx)(wt,{className:"w-4 h-4 mr-2"}),"Test Create Direct Order"]})]})]})]}),(0,Oe.jsx)("div",{className:"space-y-6",children:(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Test Results"}),(0,Oe.jsx)("button",{onClick:()=>{d([])},className:"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"Clear"})]}),(0,Oe.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:0===c.length?(0,Oe.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No test results yet. Run some tests to see results here."}):c.map((e,t)=>(0,Oe.jsx)("div",{className:"p-3 rounded-lg border "+(e.success?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"),children:(0,Oe.jsxs)("div",{className:"flex items-start",children:[e.success?(0,Oe.jsx)(We,{className:"w-5 h-5 text-green-500 mt-0.5 mr-2"}):(0,Oe.jsx)(ch,{className:"w-5 h-5 text-red-500 mt-0.5 mr-2"}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium "+(e.success?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"),children:e.message}),e.error&&(0,Oe.jsxs)("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:["Error: ",e.error]}),e.data&&(0,Oe.jsxs)("details",{className:"mt-2",children:[(0,Oe.jsx)("summary",{className:"text-xs text-gray-500 dark:text-gray-400 cursor-pointer",children:"View Response Data"}),(0,Oe.jsx)("pre",{className:"text-xs bg-gray-100 dark:bg-gray-700 p-2 rounded mt-1 overflow-x-auto",children:JSON.stringify(e.data,null,2)})]})]})]})},t))})]})})]}),(0,Oe.jsxs)("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Orders (",e.length,")"]}),l?(0,Oe.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-500"})}):0===e.length?(0,Oe.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No orders found. Create some orders to see them here."}):(0,Oe.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,Oe.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Oe.jsxs)("h3",{className:"font-medium text-gray-900 dark:text-white",children:["Order #",e.id]}),(0,Oe.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full "+("pending"===e.status?"bg-yellow-100 text-yellow-800":"paid"===e.status?"bg-green-100 text-green-800":"shipped"===e.status?"bg-blue-100 text-blue-800":"delivered"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status})]}),(0,Oe.jsx)("div",{className:"flex items-center space-x-2",children:(0,Oe.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["$",e.total.toFixed(2)]})})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsxs)("button",{onClick:()=>(async e=>{if(m)try{o(!0);const t=await Le.ordersAPI.getById(e);h(t),y({success:!0,message:`Successfully fetched order details for order #${e}`,data:t})}catch(t){y({success:!1,message:`Failed to fetch order details for order #${e}`,error:t instanceof Error?t.message:"Unknown error"})}finally{o(!1)}else y({success:!1,message:"Authentication required",error:"Please log in to access the API"})})(e.id),className:"flex items-center px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:[(0,Oe.jsx)(js,{className:"w-3 h-3 mr-1"}),"Details"]}),(0,Oe.jsxs)("button",{onClick:()=>(async e=>{if(m)try{o(!0);const t=await Le.ordersAPI.getOrderDetails(e);y({success:!0,message:`Successfully fetched order details (alt) for order #${e}`,data:t})}catch(t){y({success:!1,message:`Failed to fetch order details (alt) for order #${e}`,error:t instanceof Error?t.message:"Unknown error"})}finally{o(!1)}else y({success:!1,message:"Authentication required",error:"Please log in to access the API"})})(e.id),className:"flex items-center px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-700",children:[(0,Oe.jsx)(js,{className:"w-3 h-3 mr-1"}),"Details (Alt)"]}),(0,Oe.jsxs)("select",{onChange:r=>(async(e,r)=>{if(m)try{o(!0);const s=await Le.ordersAPI.updateStatus(e,r);t(t=>t.map(t=>t.id===e?s:t)),y({success:!0,message:`Successfully updated order #${e} status to ${r}`,data:s})}catch(s){y({success:!1,message:`Failed to update order #${e} status`,error:s instanceof Error?s.message:"Unknown error"})}finally{o(!1)}else y({success:!1,message:"Authentication required",error:"Please log in to access the API"})})(e.id,r.target.value),className:"px-3 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700",children:[(0,Oe.jsx)("option",{value:"",children:"Update Status"}),(0,Oe.jsx)("option",{value:"pending",children:"Pending"}),(0,Oe.jsx)("option",{value:"paid",children:"Paid"}),(0,Oe.jsx)("option",{value:"shipped",children:"Shipped"}),(0,Oe.jsx)("option",{value:"delivered",children:"Delivered"}),(0,Oe.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,Oe.jsxs)("div",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,Oe.jsxs)("p",{children:["Shop: ",e.shop.name]}),(0,Oe.jsxs)("p",{children:["Items: ",e.total_items]}),(0,Oe.jsxs)("p",{children:["Created: ",new Date(e.created_at).toLocaleDateString()]})]})]},e.id))})]}),u&&(0,Oe.jsxs)("div",{className:"mt-8 bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Selected Order Details"}),(0,Oe.jsx)("button",{onClick:()=>h(null),className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:(0,Oe.jsx)(ch,{className:"w-5 h-5"})})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Order Information"}),(0,Oe.jsxs)("div",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"ID:"})," ",u.id]}),(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Status:"})," ",u.status]}),(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Total:"})," $",u.total.toFixed(2)]}),(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Items:"})," ",u.total_items]}),(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Created:"})," ",new Date(u.created_at).toLocaleString()]})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Shop Information"}),(0,Oe.jsxs)("div",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Name:"})," ",u.shop.name]}),(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Location:"})," ",u.shop.location]}),(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Phone:"})," ",u.shop.phone||"N/A"]}),(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Email:"})," ",u.shop.email||"N/A"]})]})]})]}),(0,Oe.jsxs)("div",{className:"mt-4",children:[(0,Oe.jsx)("h3",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Order Items"}),(0,Oe.jsx)("div",{className:"space-y-2",children:u.items.map(e=>(0,Oe.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.product.name}),(0,Oe.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Qty: ",e.quantity]})]}),(0,Oe.jsxs)("p",{className:"font-medium text-gray-900 dark:text-white",children:["$",e.total_price.toFixed(2)]})]},e.id))})]})]})]})})},Ah=()=>{const[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(!1),[n,i]=(0,a.useState)([]),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(""),[u,h]=(0,a.useState)([]),[m,g]=(0,a.useState)([]),[x,p]=(0,a.useState)(null),f=e=>{i(t=>[e,...t.slice(0,9)])},y=(0,a.useCallback)(async()=>{try{s(!0);const e=await Le.categoriesAPI.getAll();t(e),f({success:!0,message:`Successfully fetched ${e.length} categories`,data:e})}catch(e){f({success:!1,message:"Failed to fetch categories",error:e instanceof Error?e.message:"Unknown error"})}finally{s(!1)}},[]);return(0,a.useEffect)(()=>{y()},[y]),(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Oe.jsxs)("div",{className:"mb-8",children:[(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Categories API Testing Dashboard"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Test all category-related API endpoints and monitor results"})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Oe.jsxs)("div",{className:"space-y-6",children:[(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"API Test Controls"}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("button",{onClick:y,disabled:r,className:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[(0,Oe.jsx)(Qe,{className:"w-4 h-4 mr-2"}),"Test Get All Categories"]}),(0,Oe.jsxs)("button",{onClick:async()=>{try{s(!0);const e=await Le.categoriesAPI.getStats();p(e),f({success:!0,message:`Successfully fetched stats for ${e.total_categories} categories`,data:e})}catch(e){f({success:!1,message:"Failed to fetch category statistics",error:e instanceof Error?e.message:"Unknown error"})}finally{s(!1)}},disabled:r,className:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[(0,Oe.jsx)(Ot,{className:"w-4 h-4 mr-2"}),"Test Get Category Statistics"]}),(0,Oe.jsxs)("button",{onClick:()=>y(),disabled:r,className:"w-full flex items-center justify-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50",children:[(0,Oe.jsx)(va,{className:"w-4 h-4 mr-2"}),"Refresh Data"]})]})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Search Categories"}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Search Query"}),(0,Oe.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),placeholder:"Enter category name to search...",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,Oe.jsxs)("button",{onClick:async()=>{if(c.trim())try{s(!0);const e=await Le.categoriesAPI.search(c);f({success:!0,message:`Found ${e.length} categories matching "${c}"`,data:e})}catch(e){f({success:!1,message:"Failed to search categories",error:e instanceof Error?e.message:"Unknown error"})}finally{s(!1)}else f({success:!1,message:"Search query is required",error:"Please enter a search term"})},disabled:r||!c.trim(),className:"w-full flex items-center justify-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:[(0,Oe.jsx)(Ct,{className:"w-4 h-4 mr-2"}),"Test Search Categories"]})]})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Category Actions"}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Select Category"}),(0,Oe.jsxs)("select",{onChange:t=>{const r=e.find(e=>e.id===parseInt(t.target.value));o(r||null)},className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,Oe.jsx)("option",{value:"",children:"Choose a category"}),e.map(e=>(0,Oe.jsxs)("option",{value:e.id,children:[e.name," (ID: ",e.id,")"]},e.id))]})]}),l&&(0,Oe.jsxs)("div",{className:"space-y-2",children:[(0,Oe.jsxs)("button",{onClick:()=>(async e=>{try{s(!0);const t=await Le.categoriesAPI.getProducts(e);h(t.products),o(t.category),f({success:!0,message:`Found ${t.count} products in category "${t.category.name}"`,data:t})}catch(t){f({success:!1,message:`Failed to fetch products for category ID: ${e}`,error:t instanceof Error?t.message:"Unknown error"})}finally{s(!1)}})(l.id),disabled:r,className:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[(0,Oe.jsx)(js,{className:"w-4 h-4 mr-2"}),"Test Get Category Products"]}),(0,Oe.jsxs)("button",{onClick:()=>(async e=>{try{s(!0);const t=await Le.categoriesAPI.getPopularProducts(e);g(t.popular_products),o(t.category),f({success:!0,message:`Found ${t.popular_products.length} popular products in category "${t.category.name}"`,data:t})}catch(t){f({success:!1,message:`Failed to fetch popular products for category ID: ${e}`,error:t instanceof Error?t.message:"Unknown error"})}finally{s(!1)}})(l.id),disabled:r,className:"w-full flex items-center justify-center px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 disabled:opacity-50",children:[(0,Oe.jsx)(Ut,{className:"w-4 h-4 mr-2"}),"Test Get Popular Products"]}),(0,Oe.jsxs)("button",{onClick:()=>(async e=>{try{s(!0);const t=await Le.categoriesAPI.getBySlug(e);o(t),f({success:!0,message:`Successfully fetched category: ${t.name}`,data:t})}catch(t){f({success:!1,message:`Failed to fetch category with slug: ${e}`,error:t instanceof Error?t.message:"Unknown error"})}finally{s(!1)}})(l.slug),disabled:r,className:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[(0,Oe.jsx)(Qe,{className:"w-4 h-4 mr-2"}),"Test Get Category by Slug"]})]})]})]})]}),(0,Oe.jsxs)("div",{className:"space-y-6",children:[(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Test Results"}),(0,Oe.jsx)("button",{onClick:()=>{i([])},className:"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"Clear"})]}),(0,Oe.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:0===n.length?(0,Oe.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No test results yet. Run some tests to see results here."}):n.map((e,t)=>(0,Oe.jsx)("div",{className:"p-3 rounded-lg border "+(e.success?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"),children:(0,Oe.jsxs)("div",{className:"flex items-start",children:[e.success?(0,Oe.jsx)(We,{className:"w-5 h-5 text-green-500 mt-0.5 mr-2"}):(0,Oe.jsx)(ch,{className:"w-5 h-5 text-red-500 mt-0.5 mr-2"}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium "+(e.success?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"),children:e.message}),e.error&&(0,Oe.jsxs)("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:["Error: ",e.error]}),e.data&&(0,Oe.jsxs)("details",{className:"mt-2",children:[(0,Oe.jsx)("summary",{className:"text-xs text-gray-500 dark:text-gray-400 cursor-pointer",children:"View Response Data"}),(0,Oe.jsx)("pre",{className:"text-xs bg-gray-100 dark:bg-gray-700 p-2 rounded mt-1 overflow-x-auto",children:JSON.stringify(e.data,null,2)})]})]})]})},t))})]}),x&&(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Category Statistics"}),(0,Oe.jsxs)("div",{className:"space-y-3",children:[(0,Oe.jsxs)("div",{className:"text-center p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,Oe.jsx)("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:x.total_categories}),(0,Oe.jsx)("div",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Total Categories"})]}),(0,Oe.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:x.categories.map(e=>(0,Oe.jsxs)("div",{className:"flex items-center justify-between p-2 border border-gray-200 dark:border-gray-700 rounded",children:[(0,Oe.jsx)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name}),(0,Oe.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.product_count," products"]})]},e.id))})]})]}),u.length>0&&(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Category Products (",u.length,")"]}),(0,Oe.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:u.map(e=>(0,Oe.jsxs)("div",{className:"p-2 border border-gray-200 dark:border-gray-700 rounded",children:[(0,Oe.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),(0,Oe.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["$",e.price," \u2022 Stock: ",e.quantity]})]},e.productId))})]}),m.length>0&&(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Popular Products (",m.length,")"]}),(0,Oe.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:m.map(e=>(0,Oe.jsxs)("div",{className:"p-2 border border-gray-200 dark:border-gray-700 rounded bg-yellow-50 dark:bg-yellow-900/20",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsx)("div",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),(0,Oe.jsx)(Ut,{className:"w-4 h-4 text-yellow-500"})]}),(0,Oe.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["$",e.price," \u2022 Stock: ",e.quantity]})]},e.productId))})]})]})]})]})})},Rh=()=>{const[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)([]),[n,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(0),[u,h]=(0,a.useState)({recipient:"",content:""}),m=e=>{o(t=>[e,...t.slice(0,9)])},g=(0,a.useCallback)(async()=>{try{i(!0);const e=await Le.messagesAPI.getConversations();t(e),m({success:!0,message:`Successfully fetched ${e.length} conversations`,data:e})}catch(e){m({success:!1,message:"Failed to fetch conversations",error:e instanceof Error?e.message:"Unknown error"})}finally{i(!1)}},[]),x=async()=>{try{i(!0);const e=await Le.messagesAPI.getUnreadCount();d(e),m({success:!0,message:`Unread messages count: ${e}`,data:{unread_count:e}})}catch(e){m({success:!1,message:"Failed to fetch unread count",error:e instanceof Error?e.message:"Unknown error"})}finally{i(!1)}};return(0,a.useEffect)(()=>{g(),x()},[g]),(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Oe.jsxs)("div",{className:"mb-8",children:[(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Messages API Testing Dashboard"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Test all messaging-related API endpoints and monitor results"})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Oe.jsxs)("div",{className:"space-y-6",children:[(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"API Test Controls"}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("button",{onClick:g,disabled:n,className:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[(0,Oe.jsx)(Pt,{className:"w-4 h-4 mr-2"}),"Test Get Conversations"]}),(0,Oe.jsxs)("button",{onClick:x,disabled:n,className:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[(0,Oe.jsx)(js,{className:"w-4 h-4 mr-2"}),"Test Get Unread Count"]}),(0,Oe.jsxs)("button",{onClick:async()=>{try{i(!0),await Le.messagesAPI.markAllAsRead(),m({success:!0,message:"All messages marked as read"}),await x()}catch(e){m({success:!1,message:"Failed to mark all messages as read",error:e instanceof Error?e.message:"Unknown error"})}finally{i(!1)}},disabled:n,className:"w-full flex items-center justify-center px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50",children:[(0,Oe.jsx)(bt,{className:"w-4 h-4 mr-2"}),"Test Mark All as Read"]}),(0,Oe.jsxs)("button",{onClick:()=>{g(),x()},disabled:n,className:"w-full flex items-center justify-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50",children:[(0,Oe.jsx)(va,{className:"w-4 h-4 mr-2"}),"Refresh Data"]})]})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Send Message"}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Recipient User ID *"}),(0,Oe.jsx)("input",{type:"number",value:u.recipient,onChange:e=>h(t=>({...t,recipient:e.target.value})),placeholder:"Enter recipient user ID",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Message Content *"}),(0,Oe.jsx)("textarea",{value:u.content,onChange:e=>h(t=>({...t,content:e.target.value})),placeholder:"Enter your message...",rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,Oe.jsxs)("button",{onClick:async()=>{if(u.recipient&&u.content)try{i(!0);const e={recipient:parseInt(u.recipient),content:u.content},t=await Le.messagesAPI.send(e);m({success:!0,message:`Message sent successfully to user ${e.recipient}`,data:t}),h({recipient:"",content:""}),await g(),await x()}catch(e){m({success:!1,message:"Failed to send message",error:e instanceof Error?e.message:"Unknown error"})}finally{i(!1)}else m({success:!1,message:"Recipient and content are required",error:"Please fill in all required fields"})},disabled:n||!u.recipient||!u.content,className:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[(0,Oe.jsx)(ct,{className:"w-4 h-4 mr-2"}),"Test Send Message"]})]})]})]}),(0,Oe.jsxs)("div",{className:"space-y-6",children:[(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Test Results"}),(0,Oe.jsx)("button",{onClick:()=>{o([])},className:"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"Clear"})]}),(0,Oe.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:0===l.length?(0,Oe.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No test results yet. Run some tests to see results here."}):l.map((e,t)=>(0,Oe.jsx)("div",{className:"p-3 rounded-lg border "+(e.success?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"),children:(0,Oe.jsxs)("div",{className:"flex items-start",children:[e.success?(0,Oe.jsx)(bt,{className:"w-5 h-5 text-green-500 mt-0.5 mr-2"}):(0,Oe.jsx)(ch,{className:"w-5 h-5 text-red-500 mt-0.5 mr-2"}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium "+(e.success?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"),children:e.message}),e.error&&(0,Oe.jsxs)("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:["Error: ",e.error]})]})]})},t))})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Unread Messages"}),(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400",children:c}),(0,Oe.jsx)("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Unread Messages"})]})]}),e.length>0&&(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Conversations (",e.length,")"]}),(0,Oe.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:e.map((e,t)=>{var r,s,a;return(0,Oe.jsxs)("div",{className:"p-3 border border-gray-200 dark:border-gray-700 rounded-lg",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Oe.jsxs)("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:[null===(r=e.user)||void 0===r?void 0:r.first_name," ",null===(s=e.user)||void 0===s?void 0:s.last_name]}),e.unread_count>0&&(0,Oe.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",children:e.unread_count})]}),(0,Oe.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:null===(a=e.latest_message)||void 0===a?void 0:a.content})]},t)})})]})]})]})]})})},Ih=()=>{const[e,t]=(0,a.useState)(null),[r,s]=(0,a.useState)(null),[n,i]=(0,a.useState)(null),[l,o]=(0,a.useState)(!1),[c,d]=(0,a.useState)([]),[u,h]=(0,a.useState)(!1),[m,g]=(0,a.useState)({bio:"",address:""}),[x,p]=(0,a.useState)(""),[f,y]=(0,a.useState)([]),[b,v]=(0,a.useState)(null);(0,a.useEffect)(()=>{const e=localStorage.getItem("access_token");h(!!e)},[]);const w=e=>{d(t=>[e,...t.slice(0,9)])},j=(0,a.useCallback)(async()=>{if(u)try{o(!0);const e=await Le.userProfileAPI.getMyProfile();t(e),g({bio:e.bio||"",address:e.address||""}),w({success:!0,message:"Successfully fetched user profile",data:e})}catch(e){w({success:!1,message:"Failed to fetch user profile",error:e instanceof Error?e.message:"Unknown error"})}finally{o(!1)}else w({success:!1,message:"Authentication required",error:"Please log in to access the API"})},[u]);(0,a.useEffect)(()=>{u&&j()},[u,j]);return(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto",children:[!u&&(0,Oe.jsx)("div",{className:"mb-6 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(Ms,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mr-3"}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Authentication Required"}),(0,Oe.jsx)("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"Please log in to access the UserProfile API testing features."}),(0,Oe.jsx)("div",{className:"mt-3",children:(0,Oe.jsx)("a",{href:"/login",className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-yellow-800 bg-yellow-100 hover:bg-yellow-200 dark:bg-yellow-800 dark:text-yellow-200 dark:hover:bg-yellow-700",children:"Go to Login"})})]})]})}),(0,Oe.jsxs)("div",{className:"mb-8",children:[(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"UserProfile API Testing Dashboard"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Test all UserProfile-related API endpoints and monitor results"})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Oe.jsxs)("div",{className:"space-y-6",children:[(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Basic Profile Tests"}),(0,Oe.jsxs)("div",{className:"space-y-3",children:[(0,Oe.jsxs)("button",{onClick:j,disabled:l||!u,className:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[(0,Oe.jsx)(rt,{className:"w-4 h-4 mr-2"}),"Get My Profile"]}),(0,Oe.jsxs)("button",{onClick:async()=>{if(u)try{o(!0);const e=await Le.userProfileAPI.getCompletionStatus();s(e),w({success:!0,message:"Successfully fetched completion status",data:e})}catch(e){w({success:!1,message:"Failed to fetch completion status",error:e instanceof Error?e.message:"Unknown error"})}finally{o(!1)}else w({success:!1,message:"Authentication required",error:"Please log in to access the API"})},disabled:l||!u,className:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[(0,Oe.jsx)(Ea,{className:"w-4 h-4 mr-2"}),"Get Completion Status"]}),(0,Oe.jsxs)("button",{onClick:async()=>{if(u)try{o(!0);const e=await Le.userProfileAPI.getUserStats();i(e),w({success:!0,message:"Successfully fetched user stats",data:e})}catch(e){w({success:!1,message:"Failed to fetch user stats",error:e instanceof Error?e.message:"Unknown error"})}finally{o(!1)}else w({success:!1,message:"Authentication required",error:"Please log in to access the API"})},disabled:l||!u,className:"w-full flex items-center justify-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:[(0,Oe.jsx)(Ot,{className:"w-4 h-4 mr-2"}),"Get User Stats"]})]})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Profile Update Tests"}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Bio"}),(0,Oe.jsx)("textarea",{value:m.bio,onChange:e=>g(t=>({...t,bio:e.target.value})),disabled:!u,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50",placeholder:"Enter bio..."})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Address"}),(0,Oe.jsx)("input",{type:"text",value:m.address,onChange:e=>g(t=>({...t,address:e.target.value})),disabled:!u,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50",placeholder:"Enter address..."})]}),(0,Oe.jsxs)("div",{className:"space-y-2",children:[(0,Oe.jsxs)("button",{onClick:async()=>{if(u)try{o(!0);const e=await Le.userProfileAPI.updateProfile(m);t(e),w({success:!0,message:"Successfully updated user profile",data:e})}catch(e){w({success:!1,message:"Failed to update user profile",error:e instanceof Error?e.message:"Unknown error"})}finally{o(!1)}else w({success:!1,message:"Authentication required",error:"Please log in to access the API"})},disabled:l||!u,className:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[(0,Oe.jsx)(da,{className:"w-4 h-4 mr-2"}),"Update Profile"]}),(0,Oe.jsxs)("button",{onClick:async()=>{if(u)try{o(!0);const e=await Le.userProfileAPI.updateBio(m.bio);t(e),w({success:!0,message:"Successfully updated bio",data:e})}catch(e){w({success:!1,message:"Failed to update bio",error:e instanceof Error?e.message:"Unknown error"})}finally{o(!1)}else w({success:!1,message:"Authentication required",error:"Please log in to access the API"})},disabled:l||!u,className:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[(0,Oe.jsx)(da,{className:"w-4 h-4 mr-2"}),"Update Bio Only"]}),(0,Oe.jsxs)("button",{onClick:async()=>{if(u)try{o(!0);const e=await Le.userProfileAPI.updateAddress(m.address);t(e),w({success:!0,message:"Successfully updated address",data:e})}catch(e){w({success:!1,message:"Failed to update address",error:e instanceof Error?e.message:"Unknown error"})}finally{o(!1)}else w({success:!1,message:"Authentication required",error:"Please log in to access the API"})},disabled:l||!u,className:"w-full flex items-center justify-center px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 disabled:opacity-50",children:[(0,Oe.jsx)(da,{className:"w-4 h-4 mr-2"}),"Update Address Only"]})]})]})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Avatar Tests"}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Select Image File"}),(0,Oe.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];r&&v(r)},disabled:!u,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50"})]}),(0,Oe.jsxs)("div",{className:"space-y-2",children:[(0,Oe.jsxs)("button",{onClick:async()=>{if(u)if(b)try{o(!0);const e=await Le.userProfileAPI.uploadAvatar(b);t(e),v(null),w({success:!0,message:"Successfully uploaded avatar",data:e})}catch(e){w({success:!1,message:"Failed to upload avatar",error:e instanceof Error?e.message:"Unknown error"})}finally{o(!1)}else w({success:!1,message:"No file selected",error:"Please select an image file to upload"});else w({success:!1,message:"Authentication required",error:"Please log in to access the API"})},disabled:l||!u||!b,className:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[(0,Oe.jsx)(Ds,{className:"w-4 h-4 mr-2"}),"Upload Avatar"]}),(0,Oe.jsxs)("button",{onClick:async()=>{if(u)try{o(!0);const e=await Le.userProfileAPI.removeAvatar();t(e),w({success:!0,message:"Successfully removed avatar",data:e})}catch(e){w({success:!1,message:"Failed to remove avatar",error:e instanceof Error?e.message:"Unknown error"})}finally{o(!1)}else w({success:!1,message:"Authentication required",error:"Please log in to access the API"})},disabled:l||!u,className:"w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:[(0,Oe.jsx)(ha,{className:"w-4 h-4 mr-2"}),"Remove Avatar"]})]})]})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Advanced Tests"}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Search Username"}),(0,Oe.jsxs)("div",{className:"flex space-x-2",children:[(0,Oe.jsx)("input",{type:"text",value:x,onChange:e=>p(e.target.value),disabled:!u,className:"flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50",placeholder:"Enter username..."}),(0,Oe.jsx)("button",{onClick:async()=>{if(u)if(x.trim())try{o(!0);const e=await Le.userProfileAPI.searchUsers(x);y(e),w({success:!0,message:`Successfully searched for users with "${x}"`,data:e})}catch(e){w({success:!1,message:"Failed to search users",error:e instanceof Error?e.message:"Unknown error"})}finally{o(!1)}else w({success:!1,message:"Username required",error:"Please enter a username to search"});else w({success:!1,message:"Authentication required",error:"Please log in to access the API"})},disabled:l||!u,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:(0,Oe.jsx)(Ct,{className:"w-4 h-4"})})]})]}),(0,Oe.jsxs)("button",{onClick:async()=>{if(u)try{o(!0);const e=await Le.userProfileAPI.toggleShopownerStatus();t(e.profile),w({success:!0,message:e.message||"Successfully toggled shopowner status",data:e})}catch(e){w({success:!1,message:"Failed to toggle shopowner status",error:e instanceof Error?e.message:"Unknown error"})}finally{o(!1)}else w({success:!1,message:"Authentication required",error:"Please log in to access the API"})},disabled:l||!u,className:"w-full flex items-center justify-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:[(0,Oe.jsx)(ut,{className:"w-4 h-4 mr-2"}),"Toggle Shopowner Status"]})]})]})]}),(0,Oe.jsxs)("div",{className:"space-y-6",children:[(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Test Results"}),(0,Oe.jsx)("button",{onClick:()=>{d([])},className:"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"Clear"})]}),(0,Oe.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:0===c.length?(0,Oe.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No test results yet. Run some tests to see results here."}):c.map((e,t)=>(0,Oe.jsx)("div",{className:"p-3 rounded-lg border "+(e.success?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"),children:(0,Oe.jsxs)("div",{className:"flex items-start",children:[e.success?(0,Oe.jsx)(bt,{className:"w-5 h-5 text-green-500 mt-0.5 mr-2"}):(0,Oe.jsx)(qe,{className:"w-5 h-5 text-red-500 mt-0.5 mr-2"}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium "+(e.success?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"),children:e.message}),e.error&&(0,Oe.jsxs)("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:["Error: ",e.error]}),e.data&&(0,Oe.jsxs)("details",{className:"mt-2",children:[(0,Oe.jsx)("summary",{className:"text-xs text-gray-500 dark:text-gray-400 cursor-pointer",children:"View Response Data"}),(0,Oe.jsx)("pre",{className:"text-xs bg-gray-100 dark:bg-gray-700 p-2 rounded mt-1 overflow-x-auto",children:JSON.stringify(e.data,null,2)})]})]})]})},t))})]}),e&&(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Current Profile"}),(0,Oe.jsxs)("div",{className:"space-y-3",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-3",children:[e.avatar?(0,Oe.jsx)("img",{src:e.avatar,alt:"Profile Avatar",className:"w-12 h-12 rounded-full object-cover"}):(0,Oe.jsx)("div",{className:"w-12 h-12 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center",children:(0,Oe.jsx)(rt,{className:"w-6 h-6 text-gray-400"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsxs)("p",{className:"font-medium text-gray-900 dark:text-white",children:[e.first_name," ",e.last_name]}),(0,Oe.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["@",e.username]}),(0,Oe.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:e.email})]})]}),(0,Oe.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Bio:"})," ",e.bio||"No bio"]}),(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Address:"})," ",e.address||"No address"]}),(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Shop Owner:"})," ",e.is_shopowner?"Yes":"No"]})]})]})]}),r&&(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Completion Status"}),(0,Oe.jsxs)("div",{className:"space-y-3",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Oe.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[r.completion_percentage,"% Complete"]}),(0,Oe.jsxs)("span",{className:"text-sm text-gray-500",children:[r.completed_fields,"/",r.total_fields]})]}),(0,Oe.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:(0,Oe.jsx)("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${r.completion_percentage}%`}})})]}),r.missing_fields.length>0&&(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Missing Fields:"}),(0,Oe.jsx)("ul",{className:"space-y-1",children:r.missing_fields.map(e=>(0,Oe.jsxs)("li",{className:"text-sm text-gray-600 dark:text-gray-400 flex items-center",children:[(0,Oe.jsx)(qe,{className:"w-3 h-3 text-red-500 mr-2"}),e.charAt(0).toUpperCase()+e.slice(1)]},e))})]})]})]}),n&&(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"User Statistics"}),(0,Oe.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,Oe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Orders"}),(0,Oe.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:n.order_count})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Reviews"}),(0,Oe.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:n.review_count})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Wishlist Items"}),(0,Oe.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:n.wishlist_count})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Shops"}),(0,Oe.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:n.shop_count})]})]}),(0,Oe.jsxs)("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:[(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Profile Created"}),(0,Oe.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:new Date(n.profile_created).toLocaleDateString()})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Last Login"}),(0,Oe.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:new Date(n.last_login).toLocaleDateString()})]})]})]}),f.length>0&&(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Search Results"}),(0,Oe.jsx)("div",{className:"space-y-3",children:f.map((e,t)=>(0,Oe.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[e.avatar?(0,Oe.jsx)("img",{src:e.avatar,alt:"User Avatar",className:"w-10 h-10 rounded-full object-cover"}):(0,Oe.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-600 flex items-center justify-center",children:(0,Oe.jsx)(rt,{className:"w-5 h-5 text-gray-400"})}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsxs)("p",{className:"font-medium text-gray-900 dark:text-white",children:[e.first_name," ",e.last_name]}),(0,Oe.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["@",e.username]})]})]},t))})]})]})]})]})})},Oh=()=>{const[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)([]),[n,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)([]),[c,d]=(0,a.useState)(!1),[u,h]=(0,a.useState)({product:"",name:"",value:"",price_adjustment:0,quantity:0}),[m,g]=(0,a.useState)(""),[x,p]=(0,a.useState)(null);(0,a.useEffect)(()=>{const e=localStorage.getItem("access_token");d(!!e)},[]);const f=e=>{o(t=>[e,...t.slice(0,9)])},y=(0,a.useCallback)(async()=>{if(c)try{i(!0);const e=await Le.productVariantsAPI.getAll();t(e),f({success:!0,message:`Successfully fetched ${e.length} variants`,data:e})}catch(e){f({success:!1,message:"Failed to fetch variants",error:e instanceof Error?e.message:"Unknown error"})}finally{i(!1)}else f({success:!1,message:"Authentication required",error:"Please log in to access the API"})},[c]),b=async()=>{if(c)try{i(!0);const e=await Le.productVariantsAPI.getMyProductVariants();t(e),f({success:!0,message:`Successfully fetched ${e.length} of your product variants`,data:e})}catch(e){f({success:!1,message:"Failed to fetch my product variants",error:e instanceof Error?e.message:"Unknown error"})}finally{i(!1)}else f({success:!1,message:"Authentication required",error:"Please log in to access the API"})},v=(0,a.useCallback)(async()=>{try{const e=await Le.productsAPI.getMyProducts();s(e)}catch(e){console.error("Failed to fetch products:",e)}},[]);return(0,a.useEffect)(()=>{c&&(b(),v())},[c,b,v]),(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto",children:[!c&&(0,Oe.jsx)("div",{className:"mb-6 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(Ms,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 mr-3"}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"Authentication Required"}),(0,Oe.jsx)("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mt-1",children:"Please log in to access the ProductVariants API testing features."}),(0,Oe.jsx)("div",{className:"mt-3",children:(0,Oe.jsx)("a",{href:"/login",className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-yellow-800 bg-yellow-100 hover:bg-yellow-200 dark:bg-yellow-800 dark:text-yellow-200 dark:hover:bg-yellow-700",children:"Go to Login"})})]})]})}),(0,Oe.jsxs)("div",{className:"mb-8",children:[(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"ProductVariants API Testing Dashboard"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Test all ProductVariants-related API endpoints and monitor results"})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,Oe.jsxs)("div",{className:"space-y-6",children:[(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Basic Tests"}),(0,Oe.jsxs)("div",{className:"space-y-3",children:[(0,Oe.jsxs)("button",{onClick:y,disabled:n||!c,className:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[(0,Oe.jsx)(Dt,{className:"w-4 h-4 mr-2"}),"Get All Variants"]}),(0,Oe.jsxs)("button",{onClick:b,disabled:n||!c,className:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[(0,Oe.jsx)(Dt,{className:"w-4 h-4 mr-2"}),"Get My Product Variants"]}),(0,Oe.jsxs)("button",{onClick:async()=>{if(c)try{i(!0);const e=await Le.productVariantsAPI.getStats();p(e),f({success:!0,message:"Successfully fetched variant statistics",data:e})}catch(e){f({success:!1,message:"Failed to fetch variant stats",error:e instanceof Error?e.message:"Unknown error"})}finally{i(!1)}else f({success:!1,message:"Authentication required",error:"Please log in to access the API"})},disabled:n||!c,className:"w-full flex items-center justify-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:[(0,Oe.jsx)(Ot,{className:"w-4 h-4 mr-2"}),"Get Variant Stats"]})]})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Stock Management Tests"}),(0,Oe.jsxs)("div",{className:"space-y-3",children:[(0,Oe.jsxs)("button",{onClick:async()=>{if(c)try{i(!0);const e=await Le.productVariantsAPI.getLowStock();f({success:!0,message:`Found ${e.length} variants with low stock`,data:e})}catch(e){f({success:!1,message:"Failed to fetch low stock variants",error:e instanceof Error?e.message:"Unknown error"})}finally{i(!1)}else f({success:!1,message:"Authentication required",error:"Please log in to access the API"})},disabled:n||!c,className:"w-full flex items-center justify-center px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 disabled:opacity-50",children:[(0,Oe.jsx)(Ms,{className:"w-4 h-4 mr-2"}),"Get Low Stock Variants"]}),(0,Oe.jsxs)("button",{onClick:async()=>{if(c)try{i(!0);const e=await Le.productVariantsAPI.getOutOfStock();f({success:!0,message:`Found ${e.length} variants out of stock`,data:e})}catch(e){f({success:!1,message:"Failed to fetch out of stock variants",error:e instanceof Error?e.message:"Unknown error"})}finally{i(!1)}else f({success:!1,message:"Authentication required",error:"Please log in to access the API"})},disabled:n||!c,className:"w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:[(0,Oe.jsx)(qe,{className:"w-4 h-4 mr-2"}),"Get Out of Stock Variants"]}),(0,Oe.jsxs)("button",{onClick:async()=>{if(!c)return void f({success:!1,message:"Authentication required",error:"Please log in to access the API"});if(0===e.length)return void f({success:!1,message:"No variants available",error:"Please fetch variants first"});const r=e[0],s=r.quantity+1;try{i(!0);const e=await Le.productVariantsAPI.updateQuantity(r.id,s);t(t=>t.map(t=>t.id===r.id?e:t)),f({success:!0,message:`Successfully updated variant quantity to ${s}`,data:e})}catch(a){f({success:!1,message:"Failed to update variant quantity",error:a instanceof Error?a.message:"Unknown error"})}finally{i(!1)}},disabled:n||!c,className:"w-full flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[(0,Oe.jsx)(da,{className:"w-4 h-4 mr-2"}),"Update Variant Quantity"]}),(0,Oe.jsxs)("button",{onClick:async()=>{if(!c)return void f({success:!1,message:"Authentication required",error:"Please log in to access the API"});if(0===e.length)return void f({success:!1,message:"No variants available",error:"Please fetch variants first"});const r=e[0],s=r.price_adjustment+1;try{i(!0);const e=await Le.productVariantsAPI.updatePriceAdjustment(r.id,s);t(t=>t.map(t=>t.id===r.id?e:t)),f({success:!0,message:`Successfully updated variant price adjustment to ${s}`,data:e})}catch(a){f({success:!1,message:"Failed to update variant price adjustment",error:a instanceof Error?a.message:"Unknown error"})}finally{i(!1)}},disabled:n||!c,className:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[(0,Oe.jsx)(da,{className:"w-4 h-4 mr-2"}),"Update Price Adjustment"]})]})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Product-specific Tests"}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Select Product"}),(0,Oe.jsxs)("select",{value:m,onChange:e=>g(e.target.value),disabled:!c,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50",children:[(0,Oe.jsx)("option",{value:"",children:"Select a product"}),r.map(e=>(0,Oe.jsx)("option",{value:e.productId,children:e.name},e.productId))]})]}),(0,Oe.jsxs)("button",{onClick:async()=>{if(c)if(m)try{i(!0);const e=await Le.productVariantsAPI.getByProduct(m);f({success:!0,message:`Successfully fetched ${e.length} variants for product`,data:e})}catch(e){f({success:!1,message:"Failed to fetch variants by product",error:e instanceof Error?e.message:"Unknown error"})}finally{i(!1)}else f({success:!1,message:"Product ID required",error:"Please select a product first"});else f({success:!1,message:"Authentication required",error:"Please log in to access the API"})},disabled:n||!c||!m,className:"w-full flex items-center justify-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:[(0,Oe.jsx)(Ct,{className:"w-4 h-4 mr-2"}),"Get Variants by Product"]})]})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"CRUD Operations"}),(0,Oe.jsxs)("div",{className:"space-y-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Product"}),(0,Oe.jsxs)("select",{value:u.product,onChange:e=>h(t=>({...t,product:e.target.value})),disabled:!c,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50",children:[(0,Oe.jsx)("option",{value:"",children:"Select a product"}),r.map(e=>(0,Oe.jsx)("option",{value:e.productId,children:e.name},e.productId))]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Variant Name"}),(0,Oe.jsx)("input",{type:"text",value:u.name,onChange:e=>h(t=>({...t,name:e.target.value})),disabled:!c,placeholder:"e.g., Size",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Variant Value"}),(0,Oe.jsx)("input",{type:"text",value:u.value,onChange:e=>h(t=>({...t,value:e.target.value})),disabled:!c,placeholder:"e.g., Large",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50"})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Price Adjustment"}),(0,Oe.jsx)("input",{type:"number",step:"0.01",value:u.price_adjustment,onChange:e=>h(t=>({...t,price_adjustment:parseFloat(e.target.value)||0})),disabled:!c,placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Quantity"}),(0,Oe.jsx)("input",{type:"number",min:"0",value:u.quantity,onChange:e=>h(t=>({...t,quantity:parseInt(e.target.value)||0})),disabled:!c,placeholder:"0",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white disabled:opacity-50"})]})]}),(0,Oe.jsxs)("div",{className:"space-y-2",children:[(0,Oe.jsxs)("button",{onClick:async()=>{if(c)if(u.product&&u.name&&u.value)try{i(!0);const e=r.find(e=>e.productId===u.product);if(!e)throw new Error("Selected product not found");const s={product:e.productId,name:u.name,value:u.value,price_adjustment:u.price_adjustment,quantity:u.quantity},a=await Le.productVariantsAPI.create(s);t(e=>[...e,a]),f({success:!0,message:"Successfully created variant",data:a}),h({product:"",name:"",value:"",price_adjustment:0,quantity:0})}catch(e){f({success:!1,message:"Failed to create variant",error:e instanceof Error?e.message:"Unknown error"})}finally{i(!1)}else f({success:!1,message:"Missing required fields",error:"Please fill in product, name, and value fields"});else f({success:!1,message:"Authentication required",error:"Please log in to access the API"})},disabled:n||!c||!u.product||!u.name||!u.value,className:"w-full flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50",children:[(0,Oe.jsx)(wt,{className:"w-4 h-4 mr-2"}),"Create Variant"]}),(0,Oe.jsxs)("button",{onClick:async()=>{if(!c)return void f({success:!1,message:"Authentication required",error:"Please log in to access the API"});if(0===e.length)return void f({success:!1,message:"No variants available",error:"Please fetch variants first"});const r=e[0];try{i(!0),await Le.productVariantsAPI.delete(r.id),t(e=>e.filter(e=>e.id!==r.id)),f({success:!0,message:"Successfully deleted variant",data:{deleted_id:r.id}})}catch(s){f({success:!1,message:"Failed to delete variant",error:s instanceof Error?s.message:"Unknown error"})}finally{i(!1)}},disabled:n||!c||0===e.length,className:"w-full flex items-center justify-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:[(0,Oe.jsx)(ha,{className:"w-4 h-4 mr-2"}),"Delete First Variant"]})]})]})]})]}),(0,Oe.jsxs)("div",{className:"space-y-6",children:[(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Test Results"}),(0,Oe.jsx)("button",{onClick:()=>{o([])},className:"text-sm text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:"Clear"})]}),(0,Oe.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:0===l.length?(0,Oe.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-center py-4",children:"No test results yet. Run some tests to see results here."}):l.map((e,t)=>(0,Oe.jsx)("div",{className:"p-3 rounded-lg border "+(e.success?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"),children:(0,Oe.jsxs)("div",{className:"flex items-start",children:[e.success?(0,Oe.jsx)(bt,{className:"w-5 h-5 text-green-500 mt-0.5 mr-2"}):(0,Oe.jsx)(qe,{className:"w-5 h-5 text-red-500 mt-0.5 mr-2"}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("p",{className:"text-sm font-medium "+(e.success?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"),children:e.message}),e.error&&(0,Oe.jsxs)("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:["Error: ",e.error]}),e.data&&(0,Oe.jsxs)("details",{className:"mt-2",children:[(0,Oe.jsx)("summary",{className:"text-xs text-gray-500 dark:text-gray-400 cursor-pointer",children:"View Response Data"}),(0,Oe.jsx)("pre",{className:"text-xs bg-gray-100 dark:bg-gray-700 p-2 rounded mt-1 overflow-x-auto",children:JSON.stringify(e.data,null,2)})]})]})]})},t))})]}),e.length>0&&(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Current Variants (",e.length,")"]}),(0,Oe.jsxs)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[e.slice(0,5).map(e=>(0,Oe.jsx)("div",{className:"p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:e.product.name}),(0,Oe.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[e.name,": ",e.value]}),(0,Oe.jsxs)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Qty: ",e.quantity," | Price Adj: $",e.price_adjustment]})]}),(0,Oe.jsxs)("div",{className:"text-right",children:[(0,Oe.jsxs)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:["$",e.total_price]}),0===e.quantity?(0,Oe.jsx)("span",{className:"text-xs text-red-600 dark:text-red-400",children:"Out of Stock"}):e.quantity<=5?(0,Oe.jsx)("span",{className:"text-xs text-yellow-600 dark:text-yellow-400",children:"Low Stock"}):(0,Oe.jsx)("span",{className:"text-xs text-green-600 dark:text-green-400",children:"In Stock"})]})]})},e.id)),e.length>5&&(0,Oe.jsxs)("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center",children:["Showing first 5 of ",e.length," variants"]})]})]}),x&&(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6",children:[(0,Oe.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Variant Statistics"}),(0,Oe.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,Oe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Total Variants"}),(0,Oe.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:x.total_variants})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Total Quantity"}),(0,Oe.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:x.total_quantity})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Low Stock"}),(0,Oe.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:x.low_stock_count})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Out of Stock"}),(0,Oe.jsx)("p",{className:"font-medium text-gray-900 dark:text-white",children:x.out_of_stock_count})]})]}),x.variants_by_name&&x.variants_by_name.length>0&&(0,Oe.jsxs)("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700",children:[(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400 mb-2",children:"Variants by Name:"}),(0,Oe.jsx)("div",{className:"space-y-1",children:x.variants_by_name.map((e,t)=>(0,Oe.jsxs)("div",{className:"flex justify-between text-xs",children:[(0,Oe.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:e.name}),(0,Oe.jsx)("span",{className:"font-medium text-gray-900 dark:text-white",children:e.count})]},t))})]})]})]})]})]})]})})},Th=()=>{const[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(!1),[n,i]=(0,a.useState)([]),[l,o]=(0,a.useState)(null),c=e=>{t(t=>[...t,{...e,timestamp:(new Date).toISOString()}])},d=(0,a.useCallback)(async()=>{s(!0);try{const e=await Le.reviewsAPI.getAll();i(e),c({success:!0,message:`Successfully fetched ${e.length} reviews`,data:e})}catch(e){c({success:!1,message:"Failed to fetch all reviews",error:e instanceof Error?e.message:"Unknown error"})}finally{s(!1)}},[]),u=(0,a.useCallback)(async()=>{s(!0);try{const e=await Le.reviewsAPI.getMyReviews();c({success:!0,message:`Successfully fetched ${e.length} of your reviews`,data:e})}catch(e){c({success:!1,message:"Failed to fetch your reviews",error:e instanceof Error?e.message:"Unknown error"})}finally{s(!1)}},[]),h=(0,a.useCallback)(async()=>{s(!0);try{var e;const t=n.length>0&&null!==(e=n[0].product)&&void 0!==e&&e.productId?n[0].product.productId:"test-product-id",r=await Le.reviewsAPI.getByProduct(t);c({success:!0,message:`Successfully fetched ${r.length} reviews for product ${t}`,data:r})}catch(t){c({success:!1,message:"Failed to fetch reviews by product",error:t instanceof Error?t.message:"Unknown error"})}finally{s(!1)}},[n]),m=(0,a.useCallback)(async()=>{s(!0);try{var e;const t=n.length>0&&null!==(e=n[0].shop)&&void 0!==e&&e.shopId?n[0].shop.shopId:"test-shop-id",r=await Le.reviewsAPI.getByShop(t);c({success:!0,message:`Successfully fetched ${r.length} reviews for shop ${t}`,data:r})}catch(t){c({success:!1,message:"Failed to fetch reviews by shop",error:t instanceof Error?t.message:"Unknown error"})}finally{s(!1)}},[n]),g=(0,a.useCallback)(async()=>{s(!0);try{const e=await Le.reviewsAPI.getStats({});o(e),c({success:!0,message:"Successfully fetched review statistics",data:e})}catch(e){c({success:!1,message:"Failed to fetch review statistics",error:e instanceof Error?e.message:"Unknown error"})}finally{s(!1)}},[]),x=(0,a.useCallback)(async()=>{s(!0);try{const e={product:"test-product-id",rating:5,comment:"This is a test review created via API test"},t=await Le.reviewsAPI.create(e);c({success:!0,message:"Successfully created test review",data:t}),d()}catch(e){c({success:!1,message:"Failed to create test review",error:e instanceof Error?e.message:"Unknown error"})}finally{s(!1)}},[d]),p=(0,a.useCallback)(async()=>{if(0!==n.length){s(!0);try{const e=n[0],t={rating:4,comment:"This review was updated via API test"},r=await Le.reviewsAPI.update(e.id,t);c({success:!0,message:`Successfully updated review ${e.id}`,data:r}),d()}catch(e){c({success:!1,message:"Failed to update review",error:e instanceof Error?e.message:"Unknown error"})}finally{s(!1)}}else c({success:!1,message:"No reviews available to update",error:"Please create a review first"})},[n,d]),f=(0,a.useCallback)(async()=>{if(0!==n.length){s(!0);try{const e=n[0],t=await Le.reviewsAPI.markHelpful(e.id);c({success:!0,message:`Successfully marked review ${e.id} as helpful`,data:t}),d()}catch(e){c({success:!1,message:"Failed to mark review as helpful",error:e instanceof Error?e.message:"Unknown error"})}finally{s(!1)}}else c({success:!1,message:"No reviews available to mark as helpful",error:"Please create a review first"})},[n,d]),y=(0,a.useCallback)(async()=>{if(0!==n.length){s(!0);try{const e=n[0];await Le.reviewsAPI.delete(e.id),c({success:!0,message:`Successfully deleted review ${e.id}`}),d()}catch(e){c({success:!1,message:"Failed to delete review",error:e instanceof Error?e.message:"Unknown error"})}finally{s(!1)}}else c({success:!1,message:"No reviews available to delete",error:"Please create a review first"})},[n,d]),b=(0,a.useCallback)(async()=>{s(!0);try{const e=await Le.reviewsAPI.getPendingModeration();c({success:!0,message:`Successfully fetched ${e.length} reviews pending moderation`,data:e})}catch(e){c({success:!1,message:"Failed to fetch pending moderation reviews",error:e instanceof Error?e.message:"Unknown error"})}finally{s(!1)}},[]);return(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Oe.jsxs)("div",{className:"mb-8",children:[(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Reviews API Test"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Test all Reviews API endpoints"})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:[(0,Oe.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,Oe.jsx)("button",{onClick:d,disabled:r,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:"Get All Reviews"}),(0,Oe.jsx)("button",{onClick:u,disabled:r,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:"Get My Reviews"}),(0,Oe.jsx)("button",{onClick:h,disabled:r,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:opacity-50",children:"Get Reviews by Product"}),(0,Oe.jsx)("button",{onClick:m,disabled:r,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:"Get Reviews by Shop"}),(0,Oe.jsx)("button",{onClick:g,disabled:r,className:"px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 disabled:opacity-50",children:"Get Review Stats"}),(0,Oe.jsx)("button",{onClick:x,disabled:r,className:"px-4 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700 disabled:opacity-50",children:"Create Test Review"}),(0,Oe.jsx)("button",{onClick:p,disabled:r,className:"px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 disabled:opacity-50",children:"Update Review"}),(0,Oe.jsx)("button",{onClick:f,disabled:r,className:"px-4 py-2 bg-pink-600 text-white rounded-md hover:bg-pink-700 disabled:opacity-50",children:"Mark Helpful"}),(0,Oe.jsx)("button",{onClick:y,disabled:r,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",children:"Delete Review"}),(0,Oe.jsx)("button",{onClick:b,disabled:r,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 disabled:opacity-50",children:"Pending Moderation"}),(0,Oe.jsx)("button",{onClick:()=>{t([])},className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"Clear Results"})]}),r&&(0,Oe.jsxs)("div",{className:"mt-4 flex items-center justify-center",children:[(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),(0,Oe.jsx)("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:"Loading..."})]})]}),l&&(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Review Statistics"}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:l.total_reviews}),(0,Oe.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Reviews"})]}),(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"text-2xl font-bold text-green-600",children:l.average_rating}),(0,Oe.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Average Rating"})]}),(0,Oe.jsxs)("div",{className:"text-center",children:[(0,Oe.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:Object.values(l.rating_distribution).reduce((e,t)=>e+t,0).toString()}),(0,Oe.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Ratings"})]})]})]}),n.length>0&&(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:[(0,Oe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Recent Reviews (",n.length,")"]}),(0,Oe.jsx)("div",{className:"space-y-4",children:n.slice(0,3).map(e=>{return(0,Oe.jsxs)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-4",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.first_name," ",e.last_name]}),(0,Oe.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(e.created_at).toLocaleDateString()})]}),(0,Oe.jsx)("div",{className:"flex items-center space-x-1",children:(t=e.rating,Array.from({length:5},(e,r)=>(0,Oe.jsx)(Ut,{className:"h-4 w-4 "+(r<t?"text-yellow-400 fill-current":"text-gray-300")},r)))})]}),e.comment&&(0,Oe.jsx)("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:e.comment}),(0,Oe.jsxs)("div",{className:"mt-2 flex items-center space-x-4 text-xs text-gray-500 dark:text-gray-400",children:[(0,Oe.jsxs)("span",{children:["Type: ",e.review_type]}),(0,Oe.jsxs)("span",{children:["Helpful: ",e.helpful_count]}),(0,Oe.jsxs)("span",{children:["Status: ",e.status]})]})]},e.id);var t})})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[(0,Oe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Test Results (",e.length,")"]}),(0,Oe.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.map((e,t)=>(0,Oe.jsx)("div",{className:"p-3 rounded-lg border "+(e.success?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"),children:(0,Oe.jsxs)("div",{className:"flex items-start space-x-2",children:[e.success?(0,Oe.jsx)(We,{className:"h-5 w-5 text-green-600 dark:text-green-400 mt-0.5"}):(0,Oe.jsx)(ch,{className:"h-5 w-5 text-red-600 dark:text-red-400 mt-0.5"}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("p",{className:"font-medium "+(e.success?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"),children:e.message}),e.error&&(0,Oe.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:e.error}),e.data&&(0,Oe.jsxs)("details",{className:"mt-2",children:[(0,Oe.jsx)("summary",{className:"text-sm text-gray-600 dark:text-gray-400 cursor-pointer",children:"View Data"}),(0,Oe.jsx)("pre",{className:"mt-2 text-xs bg-gray-100 dark:bg-gray-700 p-2 rounded overflow-auto",children:JSON.stringify(e.data,null,2)})]})]})]})},t))})]})]})})},Mh=()=>{const[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(!1),[n,i]=(0,a.useState)(null),[l,o]=(0,a.useState)("test-product-id"),c=e=>{t(t=>[...t,{...e,timestamp:(new Date).toISOString()}])},d=(0,a.useCallback)(async()=>{s(!0);try{const e=await Le.wishlistAPI.getMyWishlist();i(e),c({success:!0,message:`Successfully fetched wishlist with ${e.products.length} products`,data:e})}catch(e){c({success:!1,message:"Failed to fetch wishlist",error:e instanceof Error?e.message:"Unknown error"})}finally{s(!1)}},[]),u=(0,a.useCallback)(async()=>{s(!0);try{const e=await Le.wishlistAPI.create();i(e),c({success:!0,message:"Successfully created wishlist",data:e})}catch(e){c({success:!1,message:"Failed to create wishlist",error:e instanceof Error?e.message:"Unknown error"})}finally{s(!1)}},[]),h=(0,a.useCallback)(async()=>{if(n){s(!0);try{const e=await Le.wishlistAPI.addProduct(l);c({success:!0,message:`Successfully added product ${l} to wishlist`,data:e}),d()}catch(e){c({success:!1,message:"Failed to add product to wishlist",error:e instanceof Error?e.message:"Unknown error"})}finally{s(!1)}}else c({success:!1,message:"No wishlist available",error:"Please create or fetch a wishlist first"})},[n,l,d]),m=(0,a.useCallback)(async()=>{if(n)if(0!==n.products.length){s(!0);try{const e=n.products[0],t=await Le.wishlistAPI.removeProduct(e.productId);c({success:!0,message:`Successfully removed product ${e.productId} from wishlist`,data:t}),d()}catch(e){c({success:!1,message:"Failed to remove product from wishlist",error:e instanceof Error?e.message:"Unknown error"})}finally{s(!1)}}else c({success:!1,message:"No products in wishlist",error:"Please add a product to wishlist first"});else c({success:!1,message:"No wishlist available",error:"Please create or fetch a wishlist first"})},[n,d]),g=(0,a.useCallback)(async()=>{if(n){s(!0);try{const t=["product-1","product-2","product-3"];let r=0;for(const s of t)try{await Le.wishlistAPI.addProduct(s),r++}catch(e){console.log(`Failed to add product ${s}:`,e)}c({success:r>0,message:`Successfully added ${r} out of ${t.length} products to wishlist`,data:{successCount:r,totalProducts:t.length}}),d()}catch(e){c({success:!1,message:"Failed to add multiple products to wishlist",error:e instanceof Error?e.message:"Unknown error"})}finally{s(!1)}}else c({success:!1,message:"No wishlist available",error:"Please create or fetch a wishlist first"})},[n,d]),x=(0,a.useCallback)(async()=>{if(n)if(0!==n.products.length){s(!0);try{const t=[...n.products];let r=0;for(const s of t)try{await Le.wishlistAPI.removeProduct(s.productId),r++}catch(e){console.log(`Failed to remove product ${s.productId}:`,e)}c({success:r>0,message:`Successfully removed ${r} out of ${t.length} products from wishlist`,data:{successCount:r,totalProducts:t.length}}),d()}catch(e){c({success:!1,message:"Failed to clear wishlist",error:e instanceof Error?e.message:"Unknown error"})}finally{s(!1)}}else c({success:!1,message:"Wishlist is already empty",error:"No products to remove"});else c({success:!1,message:"No wishlist available",error:"Please create or fetch a wishlist first"})},[n,d]),p=(0,a.useCallback)(async()=>{s(!0);try{let t;c({success:!0,message:"Starting comprehensive wishlist test workflow",data:{step:"workflow_start"}});try{t=await Le.wishlistAPI.getMyWishlist(),c({success:!0,message:"Retrieved existing wishlist",data:{productsCount:t.products.length}})}catch(e){t=await Le.wishlistAPI.create(),c({success:!0,message:"Created new wishlist",data:{productsCount:0}})}const r=["test-product-1","test-product-2"];for(const n of r)try{await Le.wishlistAPI.addProduct(n),c({success:!0,message:`Added product ${n} to wishlist`,data:{productId:n}})}catch(e){c({success:!1,message:`Failed to add product ${n}`,error:e instanceof Error?e.message:"Unknown error"})}const s=await Le.wishlistAPI.getMyWishlist();if(c({success:!0,message:`Wishlist now contains ${s.products.length} products`,data:{productsCount:s.products.length}}),s.products.length>0){const e=s.products[0];await Le.wishlistAPI.removeProduct(e.productId),c({success:!0,message:`Removed product ${e.productId} from wishlist`,data:{productId:e.productId}})}const a=await Le.wishlistAPI.getMyWishlist();c({success:!0,message:`Workflow completed. Final wishlist has ${a.products.length} products`,data:{finalProductsCount:a.products.length}}),i(a)}catch(e){c({success:!1,message:"Workflow test failed",error:e instanceof Error?e.message:"Unknown error"})}finally{s(!1)}},[]);return(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Oe.jsxs)("div",{className:"mb-8",children:[(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Wishlist API Test"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Test all Wishlist API endpoints"})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:[(0,Oe.jsxs)("div",{className:"flex flex-wrap gap-3 mb-4",children:[(0,Oe.jsx)("button",{onClick:d,disabled:r,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:"Get My Wishlist"}),(0,Oe.jsx)("button",{onClick:u,disabled:r,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:"Create Wishlist"}),(0,Oe.jsx)("button",{onClick:h,disabled:r,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:opacity-50",children:"Add Product"}),(0,Oe.jsx)("button",{onClick:m,disabled:r,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",children:"Remove Product"}),(0,Oe.jsx)("button",{onClick:g,disabled:r,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:"Add Multiple Products"}),(0,Oe.jsx)("button",{onClick:x,disabled:r,className:"px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 disabled:opacity-50",children:"Clear Wishlist"}),(0,Oe.jsx)("button",{onClick:p,disabled:r,className:"px-4 py-2 bg-teal-600 text-white rounded-md hover:bg-teal-700 disabled:opacity-50",children:"Test Workflow"}),(0,Oe.jsx)("button",{onClick:()=>{t([])},className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"Clear Results"})]}),(0,Oe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Oe.jsx)("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Test Product ID:"}),(0,Oe.jsx)("input",{type:"text",value:l,onChange:e=>o(e.target.value),className:"px-3 py-1 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter product ID"})]}),r&&(0,Oe.jsxs)("div",{className:"mt-4 flex items-center justify-center",children:[(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),(0,Oe.jsx)("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:"Loading..."})]})]}),n&&(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:[(0,Oe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Current Wishlist (",n.products.length," products)"]}),n.products.length>0?(0,Oe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.products.map(e=>(0,Oe.jsx)("div",{className:"border border-gray-200 dark:border-gray-700 rounded-lg p-3",children:(0,Oe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),(0,Oe.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["ID: ",e.productId]}),(0,Oe.jsxs)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Price: $",e.price]})]}),(0,Oe.jsx)(Rt,{className:"h-5 w-5 text-red-500"})]})},e.productId))}):(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"No products in wishlist"})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[(0,Oe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Test Results (",e.length,")"]}),(0,Oe.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.map((e,t)=>(0,Oe.jsx)("div",{className:"p-3 rounded-lg border "+(e.success?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"),children:(0,Oe.jsxs)("div",{className:"flex items-start space-x-2",children:[e.success?(0,Oe.jsx)(We,{className:"h-5 w-5 text-green-600 dark:text-green-400 mt-0.5"}):(0,Oe.jsx)(ch,{className:"h-5 w-5 text-red-600 dark:text-red-400 mt-0.5"}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("p",{className:"font-medium "+(e.success?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"),children:e.message}),e.error&&(0,Oe.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:e.error}),e.data&&(0,Oe.jsxs)("details",{className:"mt-2",children:[(0,Oe.jsx)("summary",{className:"text-sm text-gray-600 dark:text-gray-400 cursor-pointer",children:"View Data"}),(0,Oe.jsx)("pre",{className:"mt-2 text-xs bg-gray-100 dark:bg-gray-700 p-2 rounded overflow-auto",children:JSON.stringify(e.data,null,2)})]})]})]})},t))})]})]})})},Lh=()=>{const[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(!1),[n,i]=(0,a.useState)([]),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)({order_id:1,amount:99.99,payment_method:"credit_card",transaction_id:"test-txn-"+Date.now(),status:"pending",notes:"Test payment created via API"}),u=e=>{t(t=>[...t,{...e,timestamp:(new Date).toISOString()}])},h=(0,a.useCallback)(async()=>{s(!0);try{const e=await Le.paymentsAPI.getAll();i(e),u({success:!0,message:`Successfully fetched ${e.length} payments`,data:e})}catch(e){u({success:!1,message:"Failed to fetch payments",error:e instanceof Error?e.message:"Unknown error"})}finally{s(!1)}},[]),m=(0,a.useCallback)(async()=>{s(!0);try{const e=await Le.paymentsAPI.create(c);u({success:!0,message:`Successfully created payment with ID ${e.id}`,data:e}),h()}catch(e){u({success:!1,message:"Failed to create payment",error:e instanceof Error?e.message:"Unknown error"})}finally{s(!1)}},[c,h]),g=(0,a.useCallback)(async()=>{if(l){s(!0);try{const e="pending"===l.status?"completed":"pending",t=await Le.paymentsAPI.updateStatus(l.id,e);u({success:!0,message:`Successfully updated payment ${l.id} status to ${e}`,data:t}),h()}catch(e){u({success:!1,message:"Failed to update payment status",error:e instanceof Error?e.message:"Unknown error"})}finally{s(!1)}}else u({success:!1,message:"No payment selected",error:"Please select a payment first"})},[l,h]),x=(0,a.useCallback)(async()=>{if(l){s(!0);try{const e=await Le.paymentsAPI.getById(l.id);u({success:!0,message:`Successfully fetched payment ${l.id}`,data:e})}catch(e){u({success:!1,message:"Failed to fetch payment by ID",error:e instanceof Error?e.message:"Unknown error"})}finally{s(!1)}}else u({success:!1,message:"No payment selected",error:"Please select a payment first"})},[l]),p=(0,a.useCallback)(async()=>{s(!0);try{const t=[{order_id:1,amount:49.99,payment_method:"credit_card",transaction_id:"test-txn-1-"+Date.now(),status:"completed",notes:"Test payment 1"},{order_id:2,amount:29.99,payment_method:"debit_card",transaction_id:"test-txn-2-"+Date.now(),status:"pending",notes:"Test payment 2"},{order_id:3,amount:79.99,payment_method:"bank_transfer",transaction_id:"test-txn-3-"+Date.now(),status:"failed",notes:"Test payment 3"}];let r=0;for(const s of t)try{await Le.paymentsAPI.create(s),r++}catch(e){console.log("Failed to create payment:",e)}u({success:r>0,message:`Successfully created ${r} out of ${t.length} payments`,data:{successCount:r,totalPayments:t.length}}),h()}catch(e){u({success:!1,message:"Failed to create multiple payments",error:e instanceof Error?e.message:"Unknown error"})}finally{s(!1)}},[h]),f=(0,a.useCallback)(async()=>{s(!0);try{u({success:!0,message:"Starting comprehensive payment test workflow",data:{step:"workflow_start"}});const e={order_id:999,amount:199.99,payment_method:"credit_card",transaction_id:"workflow-txn-"+Date.now(),status:"pending",notes:"Workflow test payment"},t=await Le.paymentsAPI.create(e);u({success:!0,message:`Created payment with ID ${t.id}`,data:{paymentId:t.id}});const r=await Le.paymentsAPI.getById(t.id);u({success:!0,message:`Successfully fetched payment ${t.id}`,data:{paymentId:r.id,status:r.status}});const s=await Le.paymentsAPI.updateStatus(t.id,"completed");u({success:!0,message:`Successfully updated payment ${t.id} status to completed`,data:{paymentId:s.id,status:s.status}});const a=await Le.paymentsAPI.getAll();u({success:!0,message:`Workflow completed. Total payments: ${a.length}`,data:{totalPayments:a.length}}),i(a)}catch(e){u({success:!1,message:"Workflow test failed",error:e instanceof Error?e.message:"Unknown error"})}finally{s(!1)}},[]),y=e=>{switch(e.toLowerCase()){case"completed":return(0,Oe.jsx)(We,{className:"h-5 w-5 text-green-500"});case"pending":return(0,Oe.jsx)(pa,{className:"h-5 w-5 text-yellow-500"});case"failed":return(0,Oe.jsx)(ch,{className:"h-5 w-5 text-red-500"});case"cancelled":return(0,Oe.jsx)(ch,{className:"h-5 w-5 text-gray-500"});default:return(0,Oe.jsx)(Ms,{className:"h-5 w-5 text-orange-500"})}},b=e=>{switch(e.toLowerCase()){case"completed":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"cancelled":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";default:return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200"}};return(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,Oe.jsxs)("div",{className:"mb-8",children:[(0,Oe.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Payments API Test"}),(0,Oe.jsx)("p",{className:"text-gray-600 dark:text-gray-400",children:"Test all Payments API endpoints"})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:[(0,Oe.jsxs)("div",{className:"flex flex-wrap gap-3 mb-4",children:[(0,Oe.jsx)("button",{onClick:h,disabled:r,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:"Get My Payments"}),(0,Oe.jsx)("button",{onClick:m,disabled:r,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50",children:"Create Payment"}),(0,Oe.jsx)("button",{onClick:g,disabled:r||!l,className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:opacity-50",children:"Update Status"}),(0,Oe.jsx)("button",{onClick:x,disabled:r||!l,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 disabled:opacity-50",children:"Get by ID"}),(0,Oe.jsx)("button",{onClick:p,disabled:r,className:"px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 disabled:opacity-50",children:"Create Multiple"}),(0,Oe.jsx)("button",{onClick:f,disabled:r,className:"px-4 py-2 bg-teal-600 text-white rounded-md hover:bg-teal-700 disabled:opacity-50",children:"Test Workflow"}),(0,Oe.jsx)("button",{onClick:()=>{t([])},className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600",children:"Clear Results"})]}),(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Order ID"}),(0,Oe.jsx)("input",{type:"number",value:c.order_id,onChange:e=>d(t=>({...t,order_id:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Amount"}),(0,Oe.jsx)("input",{type:"number",step:"0.01",value:c.amount,onChange:e=>d(t=>({...t,amount:parseFloat(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Payment Method"}),(0,Oe.jsxs)("select",{value:c.payment_method,onChange:e=>d(t=>({...t,payment_method:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,Oe.jsx)("option",{value:"credit_card",children:"Credit Card"}),(0,Oe.jsx)("option",{value:"debit_card",children:"Debit Card"}),(0,Oe.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"}),(0,Oe.jsx)("option",{value:"mobile_money",children:"Mobile Money"})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Status"}),(0,Oe.jsxs)("select",{value:c.status,onChange:e=>d(t=>({...t,status:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[(0,Oe.jsx)("option",{value:"pending",children:"Pending"}),(0,Oe.jsx)("option",{value:"completed",children:"Completed"}),(0,Oe.jsx)("option",{value:"failed",children:"Failed"}),(0,Oe.jsx)("option",{value:"cancelled",children:"Cancelled"})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Transaction ID"}),(0,Oe.jsx)("input",{type:"text",value:c.transaction_id,onChange:e=>d(t=>({...t,transaction_id:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes"}),(0,Oe.jsx)("input",{type:"text",value:c.notes,onChange:e=>d(t=>({...t,notes:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),r&&(0,Oe.jsxs)("div",{className:"mt-4 flex items-center justify-center",children:[(0,Oe.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),(0,Oe.jsx)("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-400",children:"Loading..."})]})]}),n.length>0&&(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 mb-6",children:[(0,Oe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Current Payments (",n.length,")"]}),(0,Oe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(e=>{return(0,Oe.jsxs)("div",{className:"border rounded-lg p-3 cursor-pointer transition-colors "+((null===l||void 0===l?void 0:l.id)===e.id?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"border-gray-200 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600"),onClick:()=>o(e),children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Oe.jsxs)("h4",{className:"font-medium text-gray-900 dark:text-white",children:["Payment #",e.id]}),(0,Oe.jsxs)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${b(e.status)}`,children:[y(e.status),(0,Oe.jsx)("span",{className:"ml-1",children:e.status})]})]}),(0,Oe.jsxs)("div",{className:"space-y-1 text-sm text-gray-600 dark:text-gray-400",children:[(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(ya,{className:"h-4 w-4 mr-2"}),(0,Oe.jsx)("span",{className:"font-medium",children:(r=e.amount,new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(r))})]}),(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(Vt,{className:"h-4 w-4 mr-2"}),(0,Oe.jsx)("span",{children:e.payment_method.replace("_"," ").toUpperCase()})]}),(0,Oe.jsxs)("div",{className:"flex items-center",children:[(0,Oe.jsx)(uh,{className:"h-4 w-4 mr-2"}),(0,Oe.jsx)("span",{children:(t=e.created_at,new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]})]}),e.transaction_id&&(0,Oe.jsx)("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-500 font-mono",children:e.transaction_id})]},e.id);var t,r})})]}),(0,Oe.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6",children:[(0,Oe.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Test Results (",e.length,")"]}),(0,Oe.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:e.map((e,t)=>(0,Oe.jsx)("div",{className:"p-3 rounded-lg border "+(e.success?"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800":"bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800"),children:(0,Oe.jsxs)("div",{className:"flex items-start space-x-2",children:[e.success?(0,Oe.jsx)(We,{className:"h-5 w-5 text-green-600 dark:text-green-400 mt-0.5"}):(0,Oe.jsx)(ch,{className:"h-5 w-5 text-red-600 dark:text-red-400 mt-0.5"}),(0,Oe.jsxs)("div",{className:"flex-1",children:[(0,Oe.jsx)("p",{className:"font-medium "+(e.success?"text-green-800 dark:text-green-200":"text-red-800 dark:text-red-200"),children:e.message}),e.error&&(0,Oe.jsx)("p",{className:"text-sm text-red-600 dark:text-red-400 mt-1",children:e.error}),e.data&&(0,Oe.jsxs)("details",{className:"mt-2",children:[(0,Oe.jsx)("summary",{className:"text-sm text-gray-600 dark:text-gray-400 cursor-pointer",children:"View Data"}),(0,Oe.jsx)("pre",{className:"mt-2 text-xs bg-gray-100 dark:bg-gray-700 p-2 rounded overflow-auto",children:JSON.stringify(e.data,null,2)})]})]})]})},t))})]})]})})},Dh=()=>{var e;const{user:t,isAuthenticated:r}=Fe(),[s,n]=(0,a.useState)([]),[i,l]=(0,a.useState)(null),[o,c]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[h,m]=(0,a.useState)(!1),[g,x]=(0,a.useState)("categories"),[p,f]=(0,a.useState)(null),[y,b]=(0,a.useState)({name:"",description:"",tagline:"",business_type:"retail",category_id:1,email:"",phone_number:"",website:"",street_address:"",city:"",state_province:"",postal_code:"",country:"United States",allows_online_orders:!0,delivery_available:!0,pickup_available:!0}),v=async()=>{try{m(!0);const e=await fetch("http://127.0.0.1:8000/api/categories/");if(e.ok){const t=await e.json();n(t),f(null)}else f("Failed to fetch categories")}catch(e){f("Error connecting to API: "+e)}finally{m(!1)}},w=async()=>{try{m(!0);const e=await fetch("http://127.0.0.1:8000/api/shop-stats/");if(e.ok){const t=await e.json();l(t),f(null)}else f("Failed to fetch platform stats")}catch(e){f("Error connecting to API: "+e)}finally{m(!1)}},j=async()=>{try{m(!0);const e=await fetch("http://127.0.0.1:8000/api/shops/");if(e.ok){const t=await e.json();c(t.results||t),f(null)}else f("Failed to fetch shops")}catch(e){f("Error connecting to API: "+e)}finally{m(!1)}},k=async()=>{if(r)try{m(!0);const e=localStorage.getItem("access_token"),t=await fetch("http://127.0.0.1:8000/api/my-shops/",{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(t.ok){const e=await t.json();u(e.results||e),f(null)}else f("Failed to fetch user shops")}catch(e){f("Error connecting to API: "+e)}finally{m(!1)}};return(0,a.useEffect)(()=>{v(),w(),j()},[]),(0,a.useEffect)(()=>{r&&k()},[r]),(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,Oe.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,Oe.jsxs)("div",{className:"mb-8",children:[(0,Oe.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"\ud83c\udfea OneSoko Shop Identification System Test"}),(0,Oe.jsx)("p",{className:"text-lg text-gray-600",children:"Testing the comprehensive shop identification system with live API calls"}),(0,Oe.jsx)("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:(0,Oe.jsxs)("p",{className:"text-sm text-blue-700",children:[(0,Oe.jsx)("strong",{children:"User Status:"})," ",r?`Logged in as ${null===t||void 0===t?void 0:t.username}`:"Not logged in",r&&(0,Oe.jsxs)("span",{className:"ml-4",children:[(0,Oe.jsx)("strong",{children:"User Type:"})," ",null!==t&&void 0!==t&&null!==(e=t.profile)&&void 0!==e&&e.is_shopowner?"Shop Owner":"Regular User"]})]})})]}),p&&(0,Oe.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:(0,Oe.jsx)("p",{className:"text-red-700",children:p})}),(0,Oe.jsx)("div",{className:"mb-8",children:(0,Oe.jsx)("nav",{className:"flex space-x-8",children:["categories","statistics","shops","my-shops","create-shop"].map(e=>(0,Oe.jsx)("button",{onClick:()=>x(e),className:"px-4 py-2 font-medium text-sm rounded-lg "+(g===e?"bg-blue-600 text-white":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"),children:e.charAt(0).toUpperCase()+e.slice(1).replace("-"," ")},e))})}),h&&(0,Oe.jsx)("div",{className:"text-center py-8",children:(0,Oe.jsxs)("div",{className:"inline-flex items-center px-4 py-2 font-semibold leading-6 text-sm shadow rounded-md text-white bg-blue-500",children:[(0,Oe.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Oe.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Oe.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]})}),"categories"===g&&(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Business Categories"}),(0,Oe.jsx)("button",{onClick:v,className:"mb-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Refresh Categories"}),(0,Oe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(e=>(0,Oe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,Oe.jsxs)("div",{className:"flex items-center mb-3",children:[(0,Oe.jsx)("i",{className:`fas ${e.icon} text-2xl text-blue-600 mr-3`}),(0,Oe.jsx)("h3",{className:"text-lg font-semibold",children:e.name})]}),(0,Oe.jsx)("p",{className:"text-gray-600 mb-3",children:e.description}),(0,Oe.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,Oe.jsx)("span",{className:"px-2 py-1 rounded "+(e.is_active?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.is_active?"Active":"Inactive"}),(0,Oe.jsxs)("span",{className:"text-gray-500",children:["ID: ",e.id]})]})]},e.id))})]}),"statistics"===g&&(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Platform Statistics"}),(0,Oe.jsx)("button",{onClick:w,className:"mb-4 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:"Refresh Statistics"}),i&&(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-6",children:[(0,Oe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[(0,Oe.jsx)("h3",{className:"text-3xl font-bold text-blue-600",children:i.total_shops}),(0,Oe.jsx)("p",{className:"text-gray-600",children:"Total Shops"})]}),(0,Oe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[(0,Oe.jsx)("h3",{className:"text-3xl font-bold text-green-600",children:i.verified_shops}),(0,Oe.jsx)("p",{className:"text-gray-600",children:"Verified Shops"})]}),(0,Oe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[(0,Oe.jsx)("h3",{className:"text-3xl font-bold text-purple-600",children:i.total_categories}),(0,Oe.jsx)("p",{className:"text-gray-600",children:"Categories"})]}),(0,Oe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[(0,Oe.jsx)("h3",{className:"text-3xl font-bold text-orange-600",children:i.total_reviews}),(0,Oe.jsx)("p",{className:"text-gray-600",children:"Total Reviews"})]}),(0,Oe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md text-center",children:[(0,Oe.jsx)("h3",{className:"text-3xl font-bold text-yellow-600",children:i.average_rating.toFixed(1)}),(0,Oe.jsx)("p",{className:"text-gray-600",children:"Avg Rating"})]})]})]}),"shops"===g&&(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"All Shops"}),(0,Oe.jsx)("button",{onClick:j,className:"mb-4 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Refresh Shops"}),(0,Oe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(e=>(0,Oe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,Oe.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold",children:e.name}),(0,Oe.jsx)("span",{className:"px-2 py-1 text-xs rounded "+(e.is_verified?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"),children:e.verification_status})]}),e.tagline&&(0,Oe.jsx)("p",{className:"text-sm text-blue-600 italic mb-2",children:e.tagline}),(0,Oe.jsx)("p",{className:"text-gray-600 mb-3 text-sm",children:e.description}),(0,Oe.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Category:"})," ",e.category.name]}),(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Type:"})," ",e.business_type]}),(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Location:"})," ",e.city,", ",e.state_province]}),(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Email:"})," ",e.email]}),e.total_reviews>0&&(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Rating:"})," ",e.average_rating.toFixed(1)," (",e.total_reviews," reviews)"]}),(0,Oe.jsxs)("div",{className:"flex space-x-2 mt-3",children:[e.allows_online_orders&&(0,Oe.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs rounded",children:"Online Orders"}),e.delivery_available&&(0,Oe.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded",children:"Delivery"}),e.pickup_available&&(0,Oe.jsx)("span",{className:"px-2 py-1 bg-orange-100 text-orange-700 text-xs rounded",children:"Pickup"})]})]})]},e.id))})]}),"my-shops"===g&&(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"My Shops"}),r?(0,Oe.jsxs)(Oe.Fragment,{children:[(0,Oe.jsx)("button",{onClick:k,className:"mb-4 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Refresh My Shops"}),0===d.length?(0,Oe.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-6 text-center",children:(0,Oe.jsx)("p",{className:"text-gray-600",children:"You don't have any shops yet. Create your first shop!"})}):(0,Oe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:d.map(e=>(0,Oe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-indigo-500",children:[(0,Oe.jsx)("h3",{className:"text-lg font-semibold mb-2",children:e.name}),(0,Oe.jsx)("p",{className:"text-gray-600 mb-3",children:e.description}),(0,Oe.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Status:"})," ",e.verification_status]}),(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Category:"})," ",e.category.name]}),(0,Oe.jsxs)("p",{children:[(0,Oe.jsx)("strong",{children:"Created:"})," ",new Date(e.created_at).toLocaleDateString()]})]})]},e.id))})]}):(0,Oe.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:(0,Oe.jsx)("p",{className:"text-yellow-700",children:"Please log in to view your shops"})})]}),"create-shop"===g&&(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Create New Shop"}),r?(0,Oe.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,Oe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Shop Name *"}),(0,Oe.jsx)("input",{type:"text",value:y.name,onChange:e=>b({...y,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"My Awesome Shop"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tagline"}),(0,Oe.jsx)("input",{type:"text",value:y.tagline,onChange:e=>b({...y,tagline:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Your one-stop shop for..."})]}),(0,Oe.jsxs)("div",{className:"md:col-span-2",children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description *"}),(0,Oe.jsx)("textarea",{value:y.description,onChange:e=>b({...y,description:e.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Describe your shop and what you offer..."})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),(0,Oe.jsx)("select",{value:y.category_id,onChange:e=>b({...y,category_id:parseInt(e.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:s.map(e=>(0,Oe.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type"}),(0,Oe.jsxs)("select",{value:y.business_type,onChange:e=>b({...y,business_type:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Oe.jsx)("option",{value:"retail",children:"Retail"}),(0,Oe.jsx)("option",{value:"restaurant",children:"Restaurant"}),(0,Oe.jsx)("option",{value:"service",children:"Service"}),(0,Oe.jsx)("option",{value:"manufacturing",children:"Manufacturing"}),(0,Oe.jsx)("option",{value:"online",children:"Online Only"})]})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),(0,Oe.jsx)("input",{type:"email",value:y.email,onChange:e=>b({...y,email:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"shop@example.com"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,Oe.jsx)("input",{type:"tel",value:y.phone_number,onChange:e=>b({...y,phone_number:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"+1234567890"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),(0,Oe.jsx)("input",{type:"url",value:y.website,onChange:e=>b({...y,website:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"https://myshop.com"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address"}),(0,Oe.jsx)("input",{type:"text",value:y.street_address,onChange:e=>b({...y,street_address:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"123 Main Street"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),(0,Oe.jsx)("input",{type:"text",value:y.city,onChange:e=>b({...y,city:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"San Francisco"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State/Province"}),(0,Oe.jsx)("input",{type:"text",value:y.state_province,onChange:e=>b({...y,state_province:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"California"})]}),(0,Oe.jsxs)("div",{children:[(0,Oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code"}),(0,Oe.jsx)("input",{type:"text",value:y.postal_code,onChange:e=>b({...y,postal_code:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"94105"})]}),(0,Oe.jsxs)("div",{className:"md:col-span-2",children:[(0,Oe.jsx)("h4",{className:"font-medium text-gray-700 mb-3",children:"Shop Features"}),(0,Oe.jsxs)("div",{className:"space-y-2",children:[(0,Oe.jsxs)("label",{className:"flex items-center",children:[(0,Oe.jsx)("input",{type:"checkbox",checked:y.allows_online_orders,onChange:e=>b({...y,allows_online_orders:e.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,Oe.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Allow online orders"})]}),(0,Oe.jsxs)("label",{className:"flex items-center",children:[(0,Oe.jsx)("input",{type:"checkbox",checked:y.delivery_available,onChange:e=>b({...y,delivery_available:e.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,Oe.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Delivery available"})]}),(0,Oe.jsxs)("label",{className:"flex items-center",children:[(0,Oe.jsx)("input",{type:"checkbox",checked:y.pickup_available,onChange:e=>b({...y,pickup_available:e.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,Oe.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Pickup available"})]})]})]})]}),(0,Oe.jsx)("div",{className:"mt-6",children:(0,Oe.jsx)("button",{onClick:async()=>{if(r)try{m(!0);const e=localStorage.getItem("access_token"),t=y.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""),r=await fetch("http://127.0.0.1:8000/api/my-shops/",{method:"POST",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"},body:JSON.stringify({...y,slug:t})});if(r.ok){const e=await r.json();u([...d,e]),f(null),b({name:"",description:"",tagline:"",business_type:"retail",category_id:1,email:"",phone_number:"",website:"",street_address:"",city:"",state_province:"",postal_code:"",country:"United States",allows_online_orders:!0,delivery_available:!0,pickup_available:!0}),alert("Shop created successfully!")}else{const e=await r.json();f("Failed to create shop: "+JSON.stringify(e))}}catch(e){f("Error creating shop: "+e)}finally{m(!1)}else f("Please login to create a shop")},disabled:h||!y.name||!y.description||!y.email,className:"px-6 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:h?"Creating Shop...":"Create Shop"})})]}):(0,Oe.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:(0,Oe.jsx)("p",{className:"text-yellow-700",children:"Please log in to create a shop"})})]})]})})},Fh=()=>{const[e,t]=(0,a.useState)(!1),{isLoading:r}=Fe();return r?(0,Oe.jsx)(ze,{}):(0,Oe.jsx)("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:(0,Oe.jsxs)(Ce,{children:[(0,Oe.jsx)(Ye,{}),(0,Oe.jsxs)("div",{className:"flex h-screen",children:[(0,Oe.jsx)(qt,{isOpen:e,onClose:()=>t(!1)}),(0,Oe.jsxs)("div",{className:"flex-1 flex flex-col lg:ml-72",children:[(0,Oe.jsx)(kt,{onSidebarToggle:()=>t(!0)}),(0,Oe.jsx)("main",{className:"flex-1 overflow-y-auto p-3",children:(0,Oe.jsxs)(we,{children:[(0,Oe.jsx)(be,{path:"/",element:(0,Oe.jsx)(Ke,{children:(0,Oe.jsx)(Zt,{})})}),(0,Oe.jsx)(be,{path:"/login",element:(0,Oe.jsx)(Ve,{children:(0,Oe.jsx)(ks,{})})}),(0,Oe.jsx)(be,{path:"/register",element:(0,Oe.jsx)(Ve,{children:(0,Oe.jsx)(Ns,{})})}),(0,Oe.jsx)(be,{path:"/register-shop-owner",element:(0,Oe.jsx)(Ve,{children:(0,Oe.jsx)(Os,{})})}),(0,Oe.jsx)(be,{path:"/profile-setup",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(Fs,{})})}),(0,Oe.jsx)(be,{path:"/shops",element:(0,Oe.jsx)(Qs,{})}),(0,Oe.jsx)(be,{path:"/shop/:shopId",element:(0,Oe.jsx)(na,{})}),(0,Oe.jsx)(be,{path:"/create-shop",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(ia,{})})}),(0,Oe.jsx)(be,{path:"/shop-dashboard",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(Ta,{})})}),(0,Oe.jsx)(be,{path:"/categories",element:(0,Oe.jsx)(Da,{})}),(0,Oe.jsx)(be,{path:"/enterprise-categories",element:(0,Oe.jsx)(Gu,{})}),(0,Oe.jsx)(be,{path:"/enhanced-categories",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(th,{})})}),(0,Oe.jsx)(be,{path:"/advanced-search",element:(0,Oe.jsx)(rh,{})}),(0,Oe.jsx)(be,{path:"/messages",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(Zu,{})})}),(0,Oe.jsx)(be,{path:"/user-profile",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(Ju,{})})}),(0,Oe.jsx)(be,{path:"/product-variants",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(sh,{})})}),(0,Oe.jsx)(be,{path:"/reviews",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(ih,{})})}),(0,Oe.jsx)(be,{path:"/wishlist",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(lh,{})})}),(0,Oe.jsx)(be,{path:"/payments",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(hh,{})})}),(0,Oe.jsx)(be,{path:"/products",element:(0,Oe.jsx)(Ch,{})}),(0,Oe.jsx)(be,{path:"/cart",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(fh,{})})}),(0,Oe.jsx)(be,{path:"/orders",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(vh,{})})}),(0,Oe.jsx)(be,{path:"/checkout",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(jh,{})})}),(0,Oe.jsx)(be,{path:"/order/:orderId",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(kh,{})})}),(0,Oe.jsx)(be,{path:"/product/:productId",element:(0,Oe.jsx)(wh,{})}),(0,Oe.jsx)(be,{path:"/shop/orders",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(Nh,{})})}),(0,Oe.jsx)(be,{path:"/shop/products",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(sh,{})})}),(0,Oe.jsx)(be,{path:"/shop/analytics",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(Ta,{})})}),(0,Oe.jsx)(be,{path:"/shop/settings",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(Ta,{})})}),(0,Oe.jsx)(be,{path:"/shop/earnings",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(Ta,{})})}),(0,Oe.jsx)(be,{path:"/my-shops",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(Qs,{})})}),(0,Oe.jsx)(be,{path:"/profile",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(Ju,{})})}),(0,Oe.jsx)(be,{path:"/settings",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(Ju,{})})}),(0,Oe.jsx)(be,{path:"/notifications",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(Eh,{})})}),(0,Oe.jsx)(be,{path:"/shop-system-test",element:(0,Oe.jsx)(Dh,{})}),(0,Oe.jsx)(be,{path:"/order-api-test",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(Ph,{})})}),(0,Oe.jsx)(be,{path:"/categories-api-test",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(Ah,{})})}),(0,Oe.jsx)(be,{path:"/messages-api-test",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(Rh,{})})}),(0,Oe.jsx)(be,{path:"/user-profile-api-test",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(Ih,{})})}),(0,Oe.jsx)(be,{path:"/product-variants-api-test",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(Oh,{})})}),(0,Oe.jsx)(be,{path:"/reviews-api-test",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(Th,{})})}),(0,Oe.jsx)(be,{path:"/wishlist-api-test",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(Mh,{})})}),(0,Oe.jsx)(be,{path:"/payments-api-test",element:(0,Oe.jsx)(Be,{children:(0,Oe.jsx)(Lh,{})})})]})})]})]})]})})},Uh=()=>(0,Oe.jsx)(Me,{children:(0,Oe.jsx)(Ue,{children:(0,Oe.jsx)(Fh,{})})});i.createRoot(document.getElementById("root")).render((0,Oe.jsx)(a.StrictMode,{children:(0,Oe.jsx)(Uh,{})}))})();
//# sourceMappingURL=main.6355f5da.js.map